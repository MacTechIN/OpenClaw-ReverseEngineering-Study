# OpenClaw(Moltbot) Ìï¥Î∂ÄÌïô: Ï¥àÎ≥¥ÏûêÎ•º ÏúÑÌïú ÎßàÏù¥ÌÅ¨Î°ú Í∞ÄÏù¥Îìú
> **ÏûëÏÑ±Ïûê**: Sam LEE (Ïó¨Îü¨Î∂ÑÏùò Í∞úÎ∞ú ÏΩîÏπò)
### Ïù¥ Ï±ÖÏùò Ï≤†Ìïô
> **"Ïù¥Ìï¥ÎêòÏßÄ ÏïäÎäî Í∏∞Ïà†ÏùÄ Í∏∞Ïà†Ïù¥ ÏïÑÎãàÎã§."**

Î™®Îì† ÏΩîÎìúÎäî Ïö∞Î¶¨ÎÑ§ Ïù∏ÏÉù(ÌïôÍµê, ÏßÅÏû•, ÎèÑÎ°ú) Í∞ÄÏû• Í∞ÄÍπåÏö¥ Ï£ºÏ†úÏóê ÎπóÎåÄÏñ¥ ÏÑ§Î™ÖÌï©ÎãàÎã§. Í∏∞Ïà†Ï†Å Í∞úÎÖêÏù¥ ÎÇØÏÑ§Í≤å ÎäêÍª¥Ïßà ÎïåÎßàÎã§, Ïù¥ Ï±ÖÏùÄ Ïó¨Îü¨Î∂ÑÏùò ÏùºÏÉÅÏóêÏÑú ÏπúÏàôÌïú **ÏùÄÏú†(Metaphor)** Î≤ïÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏÑ§Î™ÖÌï† ÏòàÏ†ïÏûÖÎãàÎã§.

### 4Îã®Í≥Ñ Î∂ÑÏÑùÎ≤ï
Ïù¥ Ï±ÖÏùò Î™®Îì† ÏÑ§Î™ÖÏùÄ Îã§Ïùå 4Îã®Í≥Ñ(4-Step Analysis)Î•º Îî∞Î¶ÖÎãàÎã§:

1.  **ÏùÄÏú†(Metaphor)**: Ïö∞Î¶¨ Ï£ºÎ≥ÄÏùò ÏùµÏàôÌïú ÏÉÅÌô©(ÌïôÍµê, ÌöåÏÇ¨, Ïã†Ìò∏Ï≤¥Í≥Ñ Îì±)ÏúºÎ°ú Í∞úÎÖêÏùÑ Ïû°ÏäµÎãàÎã§.
2.  **Í∞úÎÖê(Concept)**: Ïã§Ï†ú Í∏∞Ïà† Ïö©Ïñ¥Î•º ÏâΩÍ≤å Ï†ïÏùòÌï©ÎãàÎã§.
3.  **ÏΩîÎìú(Code)**: Î™®Îì† ÏòàÏ†ú ÏΩîÎìúÎäî Ï£ºÏÑùÏùÑ Îã¨ÏïÑ Ïù¥Ìï¥Í∞Ä ÏâΩÎèÑÎ°ù Ìï©ÎãàÎã§.
4.  **Î∞∞Í≤Ω(Context)**: Ïôú Ïù¥ Í∏∞Ïà†ÏùÑ ÏÑ†ÌÉùÌñàÎäîÏßÄ, ÏóÖÍ≥ÑÏùò Îí∑Ïù¥ÏïºÍ∏∞Î•º Îì§Î†§ÎìúÎ¶ΩÎãàÎã§.

### ÎèÖÏûê ÎåÄÏÉÅ
Ïù¥ Ï±ÖÏùÄ ÏΩîÎî©Ïùò 'ÏΩî'ÏûêÎßå ÏïåÏïÑÎèÑ Ïù¥Ìï¥ÌïòÍ≥† Ïã∂Ïñ¥ ÌïòÎäî **Ïó¥Ï†ïÏ†ÅÏù∏ Ï¥àÏã¨Ïûê**Î•º ÏúÑÌïú Í≤ÉÏûÖÎãàÎã§. Ï†ÑÎ¨∏ Í∞úÎ∞úÏûêÍ∞Ä ÏïÑÎãàÎçîÎùºÎèÑ, Ï†ÑÍ≥µÏûêÍ∞Ä ÏïÑÎãàÎçîÎùºÎèÑ, Í∏∞Ïà†Ïùò ÏõêÎ¶¨Î•º ÍπäÏù¥ ÏûàÍ≤å Ïù¥Ìï¥ÌïòÍ≥† Ïã∂ÏùÄ Î∂ÑÏù¥ÎùºÎ©¥ ÎàÑÍµ¨ÎÇò ÌôòÏòÅÌï©ÎãàÎã§.

### Ï†ÄÏûêÏùò Ìé∏ÏßÄ: ÏúÑÍ∏∞Ïùò Ïã†ÏûÖ Í∞úÎ∞úÏûêÎì§ÏóêÍ≤å (Why Reverse Engineering?)

ÏµúÍ∑º IT ÏÇ∞ÏóÖÍ≥ÑÏóêÏÑúÎäî Ïã†ÏûÖ Í∞úÎ∞úÏûê Ï±ÑÏö©ÏùÑ Í∏∞ÌîºÌïòÎäî Í≤ΩÌñ•Ïù¥ ÎöúÎ†∑Ìï¥ÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Ïù∏Í≥µÏßÄÎä•Ïùò Îì±Ïû•ÏúºÎ°ú Í∞úÎ∞úÏûêÏùò Ïó≠Ìï†Ïù¥ Îã®Ïàú ÏΩîÎî©ÏóêÏÑú 'Í∏∞Ìöç¬∑ÏÑ§Í≥Ñ' Ï§ëÏã¨Ïùò Í∏∞ÌöçÍ∞úÎ∞úÎ°ú Ï†ÑÌôòÎêòÎäî Í∞ÄÏö¥Îç∞, Í∏∞ÏóÖÎì§ÏùÄ Í∏∞ÌöçÎ†•Í≥º Î¨∏Ï†ú Ìï¥Í≤∞ Îä•Î†•Ïù¥ Í≤ÄÏ¶ùÎêú Í≤ΩÎ†•ÏûêÎ•º ÏÑ†Ìò∏ÌïòÍ≤å Îêú Í≤ÉÏûÖÎãàÎã§. Ïù¥Îü¨Ìïú ÌòÑÏÉÅÏùÄ ÏóÖÍ≥ÑÏùò ÎãπÏó∞Ìïú ÏàòÏöî Î≥ÄÌôîÎ°ú ÏûêÎ¶¨ Ïû°ÏïòÏúºÎ©∞, IT ÏóÖÍ≥Ñ Ï†ÑÎ∞òÏúºÎ°ú Îπ†Î•¥Í≤å ÌôïÏÇ∞ÎêòÍ≥† ÏûàÎäî Ïã§Ï†ïÏûÖÎãàÎã§.

Ïù¥Ïóê ÌïÑÏûêÎäî Ïä§Ïä§Î°úÏóêÍ≤å Î¨ªÍ≤å ÎêòÏóàÏäµÎãàÎã§. **Ïã†ÏûÖ ÏÇ¨ÏõêÏùò Í≤ΩÌóò Î∂ÄÏû¨ÎùºÎäî Î¨∏ÌÑ±ÏùÑ Ïñ¥ÎñªÍ≤å ÌïòÎ©¥ Í∑πÎ≥µÌïòÍ≥†, Îã®Í∏∞Í∞ÑÏóê Í≤ΩÎ†•Ïûê ÏàòÏ§ÄÏùò Ïã§Ï†Ñ Ïó≠ÎüâÏùÑ Í∞ñÏ∂ú Ïàò ÏûàÏùÑÍπå?** Ïã§Ï†úÎ°ú ÏàòÎßéÏùÄ Ïã†ÏûÖ ÏßÄÏõêÏûêÎì§Ïùò Î©¥Ï†ëÍ≥º ÏΩîÎî© ÌÖåÏä§Ìä∏Î•º ÏßÑÌñâÌïòÎ©¥ÏÑú, Ïù¥Îì§Ïùò Ïñ¥Î†§ÏõÄÏóê ÍπäÏùÄ Í≥µÍ∞êÍ≥º ÏïàÌÉÄÍπåÏõÄÏùÑ ÎäêÍºàÏäµÎãàÎã§. Í≥ºÏó∞ Ïù¥Îì§ÏóêÍ≤å Ìù¨ÎßùÏ†ÅÏù∏ ÎåÄÏïàÏùÄ ÏóÜÎäî Í≤ÉÏùºÍπå.

ÌòÑÏã§ÏùÄ ÎçîÏö± ÎÖπÎ°ùÏßÄ ÏïäÏäµÎãàÎã§. Í∏∞ÏóÖÎì§ÏùÄ Ïù∏ÌÑ¥ Ï±ÑÏö©ÎßàÏ†Ä Ï∂ïÏÜåÌïòÍ≥† ÏûàÏñ¥, Ïã§Î¨¥ Í≤ΩÌóòÏùÑ ÏåìÏùÑ Ïàò ÏûàÎäî Í∏∞ÌöåÏ°∞Ï∞® Ï†êÏ∞® Ï¢ÅÏïÑÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Î∞îÎ°ú Ïù¥Îü¨Ìïú Íµ¨Ï°∞Ï†Å Î¨∏Ï†úÏùòÏãùÏóêÏÑú Î≥∏ÏÑúÎ•º Í∏∞ÌöçÌïòÍ≤å ÎêòÏóàÏäµÎãàÎã§.

ÌïÑÏûêÎäî Ïù¥ Ï±ÖÏùÑ ÌÜµÌï¥ Ï¥àÎ≥¥ Í∞úÎ∞úÏûê, Ïã†ÏûÖ ÏßÄÎßùÏÉù, Í∑∏Î¶¨Í≥† ÎπÑÏ†ÑÍ≥µÏûêÏù¥ÎÇò Í∞úÎ∞úÏóê ÎåÄÌïú Ïó¥Ï†ïÏùÑ ÌíàÏùÄ Î™®Îì† Ïù¥Îì§ÏóêÍ≤å **Í≤ΩÎ†•ÏûêÎì§Ïù¥ ÏàòÎÖÑÏóê Í±∏Ï≥ê Ï≤¥ÎìùÌïú Ïã§Ï†Ñ Í≤ΩÌóòÍ≥º ÎÖ∏ÌïòÏö∞Î•º ÏïïÏ∂ïÌïòÏó¨ Ï†ÑÎã¨**ÌïòÍ≥†Ïûê Ìï©ÎãàÎã§. Îã®ÏàúÌïú Ïù¥Î°†ÏÑúÍ∞Ä ÏïÑÎãå, ÌòÑÏû•ÏóêÏÑú ÎßàÏ£ºÌïòÎäî Î¨∏Ï†úÎì§ÏùÑ ÏßÅÏ†ë Ìï¥Í≤∞ÌïòÎ©∞ Î™∏ÏúºÎ°ú ÏùµÌûàÎäî **'ÏÑ†Î∞∞Ïùò ÎπÑÎ∞ÄÎÖ∏Ìä∏'** Î•º ÎßåÎì§Í≥† Ïã∂ÏóàÏäµÎãàÎã§. Í∑∏Î¶¨Í≥† Í∑∏ ÌïµÏã¨ Î∞©Î≤ïÎ°†ÏúºÎ°ú **Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅ(Reverse Engineering)** Ïù¥ÎùºÎäî Ïó≠Î∞úÏÉÅÏùò Ï†ëÍ∑ºÎ≤ïÏùÑ Ï†úÏãúÌïòÍ≥† Ïã∂ÏóàÏäµÎãàÎã§.

Ïù¥ÎØ∏ ÎßåÎì§Ïñ¥ÏßÑ ÏãúÏä§ÌÖúÏùÑ Î∂ÑÌï¥ÌïòÍ≥† Î∂ÑÏÑùÌï®ÏúºÎ°úÏç® ÏÑ§Í≥ÑÏûêÏùò ÏùòÎèÑÏôÄ Íµ¨Ï°∞Ï†Å ÏõêÎ¶¨Î•º Îπ†Î•¥Í≤å ÌååÏïÖÌïòÎäî Ïù¥ Î∞©Î≤ïÏùÄ, **Ïã†ÏûÖ Í∞úÎ∞úÏûêÍ∞Ä Îã®Í∏∞Í∞ÑÏóê Í≤ΩÎ†•Ïûê ÏàòÏ§ÄÏùò ÌÜµÏ∞∞Î†•ÏùÑ Í∞ñÏ∂ú Ïàò ÏûàÎäî Í∞ÄÏû• Ìö®Í≥ºÏ†ÅÏù∏ Í≤ΩÎ°ú**ÏûÖÎãàÎã§. Ïù¥ Ï±ÖÏù¥ Ïó¨Îü¨Î∂ÑÏùò Ïã§Î†• Ìñ•ÏÉÅÏóê Îì†Îì†Ìïú ÎèôÎ∞òÏûêÍ∞Ä ÎêòÍ∏∞Î•º Î∞îÎûçÎãàÎã§.

Ïª¥Ìì®ÌÑ∞Í≥µÌïô Ï†ÑÍ≥µÏûêÏù¥Îì† ÎπÑÏ†ÑÍ≥µÏûêÏù¥Îì†, Í∞úÎ∞úÏûêÏùò ÍøàÏùÑ ÌíàÏùÄ Î™®Îì† Î∂ÑÎì§Íªò ÏßÑÏã¨ Ïñ¥Î¶∞ ÏùëÏõêÏùò ÎßàÏùåÏùÑ Ï†ÑÌï©ÎãàÎã§. Ïñ¥Î†§Ïö¥ ÌôòÍ≤ΩÏùºÏàòÎ°ù Ïä§Ïä§Î°úÏùò ÏÑ±Ïû•ÏùÑ ÏúÑÌï¥ ÎÅäÏûÑÏóÜÏù¥ ÎÖ∏Î†•ÌïòÏãúÍ∏∏ Î∞îÎûçÎãàÎã§. ÌïÑÏûêÎäî Ïù¥ Ï±ÖÏùÑ ÌÜµÌï¥ Ïó¨Îü¨Î∂ÑÏùò ÎèÑÏ†ÑÏùÑ ÎÅùÍπåÏßÄ ÏßÄÏõêÌïòÍ≤†ÏäµÎãàÎã§. ÌûòÎÇ¥Ïã≠ÏãúÏò§.

**AI ÌòÅÎ™ÖÏùÄ Í≤∞ÏΩî Ïó¨Îü¨Î∂ÑÏùò ÏßÅÏóÖÏùÑ ÎπºÏïóÏïÑ Í∞ÄÏßÄ Î™ªÌï©ÎãàÎã§. ÎÅäÏûÑÏóÜÏù¥ ÏÉùÍ∏∞Îäî ÏÉàÎ°úÏö¥ Î¨∏Ï†úÎ•º Ìï¥Í≤∞Ìï¥ ÎÇòÍ∞ÄÎ†§Îäî Ïó¥Ï†ïÏùÄ Ïù∏Í≥µÏßÄÎä•ÏóêÍ≤åÎäî ÏóÜÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.** Ïù¥ Ï±ÖÏùÑ Î∞§ÏÉà ÌÉêÎèÖÌïòÎ©∞ Ïù∏Í≥µÏßÄÎä•ÏùÑ Ïó¨Îü¨Î∂ÑÏùò Í≤ÉÏúºÎ°ú ÎßåÎìúÎäî Í∑∏ÎÇ†ÍπåÏßÄ, Î≥∏ÏÑúÍ∞Ä Ï°∞Í∏àÏù¥ÎÇòÎßà Ïö©Í∏∞Í∞Ä ÎêòÍ∏∏ Í∏∞ÏõêÌï©ÎãàÎã§.

---

### [ÌîÑÎ°úÏ†ùÌä∏ ÏÜåÍ∞ú] OpenClaw(Moltbot) Í±¥Ï∂ï ÏùºÏßÄ

Ïù¥ Î¨∏ÏÑúÎäî **OpenClaw(Moltbot)** Ïù¥ÎùºÎäî 2026ÎÖÑ ÏãúÏûëÍ≥º Ìï®Íªò Î∂àÏñ¥Îã•Ïπú Í±∞ÎåÄÌïú ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ ÌååÏû•ÏùÑ **‚ÄúÎ∞ëÎ∞îÎã•Î∂ÄÌÑ∞(from scratch)‚Äù** Îã§Ïãú ÌååÌó§ÏπòÎäî Í≥ºÏ†ïÏùÑ Îã¥ÏùÄ Í±¥Ï∂ï ÏùºÏßÄÏûÖÎãàÎã§. Îã®ÏàúÌûà Ïù∏Í≥µÏßÄÎä•Ïù¥ ÏΩîÎìúÎ•º ÏÉùÏÑ±ÌïòÎäî Í≤ÉÎßå ‚ÄúÎ≥µÏÇ¨-Î∂ôÏó¨ÎÑ£Í∏∞‚Äù ÌïòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº, **‚ÄúÏôú Ïó¨Í∏∞Ïóê Í∏∞Îë•ÏùÑ ÏÑ∏Ïõ†ÏßÄ?‚Äù, ‚ÄúÏù¥ Î∞∞Í¥ÄÏùÄ Ïñ¥ÎîîÎ°ú Ïó∞Í≤∞ÎêòÏßÄ?‚Äù** Î•º ÏßëÏöîÌïòÍ≤å ÌååÌó§ÏπòÍ≥† ÏÇ¨Í≥†ÌïòÍ≥†Ïûê ÏûëÏÑ±ÎêòÏóàÏäµÎãàÎã§.

Ïù∏Í≥µÏßÄÎä• ÌòÅÎ™ÖÏùò Î¨ºÍ≤∞ ÏÜçÏóêÏÑú ÏΩîÎî©ÏùÄ Ï†ÑÌÜµÏ†ÅÏúºÎ°ú Ïù∏Í∞ÑÎßåÏùò Ï†ÑÏú†Î¨ºÏù¥ÏóàÎçò ÏãúÎåÄÎ•º ÏßÄÎÇò, Ïù¥Ï†úÎäî Ïù∏Í∞ÑÍ≥º Í∏∞Í≥ÑÍ∞Ä ÌòëÎ†•ÌïòÎäî ÏÉàÎ°úÏö¥ Ìå®Îü¨Îã§ÏûÑÏúºÎ°ú ÏßÑÌôîÌïòÍ≥† ÏûàÏäµÎãàÎã§. Í∑∏Îü¨ÎÇò Ïö∞Î¶¨Îäî Ìïú Í∞ÄÏßÄ Í∑ºÎ≥∏Ï†ÅÏù∏ ÏßÑÎ¶¨Î•º Í∞ÑÍ≥ºÌï¥ÏÑúÎäî Ïïà Îê©ÎãàÎã§. **ÌòÑÏ°¥ÌïòÎäî Î™®Îì† Ïù∏Í≥µÏßÄÎä• ÏãúÏä§ÌÖúÏù¥ Í∂ÅÍ∑πÏ†ÅÏúºÎ°úÎäî Ïù∏Í∞ÑÏùò ÏΩîÎìúÎ°ú Íµ¨ÌòÑÎêú ÏÇ∞Î¨ºÏù¥ÎùºÎäî ÏÇ¨Ïã§**ÏùÑ ÎßêÏûÖÎãàÎã§.

ÏΩîÎìúÏùò Ï†ïÌôïÌïú ÏùòÎØ∏ÏôÄ ÏûëÎèô ÏõêÎ¶¨Î•º Ïù¥Ìï¥ÌïòÏßÄ Î™ªÌïú Ï±Ñ, Ïù∏Í≥µÏßÄÎä•Ïù¥ ÏÉùÏÑ±ÌïòÎäî ÌôòÍ∞Å(hallucination)ÏùÑ ÎπÑÌåêÏ†ÅÏúºÎ°ú Í≤ÄÌÜ†ÌïòÏßÄ ÏïäÍ≥† ÏàòÏö©ÌïúÎã§Î©¥, Ïù¥Îäî Ïö∞Î¶¨ÏóêÍ≤å Ïû†Ïû¨Ï†Å ÏúÑÌóòÏù¥Ïûê Î∞òÎìúÏãú Í∑πÎ≥µÌï¥Ïïº Ìï† Ï§ëÎåÄÌïú Í≥ºÏ†úÍ∞Ä Îê† Í≤ÉÏûÖÎãàÎã§.

Î≥∏ÏÑúÎäî Ïù¥Îü¨Ìïú ÏãúÎåÄÏ†Å ÏÉÅÌô©ÏùÑ Ïù∏ÏãùÌïòÍ≥†, Ïù∏Í≥µÏßÄÎä•ÏùÑ Ìö®Í≥ºÏ†ÅÏù∏ ÌïôÏäµ ÎèÑÍµ¨Î°ú ÌôúÏö©ÌïòÏó¨ ÏΩîÎî©Ïùò Î≥∏ÏßàÏùÑ ÍπäÏù¥ ÏûàÍ≤å Ïù¥Ìï¥ÌïòÍ≥† **Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅ(1)** Ïó≠ÎüâÏùÑ Î∞∞ÏñëÌïòÍ≥†Ïûê ÌïòÎäî ÎèÖÏûêÎì§ÏùÑ ÏúÑÌïú Ïã§Ï†Ñ ÏßÄÏπ®ÏÑúÎ°ú Ï†úÏûëÌïòÏòÄÏäµÎãàÎã§.



---

### ‚òïÔ∏è [Ice Breaking] Í∞úÎ∞úÏûêÏùò ÏùºÏÉÅ, Í∑∏Î¶¨Í≥† 'Ïó∞Í≤∞'Ïùò Í≥†ÌÜµ

Í∏∞Ïà†Ï†ÅÏù∏ Ïù¥ÏïºÍ∏∞Î°ú ÎÑòÏñ¥Í∞ÄÍ∏∞ Ï†ÑÏóê, Ï†ú(Sam LEE) ÏòõÎÇ†Ïù¥ÏïºÍ∏∞Î•º ÌïòÎÇò Ìï¥ÎìúÎ¶¥Íπå Ìï©ÎãàÎã§.

Ï†úÍ∞Ä Í∞úÎ∞úÏûêÎ°ú Î∞•ÏùÑ Î®πÍ≥† ÏÇ∞ ÏßÄ Ïñ¥ÎäêÎçß 20ÎÖÑÏù¥ Îã§ ÎêòÏñ¥Í∞ëÎãàÎã§.
ÎßéÏùÄ Ïã†ÏûÖ Í∞úÎ∞úÏûêÎ∂ÑÎì§Ïù¥ Ï†ÄÏóêÍ≤å Î¨ªÏäµÎãàÎã§.
*"ÌåÄÏû•Îãò, Ïñ¥Îñ§ ÏïåÍ≥†Î¶¨Ï¶òÏùÑ Í≥µÎ∂ÄÌï¥Ïïº Í∞úÎ∞úÏùÑ ÏûòÌïòÎÇòÏöî?"*
*"ÏàòÌïôÏùÑ ÏûòÌï¥Ïïº ÏΩîÎî©ÏùÑ ÏûòÌïòÎÇòÏöî?"*

Í∑∏Îü¥ ÎïåÎßàÎã§ Ï†ÄÎäî ÏõÉÏúºÎ©∞ ÎåÄÎãµÌï©ÎãàÎã§.
**"Í∞úÎ∞ú ÏÉùÌôúÏùò 8Ìï†ÏùÄ 'ÏïåÍ≥†Î¶¨Ï¶ò'Ïù¥ ÏïÑÎãàÎùº 'ÎààÏπò'ÏôÄ 'ÌÜµÏó≠'Ïù¥ÎûÄÎã§."**

Ïã§Ï†úÎ°ú ÌòÑÏóÖÏóêÏÑú Í∞ÄÏû• Í≥®Ïπò ÏïÑÌîà Î¨∏Ï†úÎäî **'Ïñ¥Î†§Ïö¥ Î°úÏßÅ'** ÏùÑ ÏßúÎäî Í≤å ÏïÑÎãôÎãàÎã§.
Î∞îÎ°ú **'ÎßêÏù¥ Ïïà ÌÜµÌïòÎäî Îëê ÏãúÏä§ÌÖúÏùÑ Ïó∞Í≤∞ÌïòÎäî Í≤É'** ÏûÖÎãàÎã§.

*   Í∏∞ÌöçÌåÄÏùÄ "ÌïúÍµ≠Ïñ¥"Î°ú ÎßêÌïòÍ≥†, Í∞úÎ∞úÌåÄÏùÄ "Ïô∏Í≥ÑÏñ¥(Code)"Î°ú ÎßêÌï©ÎãàÎã§.
*   ÏòÜ Î∂ÄÏÑú ÍπÄ ÎåÄÎ¶¨ÎãòÏù¥ ÎßåÎì† ÏÑúÎ≤ÑÎäî `JSON`ÏùÑ Îã¨ÎùºÍ≥† ÌïòÎäîÎç∞, Ïö∞Î¶¨ ÌåÄ Î∞ï Í≥ºÏû•ÎãòÏù¥ ÎßåÎì† Ïï±ÏùÄ `XML`ÏùÑ ÎçòÏßëÎãàÎã§.
*   Ïù¥ ÏÇ¨Ïù¥ÏóêÏÑú **"ÏïÑÎãà, Í∑∏Í≤å ÏïÑÎãàÎùºÏöî..."** ÌïòÎ©∞ Ï§ëÍ∞Ñ Îã§Î¶¨Î•º ÎÜìÎäî Í≥ºÏ†ï. Í∑∏Í≤ÉÏù¥ Í∞úÎ∞úÏûêÍ∞Ä Í≤™Îäî Îß§ÏùºÎß§ÏùºÏùò Ïä§Ìä∏Î†àÏä§Ïù¥Ïûê, Í∞ÄÏû• Ï§ëÏöîÌïú ÏóÖÎ¨¥ÏûÖÎãàÎã§.

Ïö∞Î¶¨Í∞Ä ÏßÄÍ∏à ÎßåÎì§Î†§Í≥† ÌïòÎäî **OpenClaw(Moltbot)** ÎèÑ ÎòëÍ∞ôÏäµÎãàÎã§.
Ïù¥ ÏπúÍµ¨Îäî ÏùºÏ¢ÖÏùò **"ÌÜµÏó≠ÏÇ¨(Translator)"** ÏûÖÎãàÎã§.

*   **WhatsApp**: "ÎÇòÎäî ÎÇ¥ Î∞©ÏãùÎåÄÎ°ú ÎßêÌï† Í±∞Ïïº!"
*   **Slack**: "ÎÇòÎèÑ ÎÇ¥ Í∑úÏπôÏù¥ ÏûàÏñ¥!"
*   **AI(ChatGPT)**: "ÎÇòÎäî ÌÖçÏä§Ìä∏Îßå Ï£ºÎ©¥ ÎãµÌï†Í≤å."

Ïù¥ Ï†úÍ∞ÅÍ∞ÅÏù∏ ÎÖÄÏÑùÎì§ ÏÇ¨Ïù¥ÏóêÏÑú Îì± ÌÑ∞ÏßÄÏßÄ ÏïäÍ≥†, Îä•ÏàòÎä•ÎûÄÌïòÍ≤å ÎßêÏùÑ Ï†ÑÎã¨Ìï¥ Ï£ºÎäî **'ÏÑºÏä§ ÏûàÎäî Ï§ëÏû¨Ïûê'**.
Í∑∏Í≤ÉÏù¥ Î∞îÎ°ú **Gateway**ÏûÖÎãàÎã§.

Í∑∏Îü¨Îãà ÏïûÏúºÎ°ú ÎÇòÏò¨ Î≥µÏû°Ìïú Í∑∏Î¶ºÎì§ÏùÑ Î≥¥Í≥† Í≤ÅÎ®πÏßÄ ÎßàÏÑ∏Ïöî.
**"ÏïÑ, Ïù¥ ÏΩîÎìúÎäî ÏßÄÍ∏à WhatsAppÏù¥Îûë Slack ÏÇ¨Ïù¥ÏóêÏÑú ÌÜµÏó≠ÌïòÎäêÎùº ÎïÄ ÎªòÎªò ÌùòÎ¶¨Í≥† ÏûàÍµ¨ÎÇò."**
Ïù¥Î†áÍ≤å ÏÉùÍ∞ÅÌïòÎ©¥, Ï∞®Í∞ÄÏö¥ ÏΩîÎìú Îç©Ïñ¥Î¶¨Í∞Ä Ï°∞Í∏àÏùÄ ÏÇ¨Îûå ÎÉÑÏÉà ÎÇòÍ≥† Í∑ÄÏó¨Ïõå Î≥¥Ïùº Í≤ÅÎãàÎã§.

Ïûê, Í∑∏Îüº Ïù¥Ï†ú Ïù¥ Í∏∞ÌäπÌïú ÌÜµÏó≠ÏÇ¨Ïùò Í∞ÄÎ∞© ÏÜçÏóê Ïñ¥Îñ§ ÎèÑÍµ¨Îì§Ïù¥ Îì§Ïñ¥ÏûàÎäîÏßÄ ÌïúÎ≤à Ïó¥Ïñ¥Î≥ºÍπåÏöî?

---

---

## Chapter 0. Í∏∞Ïà† Ïä§ÌÉù Î∂ÑÏÑù (Technology Stack Analysis)


Ïù¥ Ïï±(**OpenClaw**)ÏùÄ Îã®ÏàúÌïú Ï±óÎ¥áÏù¥ ÏïÑÎãôÎãàÎã§. Îã§ÏñëÌïú Î©îÏã†Ï†Ä(WhatsApp, Slack Îì±)ÏôÄ AI Î™®Îç∏ÏùÑ Ïó∞Í≤∞ÌïòÎäî **Gateway Platform(Í≤åÏù¥Ìä∏Ïõ®Ïù¥ ÌîåÎû´Ìèº)** ÏúºÎ°úÏÑú, AI ÏóêÏù¥Ï†ÑÌä∏(Agent) ÏÉùÌÉúÍ≥ÑÏùò ÌòÅÏã†ÏùÑ Ïù¥ÎÅåÎ©∞ 2026ÎÖÑ 1Ïõî Ï¥àÍ∏âÏÜçÎèÑÎ°ú ÌôïÏÇ∞ÎêòÍ≥† ÏûàÎäî ÏóÖÍ≥Ñ ÏµúÎåÄ Í¥ÄÏã¨ÏÇ¨ Ï§ë ÌïòÎÇòÍ∞Ä ÎêòÏóàÏäµÎãàÎã§.

Ïù¥ Ïû•ÏóêÏÑúÎäî OpenClaw(Moltbot)ÏùÑ Íµ¨ÏÑ±ÌïòÎäî ÌïµÏã¨ Í∏∞Ïà†Îì§ÏùÑ **Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅ(Reverse Engineering)** Í¥ÄÏ†êÏóêÏÑú Ïã¨Ï∏µ Î∂ÑÏÑùÌï©ÎãàÎã§. Îã®ÏàúÌûà Í∏∞Ïà†ÏùÑ ÎÇòÏó¥ÌïòÎäî Îç∞ Í∑∏ÏπòÏßÄ ÏïäÍ≥†, Í∞Å Í∏∞Ïà†Ïù¥ ÏÑ†ÌÉùÎêú Î∞∞Í≤ΩÍ≥º ÏÑ§Í≥Ñ Ï≤†ÌïôÏùÑ ÌååÌó§ÏπòÎ©∞, ÎèÖÏûê Ïó¨Îü¨Î∂ÑÏù¥ Ïù¥ Í∏∞Ïà†Îì§ÏùÑ **'ÎÇ¥ Í≤É'** ÏúºÎ°ú Ï≤¥ÎìùÌï† Ïàò ÏûàÎèÑÎ°ù Ï∂©Î∂ÑÌïú ÏòàÏ†úÏôÄ Ïã§Ïäµ Í≥ºÏ†úÎ•º Ï†úÍ≥µÌï† Í≤ÉÏûÖÎãàÎã§.

| Íµ¨Î∂Ñ | Í∏∞Ïà† / ÎèÑÍµ¨ | Î≤ÑÏ†Ñ (Í∂åÏû•) | ÏÑ†Ï†ï Ïù¥Ïú† (Why?) |
| :--- | :--- | :--- | :--- |
| **Runtime** | **Node.js** | >=22.12.0 | ÏµúÏã† LTS. ÎπÑÎèôÍ∏∞ I/O Ï≤òÎ¶¨Í∞Ä ÌïµÏã¨Ïù∏ Í≤åÏù¥Ìä∏Ïõ®Ïù¥ ÏÑúÎ≤ÑÏóê ÏµúÏ†ÅÌôîÎê®. |
| **Language** | **TypeScript** | ^5.9.3 | Í±∞ÎåÄÌïú Î™®ÎÖ∏Î†àÌè¨ ÌîÑÎ°úÏ†ùÌä∏Ïùò ÌÉÄÏûÖ ÏïàÏ†ïÏÑ±ÏùÑ Î≥¥Ïû•ÌïòÎäî ÏóÑÍ≤©Ìïú Î¨∏Î≤ï Í≤ÄÏÇ¨Í∏∞. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Í∏∞Î∞ò ÏÑ§Í≥Ñ ÌïÑÏàò. |
| **Package Manager** | **pnpm** | 10.23.0 | Î™®ÎÖ∏Î†àÌè¨ Íµ¨Ï°∞ÏóêÏÑú ÎîîÏä§ÌÅ¨ Í≥µÍ∞Ñ Ï†àÏïΩ Î∞è Îπ†Î•∏ ÏÑ§Ïπò ÏÜçÎèÑ. |
| **Server Core** | **Hono** (+ WS) | 4.11.4 | ExpressÎ≥¥Îã§ Í∞ÄÎ≥çÍ≥† Îπ†Î•¥Î©∞, Edge Runtime Ìò∏ÌôòÏÑ±Ïù¥ Ï¢ãÏùå. HTTP/WebSocket ÌÜµÌï© Ïö©Ïù¥. |
| **Channel Layer** | **Baileys** | 7.0.0-rc.9 | WhatsApp Web APIÎ•º Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅÌïú ÎùºÏù¥Î∏åÎü¨Î¶¨. Î∏åÎùºÏö∞Ï†Ä ÏóÜÏù¥ Node.jsÏóêÏÑú WhatsApp Íµ¨Îèô Í∞ÄÎä•. |
| **AI Agent** | **Pi Agent Core** | 0.49.3 | LLM(Large Language Model)Í≥ºÏùò ÌÜµÏã†, ÎèÑÍµ¨(Tool) Ìò∏Ï∂ú, Ïª®ÌÖçÏä§Ìä∏ Í¥ÄÎ¶¨Î•º Îã¥ÎãπÌïòÎäî ÏûêÏ≤¥/Ïô∏Î∂Ä ÎùºÏù¥Î∏åÎü¨Î¶¨. |
| **UI Framework** | **Lit** + **Vite** | 3.3.2 | ReactÎ≥¥Îã§ Í∞ÄÎ≤ºÏö¥ Web Components ÌëúÏ§Ä Í∏∞Î∞ò. Î¥á Ï†úÏñ¥ Ìå®ÎÑêÏö©ÏúºÎ°ú Í∞ÄÎ≥çÍ≥† Îπ†Î¶Ñ. |
| **Database/State** | **SQLite** | - | Î°úÏª¨ ÏûÑÎ≤†Îî© Î≤°ÌÑ∞ Ï†ÄÏû• Î∞è Í≤ΩÎüâ ÏÉÅÌÉú Í¥ÄÎ¶¨Ïóê Ï†ÅÌï©. |

### 0-1. üìö [Ïö©Ïñ¥ ÎØ∏Îãà ÏÇ¨Ï†Ñ] Ïù¥Í≤å ÎèÑÎåÄÏ≤¥ Î¨¥Ïä® ÎßêÏù∏Í∞ÄÏöî?

>
> ÌëúÏóê ÎÇòÏò® Ïô∏Í≥ÑÏñ¥Îì§ÏùÑ ÏãúÏõêÌïòÍ≤å ÌíÄÏñ¥ÎìúÎ¶ΩÎãàÎã§.
>
> 1.  **LTS (Long Term Support)**: "Ïû•Í∏∞ ÏßÄÏõê Î≤ÑÏ†Ñ". ÏûêÎèôÏ∞®Î°ú ÏπòÎ©¥ **'Ïã†Ìòï ÏèòÎÇòÌÉÄ'** Í∞Ä ÏïÑÎãàÎùº **'ÌÉùÏãú Î™®Îç∏ ÏèòÎÇòÌÉÄ'** ÏûÖÎãàÎã§. ÏµúÏã† Í∏∞Îä•ÏùÄ Ï†ÅÏßÄÎßå, Í≥†Ïû•Ïù¥ Ïïà ÎÇòÍ≥† Î∂ÄÌíàÏùÑ 5ÎÖÑ Ïù¥ÏÉÅ Ï±ÖÏûÑÏßÄÍ≥† Í≥µÍ∏âÌï¥ Ï§çÎãàÎã§. ÏÑúÎ≤ÑÎäî Î©ãÏßÑ Í∏∞Îä•Î≥¥Îã§ **'Ïïà Ï£ΩÎäî Í≤É'** Ïù¥ Ï§ëÏöîÌï¥ÏÑú LTSÎ•º ÏîÅÎãàÎã§.
> 2.  **Î™®ÎÖ∏Î†àÌè¨ (Monorepo)**: "Mono(ÌïòÎÇò) + Repo(Ï†ÄÏû•ÏÜå)". **'Ìïú ÏßÄÎ∂ï ÎåÄÍ∞ÄÏ°±'** ÏûÖÎãàÎã§. ÏÑúÎ≤Ñ ÏΩîÎìú, Ïï± ÏΩîÎìú, Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ ÏΩîÎìúÎ•º Ìè¥Îçî ÌïòÎÇòÏóê Îã§ Î™∞ÏïÑÎÑ£Í≥† Í¥ÄÎ¶¨ÌïòÎäî Î∞©ÏãùÏûÖÎãàÎã§. Î∞òÎåÄÎßêÏùÄ 'Î©ÄÌã∞Î†àÌè¨(Í∞ÅÎ∞© Ïì∞Í∏∞)'ÏûÖÎãàÎã§.
> 3.  **Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅ (Reverse Engineering)**: "Ïó≠Í≥µÌïô". ÎßõÏßë Îñ°Î≥∂Ïù¥ ÏÜåÏä§ ÎπÑÎ≤ïÏùÑ ÏïåÏïÑÎÇ¥Î†§Í≥†, Îã§ ÎßåÎì§Ïñ¥ÏßÑ Îñ°Î≥∂Ïù¥Î•º ÌòÑÎØ∏Í≤ΩÏúºÎ°ú Îì§Ïó¨Îã§Î≥¥Í≥† ÏÑ±Î∂ÑÏùÑ Î∂ÑÏÑùÌïòÎäî ÌñâÏúÑÏûÖÎãàÎã§. Ïö∞Î¶¨Îäî ÏôÑÏÑ±Îêú OpenClaw ÏΩîÎìúÎ•º ÎúØÏñ¥Î≥¥Î©∞ ÏÑ§Í≥ÑÎ•º Ïú†Ï∂îÌï† Í≤ÉÏûÖÎãàÎã§.
> 4.  **Ïª®ÌÖçÏä§Ìä∏ (Context)**: "Î¨∏Îß•/Ï†ïÌô©". AIÎäî Í∏àÎ∂ïÏñ¥ÏûÖÎãàÎã§. Î∞©Í∏à Ìïú ÎßêÏùÑ ÏûäÏñ¥Î≤ÑÎ¶¨Ï£†. Í∑∏ÎûòÏÑú "ÏïÑÍπå ÎÑ§Í∞Ä ÏÇ¨Í≥ºÎùºÍ≥† ÌñàÏûñÏïÑ"ÎùºÍ≥† **Ïù¥Ï†Ñ ÎåÄÌôî ÎÇ¥Ïö© Ï†ÑÏ≤¥**Î•º Îã§Ïãú ÎçòÏ†∏Ï§òÏïº ÏïåÏïÑÎì£ÏäµÎãàÎã§. Ïù¥ 'ÎåÄÌôîÏùò Ï°±Î≥¥'Î•º Ïª®ÌÖçÏä§Ìä∏ÎùºÍ≥† Î∂ÄÎ¶ÖÎãàÎã§.
> 5.  **React**: Î©îÌÉÄ(ÌéòÏù¥Ïä§Î∂Å)ÏóêÏÑú ÎßåÎì† **'Î†àÍ≥† Î∏îÎ°ù Ï°∞Î¶Ω ÏÑ∏Ìä∏'** ÏûÖÎãàÎã§. "Î°úÍ∑∏Ïù∏ Î≤ÑÌäº", "Î©îÎâ¥Î∞î" Í∞ôÏùÄ Î∏îÎ°ùÏùÑ Ï°∞Î¶ΩÌï¥ÏÑú ÏõπÏÇ¨Ïù¥Ìä∏Î•º ÎßåÎì≠ÎãàÎã§. Í∞ÄÏû• Ïú†Î™ÖÌïòÏßÄÎßå Ï°∞Í∏à Î¨¥Í≤ÅÏäµÎãàÎã§.
> 6.  **Web Components**: React Í∞ôÏùÄ ÌäπÏ†ï Î∏åÎûúÎìú Î†àÍ≥†Í∞Ä ÏïÑÎãàÎùº, **'Íµ≠Ï†ú ÌëúÏ§Ä Í∑úÍ≤© Î≤ΩÎèå'** ÏûÖÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä ÏûêÏ≤¥Í∞Ä Í∏∞Î≥∏ÏúºÎ°ú ÏßÄÏõêÌïòÎäî Í∏∞Îä•Ïù¥ÎùºÏÑú, ReactÎÇò Vue Í∞ôÏùÄ ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏóÜÏù¥ÎèÑ ÎèåÏïÑÍ∞ëÎãàÎã§. Í∞ÄÎ≥çÍ≥† Îπ†Î¶ÖÎãàÎã§.
> 7.  **Î°úÏª¨ ÏûÑÎ≤†Îî© Î≤°ÌÑ∞ Ï†ÄÏû• (Local Embedding Vector Storage)**:
>     *   **ÏûÑÎ≤†Îî©**: "ÏÇ¨Í≥º"ÎùºÎäî Í∏ÄÏûêÎ•º `[0.1, 0.5, 0.9]` Í∞ôÏùÄ **Ïà´Ïûê Ï¢åÌëú**Î°ú Î∞îÍæ∏Îäî Í≤É.
>     *   **Î≤°ÌÑ∞ Ï†ÄÏû•**: Ïù¥ Ïà´ÏûêÎ•º Ï†ÄÏû•Ìï¥ ÎëêÎäî ÎèÑÏÑúÍ¥Ä.
>     *   **Why?**: AIÏóêÍ≤å "Í≥ºÏùº Ï∞æÏïÑÏ§ò"ÎùºÍ≥† ÌïòÎ©¥, AIÎäî 'Í≥ºÏùº'Ïùò Ïà´Ïûê Ï¢åÌëúÏôÄ Í∞ÄÏû• Í∞ÄÍπåÏö¥ 'ÏÇ¨Í≥º'Ïùò Ï¢åÌëúÎ•º Í≥ÑÏÇ∞Ìï¥ÏÑú Ï∞æÏïÑÎÉÖÎãàÎã§. Ïù¥Í±∏ ÎÇ¥ Ïª¥Ìì®ÌÑ∞(Î°úÏª¨)ÏóêÏÑú ÌïúÎã§Îäî ÎúªÏûÖÎãàÎã§.
> 8.  **LLM (Large Language Model)**: "Í±∞ÎåÄ Ïñ∏Ïñ¥ Î™®Îç∏". 
>     *   **ÏùÄÏú†**: **"Ï†Ñ ÏÑ∏Í≥Ñ ÎèÑÏÑúÍ¥ÄÏùò Ï±ÖÏùÑ ÌÜµÏß∏Î°ú ÏÇºÌÇ® ÏïîÍ∏∞ Ï≤úÏû¨"**. 
>     *   **ÏÑ§Î™Ö**: ChatGPTÎÇò Claude Í∞ôÏùÄ AIÏùò Î≥∏Ï≤¥ÏûÖÎãàÎã§. ÏàòÏ°∞ Í∞úÏùò Î¨∏Ïû•ÏùÑ ÌïôÏäµÌïòÏó¨ Ïù∏Í∞ÑÏ≤òÎüº ÎåÄÌôîÌïòÍ≥† Ï∂îÎ°†Ìï† Ïàò ÏûàÎäî 'Ï¥àÍ±∞ÎåÄ AI Îáå'ÎùºÍ≥† ÏÉùÍ∞ÅÌïòÎ©¥ Îê©ÎãàÎã§. Îã®ÏàúÌûà Í≤ÄÏÉâÌïòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº Î¨∏Îß•ÏùÑ Ïù¥Ìï¥ÌïòÍ≥† ÏÉàÎ°úÏö¥ Î¨∏Ïû•ÏùÑ Ï∞ΩÏ°∞Ìï©ÎãàÎã§.
> 9.  **CLI (Command Line Interface)**: "Î™ÖÎ†πÏ§Ñ Ïù∏ÌÑ∞ÌéòÏù¥Ïä§".
>     *   **ÏùÄÏú†**: **"Ïª¥Ìì®ÌÑ∞ÏôÄ ÎÇòÎàÑÎäî Î¨∏Ïûê Î©îÏãúÏßÄ"**. 
>     *   **ÏÑ§Î™Ö**: ÎßàÏö∞Ïä§Î°ú ÏïÑÏù¥ÏΩòÏùÑ ÌÅ¥Î¶≠ÌïòÎäî Î∞©Ïãù(GUI)Ïù¥ 'Í∑∏Î¶º ÏúÑÏ£ºÏùò ÏÜåÌÜµ'Ïù¥ÎùºÎ©¥, CLIÎäî Í≤ÄÏùÄ ÌôîÎ©¥(ÌÑ∞ÎØ∏ÎÑê)Ïóê ÏßÅÏ†ë Í∏ÄÏûêÎ•º ÌÉÄÏù¥ÌïëÌï¥ÏÑú Ïª¥Ìì®ÌÑ∞ÏóêÍ≤å Î™ÖÎ†πÏùÑ ÎÇ¥Î¶¨Îäî Î∞©ÏãùÏûÖÎãàÎã§. ÏòÅÌôî ÏÜç Ìï¥Ïª§Îì§Ïù¥ Ïì∞Îäî Î∞©ÏãùÏù¥ Î∞îÎ°ú Ïù¥Í≤ÉÏù¥Î©∞, ÏûêÎèôÌôîÏôÄ Ï†ïÎ∞ÄÌïú Ï°∞ÏûëÏóê Ïú†Î¶¨Ìï©ÎãàÎã§.
> 10. **API (Application Programming Interface)**: "ÌîÑÎ°úÍ∑∏Îû® Í∞ÑÏùò ÏïΩÏÜç".
>     *   **ÏùÄÏú†**: **"ÏãùÎãπÏùò Î©îÎâ¥Ìåê"**. ÏÜêÎãòÏù¥ Ï£ºÎ∞©Ïùò ÏöîÎ¶¨ Í≥ºÏ†ïÏùÑ Î™∞ÎùºÎèÑ Î©îÎâ¥ÌåêÎßå Î≥¥Í≥† Ï£ºÎ¨∏Ìï† Ïàò ÏûàÎìØÏù¥, Ìïú ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Îã§Î•∏ ÌîÑÎ°úÍ∑∏Îû®Ïùò Í∏∞Îä•ÏùÑ ÏâΩÍ≤å ÎπåÎ†§ Ïì∏ Ïàò ÏûàÍ≤å ÎßåÎì† Ï†ÑÎã¨ ÌÜµÎ°úÏù¥Ïûê Í∑úÏπôÏûÖÎãàÎã§.
> 11. **API ÏÑúÎ≤Ñ (API Server)**: "Îç∞Ïù¥ÌÑ∞/Í∏∞Îä• Î∞∞Îã¨ Ï†ÑÎ¨∏Ï†ê".
>     *   **ÏùÄÏú†**: **"24ÏãúÍ∞Ñ Ï£ºÎ¨∏ ÎåÄÍ∏∞ Ï§ëÏù∏ Î∞∞Îã¨ Ï†ÑÎ¨∏ ÏãùÎãπ"**. Ïô∏Î∂ÄÏóêÏÑú API Í∑úÏπô(Î©îÎâ¥)Ïóê ÎßûÍ≤å Ï£ºÎ¨∏(ÏöîÏ≤≠)ÏùÑ Î≥¥ÎÇ¥Î©¥, Í∑∏Ïóê ÎßûÎäî Îç∞Ïù¥ÌÑ∞ÎÇò ÏÑúÎπÑÏä§Î•º Ï¶âÏãú Î∞∞Îã¨(ÏùëÎãµ)Ìï¥Ï£ºÎäî ÏÑúÎ≤ÑÏûÖÎãàÎã§.

>
> **üí¨ ÏΩîÏπò ÏΩîÎ©òÌä∏(Sam LEE)**:
> "Ïö©Ïñ¥Í∞Ä Í≥ÑÏÜç ÎÇòÏò§ÏßÄÎßå, ÍπäÍ≤å ÌååÍ≥†Îì§ÏßÄ ÎßêÍ≥† **'ÏïÑ, ÎåÄÏ∂© Ïù¥Îü∞ Í±∞Íµ¨ÎÇò'** ÌïòÍ≥† ÎÑòÏñ¥Í∞ÄÏÑ∏Ïöî. Í≥ÑÏÜç ÏÉàÎ°úÏö¥ Í∞úÎÖêÎì§Í≥º Í≤ΩÌóòÏù¥ ÏåìÏù¥Îã§ Î≥¥Î©¥, Ïù¥ ÎÇØÏÑ† Ïö©Ïñ¥Îì§ÏùÄ ÏûêÏó∞Ìûà Ïó¨Îü¨Î∂ÑÏùò Î™∏ÏÜçÏóê ÎÖπÏïÑÎì§Ïñ¥ **'Ïã§Î†•'** Ïù¥ÎùºÎäî ÌòïÌÉúÎ°ú ÎÇòÌÉÄÎÇòÍ≤å ÎêòÏñ¥ ÏûàÏäµÎãàÎã§. ÎØøÍ≥† Îî∞ÎùºÏò§ÏÑ∏Ïöî."

### 0-2. üõ†Ô∏è [ÏÉÅÏÑ∏ Í∞ÄÏù¥Îìú] Í∞Å Í∏∞Ïà† Ïä§ÌÉù ÏÑ§Ïπò Î∞è ÏÑ§Ï†ï Î∞©Î≤ï


Ï¥àÎ≥¥ÏûêÎèÑ Îî∞Îùº Ìï† Ïàò ÏûàÎèÑÎ°ù Í∞Å ÎèÑÍµ¨Ïùò ÏÑ§Ïπò Î∞©Î≤ïÏùÑ Ï†ïÎ¶¨ÌñàÏäµÎãàÎã§.

#### 1. Runtime & Manager (Í∏∞Î∞ò ÏãúÏÑ§)
*   **Node.js**: ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Ïã§ÌñâÍ∏∞. (Í±¥ÏÑ§ ÌòÑÏû•Ïùò Ïù∏Î∂Ä)
    *   **ÏÑ§ÏπòÎ≤ï (macOS/Linux)**: `nvm`Ïù¥ÎÇò `fnm`ÏùÑ Ï∂îÏ≤úÌï©ÎãàÎã§.
        ```bash
        # fnm ÏÑ§Ïπò (Fast Node Manager)
        curl -fsSL https://fnm.vercel.app/install | bash
        # Node.js 22Î≤ÑÏ†Ñ ÏÑ§Ïπò
        fnm install 22
        ```
    *   **ÏÑ§ÏπòÎ≤ï (Windows)**: Í≥µÏãù ÌôàÌéòÏù¥ÏßÄ(nodejs.org)ÏóêÏÑú LTS Î≤ÑÏ†ÑÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ ÏÑ§Ïπò.

*   **pnpm**: Ìö®Ïú®Ï†ÅÏù∏ Ìå®ÌÇ§ÏßÄ Îß§ÎãàÏ†Ä. (ÏûêÏû¨ Í¥ÄÎ¶¨ ÏÜåÏû•)
    *   **ÏÑ§ÏπòÎ≤ï**: Node.jsÍ∞Ä ÍπîÎ¶∞ ÏÉÅÌÉúÏóêÏÑú ÏïÑÎûò Î™ÖÎ†πÏñ¥Î•º ÏûÖÎ†•.
        ```bash
        npm install -g pnpm
        # Î≤ÑÏ†Ñ ÌôïÏù∏
        pnpm -v
        ```

#### 2. Language & Framework (ÏÑ§Í≥Ñ ÎèÑÍµ¨)
*   **TypeScript**: Í±∞ÎåÄÌïú Î™®ÎÖ∏Î†àÌè¨ ÌîÑÎ°úÏ†ùÌä∏Ïùò ÌÉÄÏûÖ ÏïàÏ†ïÏÑ±ÏùÑ Î≥¥Ïû•ÌïòÎäî ÏóÑÍ≤©Ìïú Î¨∏Î≤ï Í≤ÄÏÇ¨Í∏∞. (Í∞êÎ¶¨ÏÇ¨)
    *   **ÏÑ§ÏπòÎ≤ï**: ÌîÑÎ°úÏ†ùÌä∏ÎßàÎã§ Î°úÏª¨Î°ú ÏÑ§ÏπòÌïòÎäî Í≤ÉÏù¥ Ï†ïÏÑùÏûÖÎãàÎã§.
        ```bash
        pnpm add -D typescript
        ```
    *   **ÏùÄÏú† (Metaphor)**: **"Ï≤†Ï†ÄÌïú ÏÑ§Í≥ÑÎèÑ Í∞êÎ¶¨ÏÇ¨"**. Í±¥Î¨ºÏùÑ ÏßìÍ∏∞ Ï†Ñ ÏÑ§Í≥ÑÎèÑÍ∞Ä Î≤ïÍ∑úÏóê ÎßûÎäîÏßÄ, ÏûêÏû¨Í∞Ä Í∑úÍ≤©ÌíàÏù∏ÏßÄ ÍººÍººÌûà Ï≤¥ÌÅ¨ÌïòÏó¨ ÎÇòÏ§ëÏóê Í±¥Î¨ºÏù¥ Î¨¥ÎÑàÏßÄÎäî ÎåÄÌòï ÏÇ¨Í≥†Î•º ÎßâÏïÑÏ§çÎãàÎã§.

*   **Hono**: Ï¥àÍ≥†ÏÜç Ïõπ ÌîÑÎ†àÏûÑÏõåÌÅ¨. (Í±¥Î¨º ÎºàÎåÄ)
    *   **ÏÑ§ÏπòÎ≤ï**: ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûë ÌõÑ ÏÑ§Ïπò.
        ```bash
        pnpm add hono @hono/node-server
        ```

    > [!NOTE]
    > **üõë [Î∞∞Í≤Ω ÏßÄÏãù] "ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûë ÌõÑ ÏÑ§Ïπò"ÎûÄ Î¨¥Ïä® ÎúªÏù∏Í∞ÄÏöî?**
    >
    > **"Ï†ÑÏûÖÏã†Í≥†Î•º(ÏßëÏùÑ Í≥ÑÏïΩ) Ìï¥Ïïº Í∞ÄÍµ¨Î•º Îì§Ïó¨ÎÜìÏùÑ Ïàò ÏûàÏäµÎãàÎã§."**
    >
    > Ïö∞Î¶¨Í∞Ä Ïù∏ÌÑ∞ÎÑ∑ ÏáºÌïëÎ™∞ÏóêÏÑú Í∞ÄÍµ¨Î•º Ï£ºÎ¨∏ÌïòÎ†§Î©¥, Î∞∞ÏÜ°Î∞õÏùÑ **'Ïö∞Î¶¨ Ïßë Ï£ºÏÜå'** Í∞Ä Î®ºÏ†Ä ÌôïÏ†ïÎêòÏñ¥Ïïº Ìï©ÎãàÎã§.
    >
    > 1.  **ÌîÑÎ°úÏ†ùÌä∏Ïùò ÌÉÑÏÉù(`pnpm init`)**: Ïù¥Í≤ÉÏùÄ Ïª¥Ìì®ÌÑ∞ÏóêÍ≤å **"ÏßÄÍ∏àÎ∂ÄÌÑ∞ Ïù¥ Ìè¥ÎçîÎäî 'OpenClaw'ÎùºÎäî Ïù¥Î¶ÑÏùÑ Í∞ÄÏßÑ ÌïòÎÇòÏùò ÎèÖÎ¶ΩÎêú ÌïòÏö∞Ïä§(ÌîÑÎ°úÏ†ùÌä∏)Îã§!"** ÎùºÍ≥† ÏÑ†Ìè¨ÌïòÍ≥†, ÌòÑÍ¥ÄÎ¨∏Ïóê **Î¨∏Ìå®(`package.json`)** Î•º Îã§Îäî ÏûëÏóÖÏûÖÎãàÎã§.
    > 2.  **ÏÑ§Ïπò(`pnpm add`)**: Ïù¥Ï†ú Î¨∏Ìå®Í∞Ä Îã¨Î†∏ÏúºÎãà, ÌÉùÎ∞∞ Í∏∞ÏÇ¨(`pnpm`)ÏóêÍ≤å **"HonoÎùºÎäî ÏÜåÌååÎ•º Ïù¥ Ïßë Ïû•Î∂Ä(`package.json`)Ïóê Îì±Î°ùÌïòÍ≥† Î∞∞ÏÜ°Ìï¥Ï£ºÏÑ∏Ïöî"** ÎùºÍ≥† ÏöîÏ≤≠Ìï† Ïàò ÏûàÍ≤å Îêú Í≤ÉÏûÖÎãàÎã§.
    > 3.  **Í≤∞Î°†**: Î¨∏Ìå®(`package.json`)ÎèÑ ÏóÜÎäî ÌóàÌóàÎ≤åÌåêÏóêÎäî ÌÉùÎ∞∞Î•º ÏãúÌÇ¨ Ïàò ÏóÜÏäµÎãàÎã§. Í∑∏ÎûòÏÑú Ìï≠ÏÉÅ **"Î¨∏Ìå® Îã¨Í∏∞(init) -> Í∞ÄÍµ¨ Îì§Ïù¥Í∏∞(add)"** ÏàúÏÑúÎ•º ÏßÄÏºúÏïº Ìï©ÎãàÎã§.



    > [!NOTE]
    > **üèéÔ∏è [Í∏∞Ïà† Ìï¥Î∂Ä] HonoÍ∞Ä ÎèÑÎåÄÏ≤¥ Î≠îÍ∞ÄÏöî? (vs Express)**
    >
    > "Ïõπ ÏÑúÎ≤Ñ ÎßåÎì§ Îïå Îã§Îì§ `Express` Ïì¥Îã§ÎçòÎç∞, Ïôú Ï≤òÏùå Îì§Ïñ¥Î≥¥Îäî `Hono`Î•º Ïì∞ÎÇòÏöî?"
    >
    > **1. ÏùÄÏú†(Metaphor): Ï§ëÌòï ÏÑ∏Îã® vs F1 Î†àÏù¥Ïã±Ïπ¥**
    > *   **Express (Ï§ëÌòï ÏÑ∏Îã®)**: 2010ÎÖÑÏóê ÎÇòÏò® Î≤†Ïä§Ìä∏ÏÖÄÎü¨. **Ìé∏ÏïàÌïòÍ≥† ÏùµÏàôÌïòÏßÄÎßå, Î¨¥Í≤ÅÍ≥† ÎäêÎ¶ΩÎãàÎã§.** ÏóîÏßÑÏù¥ ÏòõÎÇ† Î∞©ÏãùÏù¥Îùº ÏµúÏã† ÎèÑÎ°ú(Edge Computing)ÏóêÏÑúÎäî Ïûò Î™ª Îã¨Î¶ΩÎãàÎã§.
    > *   **Hono (F1 Î†àÏù¥Ïã±Ïπ¥)**: 2022ÎÖÑÏóê ÎÇòÏò® ÏµúÏã† Î®∏Ïã†. **Î∂àÌïÑÏöîÌïú Í∏∞Îä• Îã§ ÎñºÎ≤ÑÎ¶¨Í≥† Ïò§ÏßÅ 'ÏÜçÎèÑ'ÏôÄ 'ÌëúÏ§Ä'ÏóêÎßå ÏßëÏ§ë**ÌñàÏäµÎãàÎã§.
    >
    > **2. Í≤∞Ï†ïÏ†Å Ï∞®Ïù¥ (Web Standard)**
    > *   **Express**: ÏûêÍ∏∞Îì§ÎßåÏùò ÎèÖÏûê Í∑úÍ≤©(`req`, `res`)ÏùÑ ÏîÅÎãàÎã§. Node.js Î∞ñÏúºÎ°ú ÎÇòÍ∞ÄÎ©¥ Ïà®ÏùÑ Î™ª ÏâΩÎãàÎã§.
    > *   **Hono**: **Ï†Ñ ÏÑ∏Í≥Ñ Ïõπ ÌëúÏ§Ä Í∑úÍ≤©(`Request`, `Response`)** ÏùÑ Í∑∏ÎåÄÎ°ú ÏîÅÎãàÎã§. Node.jsÎøêÎßå ÏïÑÎãàÎùº AWS, Cloudflare Ïñ¥ÎîîÏÑúÎì† ÎèåÏïÑÍ∞ëÎãàÎã§. **Í≤åÎã§Í∞Ä 5Î∞∞ Îπ†Î¶ÖÎãàÎã§.**

    #### 3. Libraries (ÌäπÏàò Î∂ÄÌíà) - Ïôú Ïù¥Í≤ÉÎì§Ïù¥ ÌïÑÏöîÌïúÍ∞Ä?
    
    *   **Baileys**: WhatsApp Ïó∞Í≤∞ ÎùºÏù¥Î∏åÎü¨Î¶¨. (Ìï¥Ïª§Ïùò Î¨¥Ï†ÑÍ∏∞)
        *   **ÏÑ§ÏπòÎ≤ï**: `pnpm add @whiskeysockets/baileys`
        *   **ÏùÄÏú†(Metaphor)**: **"Ìï¥Ïª§Ïùò Î¨¥Ï†ÑÍ∏∞"**. WhatsAppÏùÄ Í≥µÏãùÏ†ÅÏúºÎ°ú Î¥áÏùÑ ÎßåÎìúÎäî Í±∏ ÍπåÎã§Î°≠Í≤å ÍµΩÎãàÎã§(ÎπÑÏ¶àÎãàÏä§ API Ïú†Î£å, ÏäπÏù∏ Ï†àÏ∞® Î≥µÏû°). BaileysÎäî Ïö∞Î¶¨Í∞Ä **ÎßàÏπò ÏßÑÏßú 'WhatsApp Ïõπ' Î∏åÎùºÏö∞Ï†ÄÏù∏ Ï≤ô** Í∞ÄÏû•Ìï¥ÏÑú ÏÑúÎ≤ÑÏôÄ ÌÜµÏã†ÌïòÍ≤å Ìï¥Ï£ºÎäî Î¨¥Ï†ÑÍ∏∞ÏûÖÎãàÎã§.
        *   **Why?**: Ïù¥ "ÌäπÏàò Î∂ÄÌíà"Ïù¥ ÏóÜÏúºÎ©¥ Ïó¨Îü¨Î∂ÑÏùÄ ÌéòÏù¥Ïä§Î∂Å(Meta) Î≥∏ÏÇ¨Ïóê ÏÇ¨ÏóÖÏûê Îì±Î°ùÏ¶ù ÎÇ¥Í≥†, ÏäπÏù∏Î∞õÍ≥†, ÎèàÏùÑ ÎÇ¥Ïïº Î¥áÏùÑ ÎèåÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§. BaileysÎäî Í∑∏ Î™®Îì† Í≥ºÏ†ïÏùÑ Í±¥ÎÑàÎõ∞Í≥† **"ÏßÄÍ∏à ÎãπÏû•"** Î¥áÏùÑ ÎèåÎ¶¨Í≤å Ìï¥Ï£ºÎäî ÎßàÎ≤ïÏùò Ïó¥Ïá†ÏûÖÎãàÎã§.
    
    *   **SQLite**: Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§. (Ï∫†ÌïëÏö© Î∞∞ÎÇ≠)
        *   **ÏÑ§ÏπòÎ≤ï**: `pnpm add better-sqlite3`
        *   **ÏùÄÏú†(Metaphor)**: **"Ï∫†ÌïëÏö© Î∞∞ÎÇ≠"**. Î≥¥ÌÜµ DB(MySQL, Oracle)ÎùºÍ≥† ÌïòÎ©¥ Í±∞ÎåÄÌïú Ïª®ÌÖåÏù¥ÎÑà Ìä∏Îü≠ÏùÑ Îñ†Ïò¨Î¶ΩÎãàÎã§. ÏãúÎèô Í±∞Îäî Îç∞Îßå Ìïú ÏÑ∏ÏõîÏù¥Ï£†. SQLiteÎäî Í∑∏ÎÉ• ÌååÏùº ÌïòÎÇò(`database.sqlite`)Í∞Ä Í≥ß DBÏûÖÎãàÎã§. Í∞ÄÎ∞©Ïóê Ïèô Îì§Ïñ¥Í∞ëÎãàÎã§.
        *   **Why?**: OpenClaw(Moltbot)ÏùÄ ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ Í∞ôÏùÄ ÏûëÏùÄ Ïª¥Ìì®ÌÑ∞ÏóêÏÑúÎèÑ ÎèåÏïÑÍ∞ÄÏïº Ìï©ÎãàÎã§. Îç©Ïπò ÌÅ∞ DB ÏÑúÎ≤ÑÎ•º Îî∞Î°ú ÎùÑÏö∞Îäî Í±¥ ÏÇ¨ÏπòÏûÖÎãàÎã§. **"ÌååÏùº ÌïòÎÇòÎßå Î≥µÏÇ¨ÌïòÎ©¥ Ïù¥ÏÇ¨ ÎÅù"** Ïù∏ Í∞ÑÌé∏Ìï® ÎïåÎ¨∏Ïóê Ïù¥ ÌäπÏàò Î∂ÄÌíàÏùÑ ÏîÅÎãàÎã§.

    > [!TIP]
    > **üñ•Ô∏è [Ïã§Ïäµ Í∞ÄÏù¥Îìú] VSCodeÏóêÏÑú ÌîÑÎ°úÏ†ùÌä∏ 0Î∂ÄÌÑ∞ ÏÑ∏ÌåÖÌïòÍ∏∞ (2025ÎÖÑ 12Ïõî Î≤ÑÏ†Ñ)**
    >
    > "Î™ÖÎ†πÏñ¥Îäî ÏïåÍ≤†ÎäîÎç∞, ÎèÑÎåÄÏ≤¥ **Ïñ¥ÎîîÏóê** ÏπòÎùºÎäî Í±¥Í∞ÄÏöî?"
    > ÎßâÎßâÌï¥ÌïòÏã§ Î∂ÑÎì§ÏùÑ ÏúÑÌï¥, ÎßàÏö∞Ïä§ ÌÅ¥Î¶≠ ÌïòÎÇòÌïòÎÇòÍπåÏßÄ Îã§ ÏïåÎ†§ÎìúÎ¶ΩÎãàÎã§. Ï≤úÏ≤úÌûà Îî∞ÎùºÏò§ÏÑ∏Ïöî.
    >
    > **ü§î [Ïû†Íπê] VSCodeÍ∞Ä Î≠îÍ∞ÄÏöî? Î©îÎ™®Ïû•Ïù¥Îûë Î≠êÍ∞Ä Îã¨ÎùºÏöî?**
    > *   **Î©îÎ™®Ïû•(Notepad)**: Îã®ÏàúÌûà Í∏ÄÏûêÎßå Ï†ÅÎäî **'Í≥ºÎèÑ(Í≥ºÏùº ÍπéÎäî Ïπº)'** ÏûÖÎãàÎã§. ÏÇ¨Í≥º ÌïòÎÇò ÍπéÏùÑ Îïê Ï¢ãÏßÄÎßå, ÏöîÎ¶¨Îäî Î™ª Ìï©ÎãàÎã§.
    > *   **VSCode (Visual Studio Code)**: ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏Í∞Ä ÎßåÎì† **'ÏµúÏ≤®Îã® ÏÖ∞ÌîÑÏùò Ï£ºÎ∞©'** ÏûÖÎãàÎã§.
    >     *   **Ïû¨Î£å ÏÉâÍπî ÌëúÏãú**: ÏΩîÎìúÍ∞Ä ÏïåÎ°ùÎã¨Î°ùÌïòÏ£†? ÏÜåÍ∏àÏù∏ÏßÄ ÏÑ§ÌÉïÏù∏ÏßÄ Ìó∑Í∞àÎ¶¨ÏßÄ ÎßêÎùºÍ≥† ÏÉâÏπ†Ìï¥ Ï£ºÎäî Í≤ÅÎãàÎã§. (Syntax Highlighting)
    >     *   **Î≥¥Ï°∞ ÏÖ∞ÌîÑ**: `consol`Îßå Ï≥êÎèÑ `console`Ïù¥ÎùºÍ≥† Ï∂îÏ≤úÌï¥ Ï§çÎãàÎã§. (Auto-completion)
    >     *   **ÏÉÅÌô©Ïã§ ÌÜµÌï©**: ÏΩîÎìúÎ•º ÏßúÎ©¥ÏÑú Î∞îÎ°ú ÏÑúÎ≤ÑÎ•º ÏºúÍ≥† ÎÅÑÎäî Î≤ÑÌäº(ÌÑ∞ÎØ∏ÎÑê)Ïù¥ ÎÇ¥Ïû•ÎêòÏñ¥ ÏûàÏäµÎãàÎã§.
    > *   **Í≤∞Î°†**: Í∞úÎ∞úÏùÑ Ï≤òÏùå ÌïúÎã§Î©¥ Î¨¥Ï°∞Í±¥ Ïù¥Í±∏ Ïì∞ÏÑ∏Ïöî. Î¨¥Î£åÏù¥Í≥†, Ï†Ñ ÏÑ∏Í≥Ñ Í∞úÎ∞úÏûêÏùò 70%Í∞Ä ÏîÅÎãàÎã§.
    >
    > ---
    >
    > **1. Ìè¥Îçî ÎßåÎì§Í∏∞ (ÏßëÌÑ∞ Îã¶Í∏∞)**
    > *   Î®ºÏ†Ä Ïª¥Ìì®ÌÑ∞ ÌïòÎìúÎîîÏä§ÌÅ¨(CÎìúÎùºÏù¥Î∏å ÌòπÏùÄ Ìôà ÎîîÎ†âÌÜ†Î¶¨)Ïóê `Workspace`ÎùºÎäî Ïù¥Î¶ÑÏùò Ìè¥ÎçîÎ•º ÎßåÎìúÏÑ∏Ïöî.
    > *   Í∑∏ `Workspace` Ìè¥Îçî ÏïàÏóê Îì§Ïñ¥Í∞ÄÏÑú, Îã§Ïãú `openclaw-lab`Ïù¥ÎùºÎäî ÏÉà Ìè¥ÎçîÎ•º ÎßåÎì≠ÎãàÎã§.
    >     *   Íµ¨Ï°∞: `ÎÇ¥ Ïª¥Ìì®ÌÑ∞` -> `Workspace` -> `openclaw-lab`
    > *   Ïù¥ `openclaw-lab` Ìè¥ÎçîÍ∞Ä ÏïûÏúºÎ°ú Ïö∞Î¶¨Ïùò **Î≤†Ïù¥Ïä§Ï∫†ÌîÑ**Í∞Ä Îê©ÎãàÎã§.
    >
    >     > [!TIP]
    >     > **üí° [Coach's Tip] Ïôú Íµ≥Ïù¥ `Workspace` Ìè¥ÎçîÎ•º ÎßåÎìúÎÇòÏöî?**
    >     >
    >     > Í∞úÎ∞úÏùÑ ÌïòÎã§ Î≥¥Î©¥ "Ïñ¥? Ï†ú ÌååÏùº Ïñ¥Îîî Í∞îÏ£†?" ÌïòÍ≥† Í∏∏ÏùÑ ÏûÉÎäî Í≤ΩÏö∞Í∞Ä Ï†ïÎßê ÎßéÏäµÎãàÎã§.
    >     > ÏúàÎèÑÏö∞(CÎìúÎùºÏù¥Î∏å) ÏÇ¨Ïö©Ïûê, Îß•(Ìôà) ÏÇ¨Ïö©Ïûê Î™®Îëê **`Workspace`ÎùºÎäî Í≥µÌÜµÎêú ÏïΩÏÜç Ïû•ÏÜå**Î•º Ï†ïÌï¥ÎëêÎ©¥, ÎÇòÏ§ëÏóê "Í≤ΩÎ°úÎ•º Î™ª Ï∞æÍ≤†Ïñ¥Ïöî" Í∞ôÏùÄ Î¨∏Ï†úÎ•º 99% ÏòàÎ∞©Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Í≤ÉÏùÄ Ï†Ñ ÏÑ∏Í≥Ñ Í∞úÎ∞úÏûêÎì§Ïùò **'Íµ≠Î£∞(Î∂àÎ¨∏Ïú®)'** Í∞ôÏùÄ ÏäµÍ¥ÄÏù¥Î©∞, Í≤ΩÎ°ú Î¨∏Ï†úÎ°ú Ìó∑Í∞àÎ¶¥ ÏùºÏùÑ ÏõêÏ≤ú Î¥âÏáÑÌï¥ Ï§çÎãàÎã§.
    >
    > **2. VSCode Ïó¥Í∏∞ (ÏûÖÏ£º)**
    > *   VSCodeÎ•º Ïã§ÌñâÌï©ÎãàÎã§.
    > *   Î∞©Í∏à ÎßåÎì† `openclaw-lab` Ìè¥ÎçîÎ•º ÎßàÏö∞Ïä§Î°ú ÎÅåÏñ¥ÏÑú(Drag & Drop) VSCode ÌôîÎ©¥ Ï†ïÏ§ëÏïôÏóê ÎÜìÏúºÏÑ∏Ïöî.
    > *   ÎòêÎäî Î©îÎâ¥ÏóêÏÑú `File` -> `Open Folder...`Î•º ÎàåÎü¨ÏÑú Ï∞æÏïÑÎèÑ Îê©ÎãàÎã§.
    > *   ÏôºÏ™Ω ÌÉêÏÉâÍ∏∞(Explorer)Ïóê Ìè¥Îçî Ïù¥Î¶ÑÏù¥ Î≥¥Ïù∏Îã§Î©¥ ÏûÖÏ£º ÏÑ±Í≥µÏûÖÎãàÎã§.
    >
    > **3. ÌÑ∞ÎØ∏ÎÑê Ïó¥Í∏∞ (ÏÉÅÌô©Ïã§ Í∞úÎ∞©)**
    > *   Ïù¥Ï†ú Í≤ÄÏùÄ ÌôîÎ©¥, **ÌÑ∞ÎØ∏ÎÑê(Terminal)** ÏùÑ Ïó¥ Ï∞®Î°ÄÏûÖÎãàÎã§. Ïù¥Í≥≥Ïù¥ Î∞îÎ°ú Ïö∞Î¶¨Í∞Ä Ïª¥Ìì®ÌÑ∞ÏóêÍ≤å ÏßÅÏ†ë Î™ÖÎ†πÏùÑ ÎÇ¥Î¶¨Îäî ÎåÄÌôîÏ∞ΩÏûÖÎãàÎã§.
    > *   **Îã®Ï∂ïÌÇ§**: `Ctrl` + `` ` `` (Î¨ºÍ≤∞ÌëúÏãú ÌÇ§, Îß•/ÏúàÎèÑÏö∞ Í≥µÌÜµ)
    > *   **Î©îÎâ¥**: ÏÉÅÎã® Î©îÎâ¥Î∞î `Terminal` -> `New Terminal`
    > *   ÌïòÎã®Ïóê Ìå®ÎÑêÏù¥ Ïó¥Î¶¨Î©¥ÏÑú ÍπúÎπ°Ïù¥Îäî Ïª§ÏÑúÍ∞Ä Î≥¥Ïù¥ÎÇòÏöî? Ï§ÄÎπÑ ÏôÑÎ£åÏûÖÎãàÎã§.
    >
    > **4. Î™ÖÎ†π ÌïòÎã¨ (Start)**
    > *   Ïù¥Ï†ú ÏïÑÎûò Î™ÖÎ†πÏñ¥Î•º **Ìïú Ï§ÑÏî© Î≥µÏÇ¨**Ìï¥ÏÑú ÌÑ∞ÎØ∏ÎÑêÏóê Î∂ôÏó¨ÎÑ£Í≥† **ÏóîÌÑ∞(Enter)** Î•º ÏπòÏÑ∏Ïöî.
    >
    >   ```bash
    >   # 1. Ìò∏Ï†Å Îì±Î≥∏(package.json) ÎßåÎì§Í∏∞
    >   pnpm init
    >
    >   # 2. ÌïÑÏàò ÏûêÏû¨(ÎùºÏù¥Î∏åÎü¨Î¶¨) Ï£ºÎ¨∏ÌïòÍ∏∞
    >   pnpm add hono @hono/node-server @whiskeysockets/baileys better-sqlite3
    >
    >   # 3. ÏÑ§Í≥Ñ ÎèÑÍµ¨(TypeScript) Ï£ºÎ¨∏ÌïòÍ∏∞ (Í∞úÎ∞úÏö©Ïù¥Îùº -D ÏòµÏÖò Î∂ôÏûÑ)
    >   pnpm add -D typescript @types/node
    >   ```
    >
    > **5. ÌôïÏù∏ ÏÇ¨ÏÇ¥ (Check)**
    > *   ÏôºÏ™Ω ÌÉêÏÉâÍ∏∞ÏóêÏÑú `package.json` ÌååÏùºÏùÑ ÌÅ¥Î¶≠Ìï¥Î≥¥ÏÑ∏Ïöî.
    > *   ÌååÏùº ÎÇ¥Ïö©Ïù¥ ÏïÑÎûòÏôÄ ÎπÑÏä∑ÌïòÎã§Î©¥ ÏÑ±Í≥µÏûÖÎãàÎã§. (Î≤ÑÏ†Ñ Ïà´ÏûêÎäî Ï°∞Í∏à Îå§ÎùºÎèÑ Í¥úÏ∞ÆÏäµÎãàÎã§.)
    >
    >   ```json
    >   {
    >     "name": "openclaw-lab",
    >     "version": "1.0.0",
    >     "dependencies": {
    >       "@hono/node-server": "^1.x.x",
    >       "@whiskeysockets/baileys": "^6.x.x",
    >       "better-sqlite3": "^11.x.x",
    >       "hono": "^4.x.x"
    >     },
    >     "devDependencies": {
    >       "@types/node": "^22.x.x",
    >       "typescript": "^5.x.x"
    >     }
    >   }
    >   ```
    >
    > *   **Ï∂ïÌïòÌï©ÎãàÎã§! ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÌôòÍ≤Ω ÏÑ∏ÌåÖÏùÑ ÎßàÏπòÏÖ®ÏäµÎãàÎã§.** Ïó¨Í∏∞ÍπåÏßÄ Îî∞ÎùºÏò§ÏãúÎäêÎùº Í≥†ÏÉù ÎßéÏúºÏÖ®ÏäµÎãàÎã§.

    
    ---
    



    
    ---


    
    ---

## Chapter 1. ÌîÑÎ°úÏ†ùÌä∏ Í∏∞Ï¥à Í≥µÏÇ¨ (Foundation Setup)


Í∞ÄÏû• Î®ºÏ†Ä ÌäºÌäºÌïú Í∏∞Î∞òÏùÑ Îã§ÏßëÎãàÎã§. Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Îäî Î™®Îì† Íµ¨ÏÑ± ÏöîÏÜå(ÏÑúÎ≤Ñ, Ïï±, ÌîåÎü¨Í∑∏Ïù∏)Í∞Ä ÌïòÎÇòÏùò Ï†ÄÏû•ÏÜåÏóê ÏûàÎäî **Monorepo** Íµ¨Ï°∞Î•º Îî∞Î¶ÖÎãàÎã§. (Î™®ÎÖ∏Î†àÌè¨Í∞Ä Î≠îÏßÄ ÍπåÎ®πÏúºÏÖ®Îã§Î©¥? üëâ ÏÉÅÎã® **'Ïö©Ïñ¥ ÎØ∏Îãà ÏÇ¨Ï†Ñ 2Î≤à'** ÏùÑ Îã§Ïãú Î≥¥Í≥† Ïò§ÏÑ∏Ïöî!)

### 1-1. ÌôòÍ≤Ω ÏÑ§Ï†ï (Micro-Process)

1.  **Node.js ÏÑ§Ïπò**: `v22.12.0` Ïù¥ÏÉÅ ÌïÑÏàò.
    *   **ÏÑ§Î™Ö**: Node.jsÎäî ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Ïã§ÌñâÍ∏∞Î°ú, Í±¥ÏÑ§ ÌòÑÏû•Ïùò **ÏûëÏóÖÏûê**ÏôÄ Í∞ôÏùÄ Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§. ÏµúÏã† LTS(Long Term Support, Ïû•Í∏∞ ÏßÄÏõê) Î≤ÑÏ†ÑÏùÑ ÏÇ¨Ïö©ÌïòÎäî Ïù¥Ïú†Îäî **ÎπÑÎèôÍ∏∞ I/O(ÏûÖÏ∂úÎ†•)** Ï≤òÎ¶¨Í∞Ä ÌïµÏã¨Ïù∏ Í≤åÏù¥Ìä∏Ïõ®Ïù¥ ÏÑúÎ≤ÑÏóê ÏµúÏ†ÅÌôîÎêòÏñ¥ ÏûàÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.
    *   **ÏÑ§Ïπò Î∞©Î≤ï (OSÎ≥Ñ Í∞ÄÏù¥Îìú)**:
        *   **ü™ü Windows**: [Í≥µÏãù ÌôàÌéòÏù¥ÏßÄ](https://nodejs.org/) (https://nodejs.org/) ÏóêÏÑú **LTS Î≤ÑÏ†Ñ(v22.x)** ÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ ÏÑ§ÏπòÌï©ÎãàÎã§. (`Next`Îßå Í≥ÑÏÜç ÎàÑÎ•¥Î©¥ Îê©ÎãàÎã§)
        *   **üçé Mac**: ÌÑ∞ÎØ∏ÎÑêÏóê `brew install node@22` ÏûÖÎ†•. (HomebrewÍ∞Ä ÏóÜÎã§Î©¥ [Ïó¨Í∏∞](https://brew.sh/index_ko) (https://brew.sh/index_ko) Ï∞∏Ï°∞)
        *   **üêß Linux**: `curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash - && sudo apt-get install -y nodejs`


    > [!TIP]
    > **üéì [Í∞úÎÖê ÏàòÏóÖ] ÎπÑÎèôÍ∏∞ I/O (Asynchronous I/O)Í∞Ä Î≠îÍ∞ÄÏöî?**
    >
    > **"ÎßõÏßë Ïõ®Ïù¥ÌÑ∞Ïùò ÏÑúÎπô Î∞©Ïãù"** ÏúºÎ°ú Ïù¥Ìï¥ÌïòÎ©¥ ÏâΩÏäµÎãàÎã§.
    >
    > *   **ÎèôÍ∏∞(Synchronous = Blocking)**: Ïõ®Ïù¥ÌÑ∞Í∞Ä ÏÜêÎãò 1Î™ÖÏóêÍ≤å Ï£ºÎ¨∏ÏùÑ Î∞õÏäµÎãàÎã§. ÏÜêÎãòÏù¥ "Ïùå... Î≠ê Î®πÏßÄ?" ÌïòÍ≥† Í≥†ÎØºÌïòÎäî 5Î∂Ñ ÎèôÏïà Ïõ®Ïù¥ÌÑ∞Îäî **ÏïÑÎ¨¥Í≤ÉÎèÑ Ïïà ÌïòÍ≥† ÏòÜÏóê ÏÑú ÏûàÏäµÎãàÎã§.** Îã§Î•∏ ÏÜêÎãòÎì§ÏùÄ Í∏∞Îã§Î¶¨Îã§ ÏßÄÏ≥ê ÎÇòÍ∞ëÎãàÎã§.
    > *   **ÎπÑÎèôÍ∏∞(Asynchronous = Non-Blocking)**: Ïõ®Ïù¥ÌÑ∞Í∞Ä Ï£ºÎ¨∏ÏùÑ Î∞õÎã§Í∞Ä ÏÜêÎãòÏù¥ Í≥†ÎØºÌïòÎ©¥ **"Í≤∞Ï†ïÎêòÏãúÎ©¥ Î≤® ÎàåÎü¨Ï£ºÏÑ∏Ïöî"** ÌïòÍ≥† **Îã§Î•∏ ÌÖåÏù¥Î∏îÎ°ú Í∞ÄÏÑú ÏùºÏùÑ Ìï©ÎãàÎã§.** Í∑∏Îü¨Îã§ Î≤®Ïù¥ Ïö∏Î¶¨Î©¥(Ïù¥Î≤§Ìä∏ Î∞úÏÉù) Îã§Ïãú ÏôÄÏÑú Ï£ºÎ¨∏ÏùÑ Î∞õÏäµÎãàÎã§.
    >
    > **Why?**: OpenClaw Í≤åÏù¥Ìä∏Ïõ®Ïù¥Îäî ÏàòÏ≤ú Î™ÖÏùò ÏÇ¨Ïö©ÏûêÍ∞Ä ÎèôÏãúÏóê Î©îÏãúÏßÄÎ•º Î≥¥ÎÉÖÎãàÎã§. Ìïú Î™Ö Î©îÏãúÏßÄ Ï≤òÎ¶¨ÌïòÎäêÎùº Îã§Î•∏ ÏÇ¨ÎûåÎì§ÏùÑ Í∏∞Îã§Î¶¨Í≤å ÌïòÎ©¥ Ïïà ÎêòÍ≤†Ï£†? Í∑∏ÎûòÏÑú Node.jsÏùò ÎπÑÎèôÍ∏∞ Î∞©ÏãùÏù¥ ÌïÑÏàòÏûÖÎãàÎã§.
2.  **Language: TypeScript (^5.9.3)**:
    *   **ÏÑ§Î™Ö**: TypeScript(ÌÉÄÏûÖÏä§ÌÅ¨Î¶ΩÌä∏)Îäî Í±∞ÎåÄÌïú Î™®ÎÖ∏Î†àÌè¨(Monorepo, Îã®Ïùº Ï†ÄÏû•ÏÜå) ÌîÑÎ°úÏ†ùÌä∏Ïùò ÌÉÄÏûÖ ÏïàÏ†ïÏÑ±ÏùÑ Î≥¥Ïû•ÌïòÎäî ÏóÑÍ≤©Ìïú Î¨∏Î≤ï Í≤ÄÏÇ¨Í∏∞ÏûÖÎãàÎã§. Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Í∏∞Î∞ò ÏÑ§Í≥ÑÍ∞Ä ÌïÑÏàòÏ†ÅÏù∏ ÎåÄÍ∑úÎ™® ÌîÑÎ°úÏ†ùÌä∏ÏóêÏÑú ÌÉÄÏûÖ Ïò§Î•òÎ•º ÏÇ¨Ï†ÑÏóê Î∞©ÏßÄÌï©ÎãàÎã§.
    *   **ÏÑ§Ïπò Î∞©Î≤ï**: ÏúàÎèÑÏö∞/Îß• Í≥µÌÜµ ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú ÏïÑÎûò Î™ÖÎ†πÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî.
        ```bash
        npm install -g typescript
        # ÏÑ§Ïπò ÌôïÏù∏
        tsc -v
        ```
    *   **ÏùÄÏú† (Metaphor)**: **"Ï≤†Ï†ÄÌïú ÏÑ§Í≥ÑÎèÑ Í∞êÎ¶¨ÏÇ¨"**. 
        *   ÏùºÎ∞ò ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏Í∞Ä "ÏùºÎã® Í±¥Î¨ºÏùÑ ÏßìÍ≥† ÎÇòÏ§ëÏóê Î¨¥ÎÑàÏßÄÎ©¥ Í≥†ÏπòÏûê"Îäî ÏãùÏù¥ÎùºÎ©¥, ÌÉÄÏûÖÏä§ÌÅ¨Î¶ΩÌä∏Îäî **"Î≤ΩÎèå ÌïòÎÇòÎ•º ÏåìÏùÑ ÎïåÎßàÎã§ ÏÑ§Í≥ÑÎèÑ(Type)ÏôÄ ÏùºÏπòÌïòÎäîÏßÄ ÌôïÏù∏"** Ìï©ÎãàÎã§. Ï°∞Í∏à Í∑ÄÏ∞ÆÏùÑ Ïàò ÏûàÏßÄÎßå, ÎÇòÏ§ëÏóê Í±¥Î¨ºÏù¥ Î¨¥ÎÑàÏßÄÎäî(Îü∞ÌÉÄÏûÑ ÏóêÎü¨) ÎåÄÌòï ÏÇ¨Í≥†Î•º 99% ÎßâÏïÑÏ§çÎãàÎã§.
    *   **Ïã§ÏÇ¨Ïö© ÏòàÏ†ú (Concept Class)**: 
        *   **ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ (Î¨¥Ï±ÖÏûÑ)**: `[ÏÇ¨Í≥º] + 100 = "ÏÇ¨Í≥º100"` (Ïù¥ÏÉÅÌïòÏßÄÎßå ÏóêÎü¨ ÏóÜÏù¥ ÏßÑÌñâÎê®)
        *   **ÌÉÄÏûÖÏä§ÌÅ¨Î¶ΩÌä∏ (Ï±ÖÏûÑÍ∞ê)**: **"Ïû†Íπê! Í≥ºÏùº(String)Ïóê Ïà´Ïûê(Number)Î•º ÎçîÌïòÎã§ÎãàÏöî? ÎßêÎèÑ Ïïà Îê©ÎãàÎã§!"** ÌïòÍ≥† Îπ®Í∞Ñ Ï§ÑÏùÑ Ï´ô Í∑∏Ïñ¥Ï§çÎãàÎã§.

    ---

3.  **pnpm ÏÑ§Ïπò**: `npm install -g pnpm@10.23.0`.

    ---
    
    #### 1-1-1. üö® [Î∞∞Í≤Ω ÏßÄÏãù] Ïôú npm ÎåÄÏã† pnpmÏùÑ Ïì∞ÎäîÍ∞Ä? (The Revolution of pnpm)

    
    "npmÎèÑ Ïûò ÎêòÎäîÎç∞ Íµ≥Ïù¥ Ïôú Ïù¥Í±∏ Îòê ÍπîÏïÑÏïº ÌïòÎÇòÏöî?" ÎùºÎäî ÏßàÎ¨∏ÏùÄ Îß§Ïö∞ ÌÉÄÎãπÌï©ÎãàÎã§. ÌïòÏßÄÎßå OpenClaw(Moltbot) Í∞ôÏùÄ ÎåÄÍ∑úÎ™® ÌîÑÎ°úÏ†ùÌä∏(Monorepo)ÏóêÏÑú npmÏùÑ Ïì∞Î©¥ **Ïû¨Ïïô**Ïù¥ Îã•Ïπ©ÎãàÎã§.
    
    #### 1. ÏùÄÏú†(Metaphor): ÎèÑÏÑúÍ¥Ä Ï±Ö ÎπåÎ¶¨Í∏∞
    *   **npm (ÎπÑÌö®Ïú®Ïùò ÎÅùÌåêÏôï)**: ÌïôÏÉù 100Î™ÖÏù¥ "Ìï¥Î¶¨Ìè¨ÌÑ∞" Ï±ÖÏùÑ ÏùΩÏñ¥Ïïº ÌïúÎã§Í≥† Ìï©ÏãúÎã§. npm Î∞©ÏãùÏùÄ **100Í∂åÏùò Ï±ÖÏùÑ ÏÉàÎ°ú ÏÇ¨ÏÑú Í∞Å ÌïôÏÉùÏùò Í∞ÄÎ∞©Ïóê ÎÑ£Ïñ¥Ï£ºÎäî Í≤É**ÏûÖÎãàÎã§. Í∞ÄÎ∞©(ÎîîÏä§ÌÅ¨)Ïù¥ ÌÑ∞ÏßÄÍ≥†, Ï±ÖÍ∞í(ÏÑ§Ïπò ÏãúÍ∞Ñ)Ïù¥ ÏóÑÏ≤≠ Îì≠ÎãàÎã§.
    *   **pnpm (Ìö®Ïú®Ï†Å Í≥µÏú†)**: ÌïôÍµê ÎèÑÏÑúÍ¥ÄÏóê "Ìï¥Î¶¨Ìè¨ÌÑ∞" **Îî± Ìïú Í∂åÎßå** ÏÇ¨ÎÜìÏäµÎãàÎã§. ÌïôÏÉùÎì§ÏóêÍ≤åÎäî Ï±Ö ÏúÑÏπòÍ∞Ä Ï†ÅÌûå **Ï™ΩÏßÄ(Symlink)** Îßå Ï§çÎãàÎã§. ÏùΩÏùÑ ÎïåÎäî ÎèÑÏÑúÍ¥Ä Ï±ÖÏùÑ Ï∞∏Ï°∞Ìï©ÎãàÎã§. 100Î™ÖÏù¥Îì† 1000Î™ÖÏù¥Îì† Ï±ÖÏùÄ Ìïú Í∂åÏù¥Î©¥ Îê©ÎãàÎã§.
    
    #### 2. Ïã§Ï†ú Ï∞®Ïù¥ (Real World Impact)
    *   OpenClaw(Moltbot) ÌîÑÎ°úÏ†ùÌä∏Îäî ÏàòÎ∞± Í∞úÏùò ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÏîÅÎãàÎã§.
    *   **npm ÏÇ¨Ïö© Ïãú**: ÌîÑÎ°úÏ†ùÌä∏Î•º Î≥µÏÇ¨Ìï† ÎïåÎßàÎã§ 1GBÍ∞Ä ÎÑòÎäî `node_modules` Ìè¥ÎçîÍ∞Ä Í≥ÑÏÜç Î≥µÏ†úÎê©ÎãàÎã§. ÌïòÎìúÎîîÏä§ÌÅ¨Í∞Ä ÏàúÏãùÍ∞ÑÏóê ÍΩâ Ï∞πÎãàÎã§.
    *   **pnpm ÏÇ¨Ïö© Ïãú**: 100Í∞úÎ•º Î≥µÏÇ¨Ìï¥ÎèÑ Ïö©ÎüâÏùÄ Í±∞Ïùò ÎäòÏñ¥ÎÇòÏßÄ ÏïäÏäµÎãàÎã§. (Content Addressable Store Î∞©Ïãù)
    
    #### 3. Í≤∞Ï†ïÏ†Å Ïù¥Ïú† (Killer Feature): ÏóÑÍ≤©Ìï®(Strictness)
    *   **npmÏùò Ïú†Î†π(Phantom Dependencies)**: npmÏùÄ ÎÇ¥Í∞Ä ÏÑ§ÏπòÌïòÏßÄ ÏïäÏùÄ ÎùºÏù¥Î∏åÎü¨Î¶¨ÎèÑ Ïã§ÏàòÎ°ú Ïì∏ Ïàò ÏûàÍ≤å ÌóàÏö©ÌïòÎäî Î≤ÑÍ∑∏(ÌòπÏùÄ Í¥ÄÎåÄÌï®)Í∞Ä ÏûàÏäµÎãàÎã§. ÎÇòÏ§ëÏóê Î∞∞Ìè¨Ìï† Îïå "Ïñ¥? ÎÇ¥ Ïª¥Ìì®ÌÑ∞ÏóêÏÑ† ÎêòÎäîÎç∞ ÏÑúÎ≤ÑÏóêÏÑ† Ïïà ÎèºÏöî!" ÌïòÎäî ÏßÄÏò•ÏùÑ ÎßõÎ≥¥Í≤å Îê©ÎãàÎã§.
    *   **pnpm**: ÎÇ¥Í∞Ä `package.json`Ïóê Î™ÖÏãúÌïú Í≤ÉÎßå Ï†ïÌôïÌûà Ïì∏ Ïàò ÏûàÍ≤å ÎßâÏïÑÏ§çÎãàÎã§. **"Ï†ïÏùòÎêòÏßÄ ÏïäÏùÄ Í≤ÉÏùÄ ÏóÜÎã§"** Îäî Ï≤†ÌïôÏûÖÎãàÎã§.
    
    ---

    #### 1-1-2. üõë [Î≥¥Ï∂© ÏàòÏóÖ] npmÏù¥ ÎèÑÎåÄÏ≤¥ Î≠îÍ∞ÄÏöî? (What is npm?)


    "Í∞úÎ∞úÏûêÎì§ÏùÄ Ïôú ÏûêÍæ∏ `npm npm` Í±∞Î¶¨Îäî Í±∏ÍπåÏöî?"

    #### 1. ÏùÄÏú†(Metaphor): Í∞úÎ∞úÏûêÎì§Ïùò "Ïï±Ïä§ÌÜ†Ïñ¥" ÌòπÏùÄ "Îã§Ïù¥ÏÜå"
    *   **ÏïÑÏù¥Ìè∞ Ïï±Ïä§ÌÜ†Ïñ¥**: Ïπ¥Ïπ¥Ïò§ÌÜ°Ïù¥ ÌïÑÏöîÌïòÎ©¥ Ïö∞Î¶¨Í∞Ä ÏßÅÏ†ë ÏΩîÎî©Ìï¥ÏÑú ÎßåÎì§ÏßÄ ÏïäÏ£†? **Ïï±Ïä§ÌÜ†Ïñ¥**ÏóêÏÑú Îã§Ïö¥Î°úÎìú Î∞õÏäµÎãàÎã§.
    *   **npm (Node Package Manager)**: Í∞úÎ∞úÌï† Îïå "Îã¨Î†• Í∏∞Îä•"Ïù¥ÎÇò "ÏïîÌò∏Ìôî Í∏∞Îä•"Ïù¥ ÌïÑÏöîÌïòÎ©¥ ÏßÅÏ†ë ÏßúÏßÄ ÏïäÍ≥† **npm**Ïù¥ÎùºÎäî **Î¨¥Î£å Î∂ÄÌíà ÏÉÅÏ†ê**ÏóêÏÑú Îã§Ïö¥Î°úÎìú Î∞õÏäµÎãàÎã§.
    
    #### 2. Î†àÍ≥† Î∏îÎ°ù (Lego Blocks)
    *   Ïó¨Îü¨Î∂ÑÏù¥ **"ÏÑ±(Castle)"** ÏùÑ ÎßåÎì†Îã§Í≥† ÏÉÅÏÉÅÌï¥ Î≥¥ÏÑ∏Ïöî.
    *   ÌîåÎùºÏä§Ìã±ÏùÑ ÎÖπÏó¨ÏÑú Î∏îÎ°ù ÌïòÎÇòÌïòÎÇòÎ•º ÏßÅÏ†ë ÎßåÎìúÎäî Í±¥ ÎØ∏Ïπú ÏßìÏûÖÎãàÎã§. (Ïù¥Í≤å npm ÏóÜÏù¥ Í∞úÎ∞úÌïòÎäî Í≤É)
    *   npmÏùÄ **"Î¨∏", "Ï∞ΩÎ¨∏", "ÏÑ±Î≤Ω" Î∏îÎ°ùÏùÑ ÎØ∏Î¶¨ ÎßåÎì§Ïñ¥ ÌååÎäî Í∞ÄÍ≤å**ÏûÖÎãàÎã§. Ïö∞Î¶¨Îäî `npm install castle-wall` Î™ÖÎ†πÏñ¥ Ìïú Ï§ÑÎ°ú ÏÑ±Î≤Ω Î∏îÎ°ùÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú Ï°∞Î¶ΩÎßå ÌïòÎ©¥ Îê©ÎãàÎã§.
    
    #### 3. ÏÇ¨Ïö©ÌïòÎäî Ïù¥Ïú† (Why?)
    *   **ÏãúÍ∞Ñ Ï†àÏïΩ**: ÎÇ®Îì§Ïù¥ 10ÎÖÑ ÎèôÏïà ÎßåÎì† Í≤ÄÏ¶ùÎêú ÏΩîÎìúÎ•º 1Ï¥à ÎßåÏóê Í∞ÄÏ†∏ÏôÄ ÏîÅÎãàÎã§.
    *   **Í≤ÄÏ¶ùÎêú ÌíàÏßà**: Ï†Ñ ÏÑ∏Í≥Ñ ÏàòÎ∞±Îßå Î™ÖÏù¥ Í∞ôÏù¥ Í≥†Ï≥êÎÇòÍ∞ÄÎäî ÏΩîÎìúÎùºÏÑú, ÎÇ¥Í∞Ä Ïß† ÏΩîÎìúÎ≥¥Îã§ ÌäºÌäºÌï† ÌôïÎ•†Ïù¥ ÎÜíÏäµÎãàÎã§.

    #### 4. ÏÇ¨Ïö© Î∞©Î≤ï (How?)
    ÌÑ∞ÎØ∏ÎÑêÏóê Ï£ºÎ¨∏ÏùÑ Ïô∏Ïö∞Î©¥ Îê©ÎãàÎã§.
    ![ÌÑ∞ÎØ∏ÎÑê Ìå®ÌÇ§ÏßÄ ÏÑ§Ïπò ÏòàÏãú](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/terminal_install_demo_1770239070407.png)
    *   `npm install [Î∂ÄÌíàÏù¥Î¶Ñ]`: "Ïù¥ Î∂ÄÌíà Ïö∞Î¶¨ Ïßë(ÌîÑÎ°úÏ†ùÌä∏)Ïóê Î∞∞Îã¨Ìï¥ Ï§ò."
    *   `pnpm install`: "Ïù¥ Î∂ÄÌíà Î∞∞Îã¨Ìï¥ Ï£ºÎäîÎç∞, ÏïÑÍπå ÎßêÌñàÎìØÏù¥ Îçî Ìö®Ïú®Ï†ÅÏúºÎ°ú(ÎèÑÏÑúÍ¥Ä Î∞©Ïãù) Î∞∞Îã¨Ìï¥ Ï§ò."
    
    ---

4.  **ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± (ÏßëÌÑ∞ Îã¶Í∏∞)**:

    1.  Î®ºÏ†Ä Ïª¥Ìì®ÌÑ∞ ÌïòÎìúÎîîÏä§ÌÅ¨(CÎìúÎùºÏù¥Î∏å ÌòπÏùÄ Ìôà ÎîîÎ†âÌÜ†Î¶¨)Ïóê `Workspace`ÎùºÎäî Ïù¥Î¶ÑÏùò Ìè¥ÎçîÎ•º ÎßåÎìúÏÑ∏Ïöî.
    2.  Í∑∏ `Workspace` Ìè¥Îçî ÏïàÏóê Îì§Ïñ¥Í∞ÄÏÑú, Îã§Ïãú `openclaw-lab`Ïù¥ÎùºÎäî ÏÉà Ìè¥ÎçîÎ•º ÎßåÎì≠ÎãàÎã§.
        *   Íµ¨Ï°∞: `ÎÇ¥ Ïª¥Ìì®ÌÑ∞` -> `Workspace` -> `openclaw-lab`
    
    ````carousel
    ![Windows ÌÑ∞ÎØ∏ÎÑê Íµ¨Ï°∞ (C:\Workspace\openclaw-lab)](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/windows_workspace_path_1770239153458.png)
    <!-- slide -->
    ![Mac ÌÑ∞ÎØ∏ÎÑê Íµ¨Ï°∞ (~/Workspace/openclaw-lab)](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/mac_workspace_path_1770239167630.png)
    ````
    3.  ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú Ìï¥Îãπ Ìè¥ÎçîÎ°ú Ïù¥ÎèôÌïú Îí§, Ï†ïÎ≥¥Î•º Í∏∞ÏûÖÌï©ÎãàÎã§.
        ```bash
        cd ~/Workspace/openclaw-lab
        pnpm init
        ```

    > [!TIP]
    > **üí° [Coach's Tip] Ïôú Íµ≥Ïù¥ `Workspace` Ìè¥ÎçîÎ•º ÎßåÎìúÎÇòÏöî?**
    >
    > Í∞úÎ∞úÏùÑ ÌïòÎã§ Î≥¥Î©¥ "Ïñ¥? Ï†ú ÌååÏùº Ïñ¥Îîî Í∞îÏ£†?" ÌïòÍ≥† Í∏∏ÏùÑ ÏûÉÎäî Í≤ΩÏö∞Í∞Ä Ï†ïÎßê ÎßéÏäµÎãàÎã§.
    > ÏúàÎèÑÏö∞(CÎìúÎùºÏù¥Î∏å) ÏÇ¨Ïö©Ïûê, Îß•(Ìôà) ÏÇ¨Ïö©Ïûê Î™®Îëê **`Workspace`ÎùºÎäî Í≥µÌÜµÎêú ÏïΩÏÜç Ïû•ÏÜå**Î•º Ï†ïÌï¥ÎëêÎ©¥, ÎÇòÏ§ëÏóê "Í≤ΩÎ°úÎ•º Î™ª Ï∞æÍ≤†Ïñ¥Ïöî" Í∞ôÏùÄ Î¨∏Ï†úÎ•º 99% ÏòàÎ∞©Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Í≤ÉÏùÄ Ï†Ñ ÏÑ∏Í≥Ñ Í∞úÎ∞úÏûêÎì§Ïùò **'Íµ≠Î£∞(Î∂àÎ¨∏Ïú®)'** Í∞ôÏùÄ ÏäµÍ¥ÄÏù¥Î©∞, Í≤ΩÎ°ú Î¨∏Ï†úÎ°ú Ìó∑Í∞àÎ¶¥ ÏùºÏùÑ ÏõêÏ≤ú Î¥âÏáÑÌï¥ Ï§çÎãàÎã§.

---

### 1-2. üö® [Ïã¨Ï∏µ Ïù¥Ìï¥] Ïôú ÏΩîÎìúÎ•º ÏßúÍ∏∞ Ï†ÑÏóê tsconfig.json Î∂ÄÌÑ∞ Í±¥ÎìúÎ¶¨ÎäîÍ∞Ä?


ÎßéÏùÄ Î∂ÑÎì§Ïù¥ *"ÏùºÎã® `server.ts` ÌååÏùº ÎßåÎì§Í≥† ÏΩîÎìúÎ∂ÄÌÑ∞ ÏπòÎ©¥ Ïïà ÎêòÎÇòÏöî?"* ÎùºÍ≥† Î¨ªÏäµÎãàÎã§. Í≤∞Î°†Î∂ÄÌÑ∞ ÎßêÌïòÎ©¥, **OpenClaw(Moltbot) Í∞ôÏùÄ Í±∞ÎåÄÌïú ÌîÑÎ°úÏ†ùÌä∏ÏóêÏÑúÎäî Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§.** Í∑∏ Ïù¥Ïú†Î•º ÏïÑÏ£º ÏâΩÍ≤å ÏÑ§Î™ÖÌï¥ ÎìúÎ¶ΩÎãàÎã§.

#### 1. ÏùÄÏú†(Metaphor): Í±¥Î¨ºÏùÑ ÏßìÍ∏∞ Ï†ÑÏùò "ÌÜ†ÏßÄ Ïö©ÎèÑ Î≥ÄÍ≤Ω"
*   **ÏùºÎ∞òÏ†ÅÏù∏ ÏΩîÎî© (HTML/JS)**: Îß®ÎïÖÏóê ÌÖêÌä∏Î•º ÏπòÎäî Í≤ÉÍ≥º Í∞ôÏäµÎãàÎã§. Í∑∏ÎÉ• Ìè¥ÎåÄ(`index.html`) ÍΩÇÍ≥† Ï≤ú(`script.js`) ÎçÆÏúºÎ©¥ ÏßëÏù¥ Îê©ÎãàÎã§. Í∑úÏπôÏù¥ ÏóÜÏñ¥ÎèÑ Îê©ÎãàÎã§.
*   **OpenClaw(Moltbot) (TS/ESM)**: 100Ï∏µÏßúÎ¶¨ ÎßàÏ≤úÎ£®Î•º ÏßìÎäî Í≤ÉÍ≥º Í∞ôÏäµÎãàÎã§. ÎïÖÏùÑ ÌååÍ∏∞ Ï†ÑÏóê **"Ïó¨Í∏∞Îäî ÏÉÅÏóÖÏßÄÍµ¨Ïù¥Î©∞, ÎÇ¥ÏßÑ ÏÑ§Í≥Ñ Í∏∞Ï§ÄÏùÄ 7.0Ïù¥Í≥†, Ï≤†Í∑ºÏùÄ KSÍ∑úÍ≤©ÏùÑ Ïç®Ïïº ÌïúÎã§"** Îäî **Î≤ïÏ†Å/ÌñâÏ†ïÏ†Å ÌóàÍ∞Ä(`tsconfig.json`)** Í∞Ä Î®ºÏ†Ä Îñ®Ïñ¥Ï†∏Ïïº Ìï©ÎãàÎã§. ÌóàÍ∞ÄÏ¶ù ÏóÜÏù¥ Ï≤†Í∑º(`import`)ÏùÑ ÌïòÎÇòÎùºÎèÑ ÏÑ∏Ïö∞Î©¥ Í≥µÏÇ¨ Ï§ëÏßÄ Î™ÖÎ†π(`Syntax Error`)Ïù¥ Îñ®Ïñ¥ÏßëÎãàÎã§.

#### 2. ÎπÑÍµê(Comparison): ÎèôÎÑ§ Ï∂ïÍµ¨ vs ÏõîÎìúÏªµ
*   **ÎèôÎÑ§ Ï∂ïÍµ¨ (Legacy JS Project)**: Ïã¨ÌåêÎèÑ ÏóÜÍ≥† Í∑úÏπôÎèÑ ÎåÄÏ∂©ÏûÖÎãàÎã§. "ÏÜêÎßå Ïïà Ïì∞Î©¥ Îèº." Î∞îÎ°ú Í≥µ Ï∞®Î©¥ Îê©ÎãàÎã§.
*   **ÏõîÎìúÏªµ (Modern TypeScript Project)**: Í≤ΩÍ∏∞ ÏãúÏûë Ï†ÑÏóê "Ïò§ÌîÑÏÇ¨Ïù¥Îìú Î∞òÏπô Í∏∞Ï§Ä", "VAR ÌåêÎèÖ Ïó¨Î∂Ä", "ÍµêÏ≤¥ ÏÑ†Ïàò Ïà´Ïûê"Í∞Ä Î£∞Î∂Å(`tsconfig.json`)Ïóê Ï†ïÏùòÎêòÏñ¥Ïïº Ìï©ÎãàÎã§. OpenClaw(Moltbot)ÏùÄ ÏõîÎìúÏªµ Í≤∞ÏäπÏ†ÑÍ∏âÏùò ÏóÑÍ≤©Ìïú Í∑úÏπô ÌïòÏóê ÎèåÏïÑÍ∞ÄÎäî ÏãúÏä§ÌÖúÏûÖÎãàÎã§.

#### 3. Ïã§Ï†ú ÏòàÏãú (Real World Scenario)
ÎßåÏïΩ ÏÑ§Ï†ï ÏóÜÏù¥ Î∞îÎ°ú ÏΩîÎìúÎ•º Ïß†Îã§Î©¥?
*   **Í∞úÎ∞úÏûê**: (ÏûêÏã†ÏûàÍ≤å) `import { Server } from 'http';`
*   **Ïª¥Ìì®ÌÑ∞(Node.js)**: "Ïû†Íπê, `import`Í∞Ä Î≠êÏ£†? Ï†ÄÎäî ÏòõÎÇ† Î∞©Ïãù(`require`)Î∞ñÏóê Î™®Î•¥ÎäîÎç∞Ïöî?" -> **ÏóêÎü¨ Î∞úÏÉù (Crash)**
*   **Í∞úÎ∞úÏûê**: (ÎãπÌô©ÌïòÎ©∞) "Ïñ¥? ÏöîÏ¶ò Îã§ Ïù¥Í±∞ Ïì∞ÎçòÎç∞?"
*   **Ïª¥Ìì®ÌÑ∞**: "Í∑∏Í±¥ `tsconfig.json` Ïù¥ÎùºÎäî Î≤àÏó≠Í∏∞Í∞Ä ÏûàÏùÑ Îïå ÏñòÍ∏∞ÏûÖÎãàÎã§. Ï†ÄÌïúÌÖå ÎØ∏Î¶¨ Ïñ∏ÏßàÏùÑ Ïïà Ï£ºÏÖ®ÏûñÏïÑÏöî."

**Í≤∞Î°†**: `tsconfig.json`ÏùÑ Î®ºÏ†Ä ÎßåÎìúÎäî Í≤ÉÏùÄ Ïª¥Ìì®ÌÑ∞ÏóêÍ≤å **"ÏßÄÍ∏àÎ∂ÄÌÑ∞ Ïö∞Î¶¨Îäî ÏµúÏã† Ïú†ÌñâÏñ¥(ESM)ÏôÄ ÏóÑÍ≤©Ìïú Î¨∏Î≤ï(TypeScript)ÏúºÎ°ú ÎåÄÌôîÌï† Í±∞Ïïº. Ï§ÄÎπÑÌï¥."** ÎùºÍ≥† ÏÑ†Ï†ÑÌè¨Í≥†Î•º ÌïòÎäî Í≤ÉÏûÖÎãàÎã§. Ïù¥ Ìï©ÏùòÍ∞Ä ÏóÜÏúºÎ©¥ Îã® Ìïú Ï§ÑÏùò ÏΩîÎìúÎèÑ Ïã§ÌñâÎêòÏßÄ ÏïäÏäµÎãàÎã§.
    
    ---

    ### 1-3. üõ†Ô∏è [Ïã§Ï†Ñ Í∞ÄÏù¥Îìú] tsconfig.json ÏÑ§Ï†ï Î∞è Ï¥àÏ†ïÎ∞Ä Î∂ÑÏÑù

    
    "MoltbotÏùÄ ÎåÄÌòï ÌîÑÎ°úÏ†ùÌä∏ÎùºÏÑú Ïù¥ÎØ∏ ÏûàÏóàÏßÄÎßå, **Îß®ÎïÖÏóêÏÑú ÏãúÏûëÌïòÎäî ÎÇòÎßåÏùò ÏûëÏùÄ Ïï±**ÏùÄ Ïñ¥ÎñªÍ≤å ÌïòÏ£†?"
    
    #### 1. ÏûêÎèô ÏÉùÏÑ± (Í∞ÄÏû• Ï∂îÏ≤úÌïòÎäî ÏãúÏûëÎ≤ï)
    ÌÑ∞ÎØ∏ÎÑêÏóê Îî± Ìïú Ï§ÑÎßå ÏûÖÎ†•ÌïòÏÑ∏Ïöî. TypeScript(tsc)Í∞Ä ÏïåÏïÑÏÑú "Í∞ÄÏû• ÌëúÏ§ÄÏ†ÅÏù∏" ÏÑ§Ï†ï ÌååÏùºÏùÑ ÎßåÎì§Ïñ¥Ï§çÎãàÎã§.
    
    ```bash
    npx tsc --init
    ```
    
    *   **Í≤∞Í≥º**: ÏàòÎßéÏùÄ Ï£ºÏÑùÏù¥ Îã¨Î¶∞ `tsconfig.json` ÌååÏùºÏù¥ ÎøÖ! ÌïòÍ≥† ÏÉùÍπÅÎãàÎã§.
    *   **Ïû•Ï†ê**: Í∞Å ÏòµÏÖòÏù¥ Î¨¥ÏóáÏùÑ ÏùòÎØ∏ÌïòÎäîÏßÄ Ï£ºÏÑùÏúºÎ°ú Îã§ ÏÑ§Î™ÖÎêòÏñ¥ ÏûàÏñ¥ÏÑú Í≥µÎ∂ÄÌïòÍ∏∞ Ï¢ãÏäµÎãàÎã§. ÎÇ¥Í∞Ä Î™∞ÎûêÎçò ÏòµÏÖòÎì§ÏùÑ Î∞úÍ≤¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.
    
    #### 2. ÏàòÎèô ÏÉùÏÑ± Î∞è ÏàòÏ†ï (Ï†ÑÎ¨∏Í∞ÄÍ∞Ä ÎêòÎäî Í∏∏)
    ÏûêÎèô ÏÉùÏÑ±Îêú ÌååÏùºÏùÄ "Î≤îÏö©Ï†Å"ÏûÖÎãàÎã§. ÌïòÏßÄÎßå OpenClaw(Moltbot)Ï≤òÎüº **Í≥†ÏÑ±Îä•/ÏµúÏã† Í∏∞Ïà†**ÏùÑ Ïì∞Î†§Î©¥ Î™á Í∞ÄÏßÄÎ•º Í≥†Ï≥êÏ§òÏïº Ìï©ÎãàÎã§.
    
    *   **Ïñ¥ÎîîÏÑúÎ∂ÄÌÑ∞ ÏãúÏûëÌïòÎÇòÏöî?**: ÌîÑÎ°úÏ†ùÌä∏Ïùò **Î£®Ìä∏ ÎîîÎ†âÌÜ†Î¶¨** (package.jsonÏù¥ ÏûàÎäî Í≥≥)Ïóê ÌååÏùºÏùÑ ÎßåÎìúÏÑ∏Ïöî.
    *   **Î¨¥Ïä® Í∑ºÍ±∞Î°ú Í∞íÏùÑ Ï†ïÌïòÎÇòÏöî? (The Rationale)**:
        1.  **`target` (Î¨∏Î≤ï ÏàòÏ§Ä)**: "ÎÇ¥ ÏÑúÎ≤ÑÏùò Node.js Î≤ÑÏ†ÑÏù¥ Î™áÏù∏Í∞Ä?"
            *   Node 14 Ïì∞Î©¥? -> `ES2020` (Node 14Í∞Ä ÏïåÏïÑÎì£Îäî ÌïúÍ≥Ñ)
            *   Node 20+ Ïì∞Î©¥? -> `ES2022` (ÏµúÏã† Í∏∞Îä• Îã§ Ïç®ÎèÑ Îê®, Îπ†Î¶Ñ)
        2.  **`module` (ÏÜåÌÜµ Î∞©Ïãù)**: "ÎÇòÎäî ÏµúÏã†ÏãùÏù∏Í∞Ä, Íµ¨ÏãùÏù∏Í∞Ä?"
            *   ÏöîÏ¶ò ÎåÄÏÑ∏ -> `NodeNext` (ESM Í∏∞Î∞ò, OpenClaw(Moltbot)Ïù¥ Ïì∞Îäî Í≤É)
            *   ÏòõÎÇ† Ìò∏Ìôò -> `CommonJS`
        3.  **`strict` (ÏóÑÍ≤©Ìï®)**: "ÎØ∏ÎûòÏùò ÎÇòÎ•º ÎØøÎäîÍ∞Ä?"
            *   `true`: "ÎÇòÎäî ÎÇòÎ•º Î™ª ÎØøÎäîÎã§. Ïª¥ÌååÏùºÎü¨Ïïº, Ï°∞Í∏àÏù¥ÎùºÎèÑ Ïù¥ÏÉÅÌïòÎ©¥ Îã§ Ïû°ÏïÑÎÇ¥Îùº." (**Í∞ïÎ†• Ï∂îÏ≤ú**, ÎÇòÏ§ëÏóê ÌîÑÎ°úÏ†ùÌä∏ Ïª§Ï†∏ÎèÑ Î¶¨Ìå©ÌÜ†ÎßÅ ÎπÑÏö© 0Ïõê)
            *   `false`: "Í∑ÄÏ∞ÆÏïÑ, ÎåÄÏ∂© ÏßúÍ≥† ÎÇòÏ§ëÏóê Í≥†Ïπ†Í≤å." (ÎÇòÏ§ëÏóê ÌîÑÎ°úÏ†ùÌä∏ Ïª§ÏßÄÎ©¥ ÏßÄÏò• ÌéºÏ≥êÏßê)

    **ÏöîÏïΩ**: ÏûëÏùÄ ÌîÑÎ°úÏ†ùÌä∏ÎùºÎèÑ `npx tsc --init`ÏúºÎ°ú ÏãúÏûëÌïòÍ≥†, `target: ES2022`, `module: NodeNext`, `strict: true` Ïù¥ ÏÑ∏ Í∞ÄÏßÄÎßå ÏºúÏ£ºÏÑ∏Ïöî. Í∑∏Îü¨Î©¥ ÎÇòÏ§ëÏóê Íµ¨Í∏Ä, ÌéòÏù¥Ïä§Î∂ÅÍ∏âÏúºÎ°ú ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Ïª§Ï†∏ÎèÑ ÎÅÑÎñ°ÏóÜÏäµÎãàÎã§.

    ---

#### 1-3-1. TypeScript ÏÑ§Ï†ï (`tsconfig.json`) - ÏïÑÌÇ§ÌÖçÏ≤ò Ïã¨Ï∏µ Î∂ÑÏÑù
    

    Ïù¥ ÏÑ§Ï†ï ÌååÏùºÏùÄ ÌîÑÎ°úÏ†ùÌä∏Ïùò **"Î≤ïÏ†Ñ(ÂÆ™Ê≥ï)"**Í≥º Í∞ôÏäµÎãàÎã§. Îã®ÏàúÌïú ÏÑ§Ï†ïÏù¥ ÏïÑÎãàÎùº, Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Í∞Ä **Î™®Îçò ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ ÏÉùÌÉúÍ≥Ñ(ESM)** ÏóêÏÑú Ïñ¥ÎñªÍ≤å ÏÇ¥ÏïÑÎÇ®ÏùÑÏßÄÎ•º Ï†ïÏùòÌï©ÎãàÎã§.

    *   **ÏΩîÎìú (ÏõêÎ≥∏ Source Code)**:
        ```json
        {
          "compilerOptions": {
            "target": "ES2022",
            "module": "NodeNext",
            "moduleResolution": "NodeNext",
            "outDir": "dist",
            "rootDir": "src",
            "strict": true,
            "esModuleInterop": true,
            "forceConsistentCasingInFileNames": true,
            "skipLibCheck": true,
            "resolveJsonModule": true,
            "noEmitOnError": true,
            "allowSyntheticDefaultImports": true
          },
          "include": ["src/**/*"],
          "exclude": [
            "node_modules",
            "dist",
            "src/**/*.test.ts",
            "src/**/*.test.tsx",
            "src/**/test-helpers.ts"
          ]
        }
        ```

    *   **üî¨ Ï¥àÏ†ïÎ∞Ä Î∂ÑÏÑù (Micro-Analysis)**:

        *   **[1] `target`: "ES2022"**
            *   **ÏùòÎØ∏**: "Í≤∞Í≥ºÎ¨º(JS)Ïù¥ 2022ÎÖÑÎèÑ ÌëúÏ§Ä Î¨∏Î≤ïÏùÑ ÏÇ¨Ïö©Ìï¥Îùº."
            *   **Why?**: Node.js 18+ Î≤ÑÏ†ÑÎ∂ÄÌÑ∞Îäî `Top-level await`(ÎπÑÎèôÍ∏∞ Ìï®Ïàò Î∞ñÏóêÏÑú await Ïì∞Í∏∞), `Class properties` Í∞ôÏùÄ ÏµúÏã† Í∏∞Îä•ÏùÑ **ÎÑ§Ïù¥Ìã∞Î∏å**Î°ú ÏßÄÏõêÌï©ÎãàÎã§. Íµ≥Ïù¥ ÏòõÎÇ† Î¨∏Î≤ï(ES5)ÏúºÎ°ú Î∞îÍµ¨Î©¥ ÏΩîÎìúÍ∞Ä Í∏∏Ïñ¥ÏßÄÍ≥† ÎäêÎ†§ÏßëÎãàÎã§. ÏÑúÎ≤Ñ Ï†ÑÏö© ÌîÑÎ°úÏ†ùÌä∏Ïù¥ÎØÄÎ°ú Î∏åÎùºÏö∞Ï†Ä Ìò∏ÌôòÏÑ± Í±±Ï†ï ÏóÜÏù¥ ÏµúÏã† Î¨∏Î≤ïÏùÑ Ïç®ÏÑú **ÏÑ±Îä• ÏµúÏ†ÅÌôî**Î•º Ìï©ÎãàÎã§.

        *   **[2] `module` & `moduleResolution`: "NodeNext" (‚òÖ Í∞ÄÏû• Ï§ëÏöî)**
            *   **ÏùòÎØ∏**: "Node.jsÏùò ÏµúÏã† Î™®Îìà Ìï¥ÏÑù Í∑úÏπôÏùÑ ÏóÑÍ≤©ÌïòÍ≤å Îî∞ÎùºÎùº."
            *   **Î∞∞Í≤Ω**: ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏Îäî Ïó≠ÏÇ¨Ï†ÅÏúºÎ°ú `require()`Î•º Ïì∞Îäî **CJS(CommonJS)** ÏôÄ `import`Î•º Ïì∞Îäî **ESM(ECMAScript Modules)** ÏßÑÏòÅÏúºÎ°ú ÎÇòÎâòÏñ¥ Ï†ÑÏüÅ Ï§ëÏù¥ÏóàÏäµÎãàÎã§. ÏµúÏã† ÎùºÏù¥Î∏åÎü¨Î¶¨Îì§(Hono, Baileys, Chalk 5+)ÏùÄ Ïù¥Ï†ú **ESMÎßå ÏßÄÏõê(Pure ESM)** Ìï©ÎãàÎã§.
            *   **Why?**: ÎßåÏïΩ Ïù¥ ÏÑ§Ï†ïÏùÑ Ïïà ÌïòÎ©¥, `import { makeWASocket } from 'baileys'` Ìï† Îïå "Î™®ÎìàÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§"ÎùºÎäî ÏóêÎü¨Í∞Ä ÌÑ∞ÏßëÎãàÎã§. NodeNext Î™®ÎìúÎäî `.ts` ÌååÏùºÏù¥ Ïª¥ÌååÏùºÎê† Îïå ÌôïÏû•ÏûêÎ•º `.js`Î°ú Î∂ôÏùºÏßÄ `.mjs`Î°ú Î∂ôÏùºÏßÄ, `package.json`Ïùò `exports` ÌïÑÎìúÎ•º Ïñ¥ÎñªÍ≤å ÏùΩÏùÑÏßÄÎ•º Í≤∞Ï†ïÌï©ÎãàÎã§. **Ïù¥Í≤ÉÏù¥ ÏóÜÏúºÎ©¥ ÌîÑÎ°úÏ†ùÌä∏ ÏûêÏ≤¥Í∞Ä ÏãúÏûëÎêòÏßÄ ÏïäÏäµÎãàÎã§.**

        *   **[3] `strict`: true**
            *   **ÏùòÎØ∏**: "Ï°∞Í∏àÏù¥ÎùºÎèÑ Ïï†Îß§ÌïòÎ©¥ ÏóêÎü¨Î•º Î±âÏñ¥Îùº."
            *   **Why?**: `null`Ïù¥ÎÇò `undefined`Í∞Ä Îê† Ïàò ÏûàÎäî Î≥ÄÏàòÎ•º Ï≤¥ÌÅ¨ Ïïà ÌïòÍ≥† Ïì∞Î©¥ Îü∞ÌÉÄÏûÑÏóê ÏÑúÎ≤ÑÍ∞Ä Ï£ΩÏäµÎãàÎã§. TypeScriptÍ∞Ä ÏΩîÎî© Îã®Í≥ÑÏóêÏÑú **"ÎÑà Ïù¥Í±∞ null Ïùº ÏàòÎèÑ ÏûàÏñ¥!"**ÎùºÍ≥† Î©±ÏÇ¥ÏùÑ Ïû°Í≤å ÎßåÎìúÎäî ÏÑ§Ï†ïÏûÖÎãàÎã§. ÎåÄÍ∑úÎ™® ÌîÑÎ°úÏ†ùÌä∏Ïùò **ÏïàÏ†ÑÎ≤®Ìä∏**ÏûÖÎãàÎã§.

        *   **[4] `outDir`: "./dist"**
            *   **ÏùòÎØ∏**: "Î≤àÏó≠Îêú JS ÌååÏùºÏùÄ `dist` Ìè¥ÎçîÏóê Î™∞ÏïÑ ÎÑ£Ïñ¥Îùº."
            *   **Íµ¨Ï°∞Ï†Å Ïù¥Ïú†**: ÏÜåÏä§(`src`)ÏôÄ Í≤∞Í≥ºÎ¨º(`dist`)ÏùÑ Î∂ÑÎ¶¨Ìï¥Ïïº, ÎÇòÏ§ëÏóê Docker Ïù¥ÎØ∏ÏßÄÎ•º ÎßåÎì§ Îïå `dist`Îßå Ïèô Î≥µÏÇ¨Ìï¥ÏÑú Î∞∞Ìè¨ÌïòÍ∏∞ Ï¢ãÏäµÎãàÎã§. (Ïù¥ÎØ∏ÏßÄ ÌÅ¨Í∏∞ ÏµúÏÜåÌôî)

    *   **üö¶ ÏãúÏûëÏ†ê(Entry Point)Í≥ºÏùò Ïó∞Í≤∞**:
        Ïù¥ ÏÑ§Ï†ïÏùÄ `package.json`Ïùò `"type": "module"` ÏÑ§Ï†ïÍ≥º ÏÑ∏Ìä∏ÏûÖÎãàÎã§.
        1.  Node.jsÍ∞Ä Ïã§ÌñâÎêòÎ©¥ `package.json`ÏùÑ Î≥¥Í≥† "ÏïÑ, Ïù¥ ÌîÑÎ°úÏ†ùÌä∏Îäî ESMÏù¥Íµ¨ÎÇò"ÎùºÍ≥† Ïù∏ÏãùÌï©ÎãàÎã§.
        2.  `tsconfig.json`Ïùò `NodeNext` Í∑úÏπôÏóê Îî∞Îùº `import` Íµ¨Î¨∏ÏùÑ Ìï¥ÏÑùÌï©ÎãàÎã§.
        3.  `server.ts`ÏóêÏÑú `Hono`Î•º import Ìï† Îïå, `node_modules/hono/dist/index.mjs`Î•º Ï†ïÌôïÌûà Ï∞æÏïÑÎÉÖÎãàÎã§.



### 1-4. üöÄ 1Ïû• ÏöîÏïΩ: "ÌôòÍ≤Ω ÏÑ∏ÌåÖ" ÌÄµ ÎßàÏä§ÌÑ∞ Î¶¨Ïä§Ìä∏ (The Master Commands)


ÏßÄÍ∏àÍπåÏßÄ **1Ïû•: ÌîÑÎ°úÏ†ùÌä∏ Ï¥àÍ∏∞Ìôî**ÏóêÏÑú ÏàòÌñâÌïú Î™®Îì† Îã®Í≥ÑÎ•º ÌïúÎààÏóê Ï†ïÎ¶¨ÌñàÏäµÎãàÎã§. ÌÑ∞ÎØ∏ÎÑêÏùÑ Ïó¥Í≥† Ïù¥ ÏàúÏÑúÎåÄÎ°úÎßå ÏßÑÌñâÌïòÏÖ®Îã§Î©¥, Ïó¨Îü¨Î∂ÑÏùò Ïª¥Ìì®ÌÑ∞Îäî Ïù¥Ï†ú Í∞ïÎ†•Ìïú ÌÜµÏó≠ ÏÑúÎ≤ÑÎ•º Í∞ÄÎèôÌï† ÏôÑÎ≤ΩÌïú Ï§ÄÎπÑÎ•º ÎßàÏπú ÏÉÅÌÉúÏûÖÎãàÎã§.

---

#### [Step 1] Í∏ÄÎ°úÎ≤å Ïù∏ÌîÑÎùº Íµ¨Ï∂ï (Ï†ÑÏó≠ ÎèÑÍµ¨)
Ïª¥Ìì®ÌÑ∞ Ïñ¥Îäê Í≥≥ÏóêÏÑúÎÇò Ïì∏ Ïàò ÏûàÎäî ÌïÑÏàò ÎèÑÍµ¨Îì§ÏùÑ Î®ºÏ†Ä ÏÑ§ÏπòÌï©ÎãàÎã§.
```bash
# 1. Node.js ÏÑ§Ïπò ÌôïÏù∏ (Î≤ÑÏ†Ñ 22 Ïù¥ÏÉÅ)
node -v

# 2. TypeScript Í∏ÄÎ°úÎ≤å ÏÑ§Ïπò (Î¨∏Î≤ï Í∞êÎ¶¨ÏÇ¨ ÏÑ†ÏûÑ)
npm install -g typescript

# 3. pnpm Í∏ÄÎ°úÎ≤å ÏÑ§Ïπò (ÏûêÏû¨ Í¥ÄÎ¶¨ ÏÜåÏû• ÏòÅÏûÖ)
npm install -g pnpm
```

#### [Step 2] Î≤†Ïù¥Ïä§Ï∫†ÌîÑ ÏßÄÏ†ï Î∞è ÏûÖÏ£º (Ï¥àÍ∏∞Ìôî)
ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏúÑÏπòÌï† Î¨ºÎ¶¨Ï†ÅÏù∏ Ï£ºÏÜåÎ•º Ï†ïÌïòÍ≥† 'Î¨∏Ìå®'Î•º ÎãµÎãàÎã§.
```bash
# 1. Ìè¥Îçî ÏÉùÏÑ± Î∞è Ïù¥Îèô (ÏßëÌÑ∞ Îã¶Í∏∞)
mkdir -p ~/Workspace/openclaw-lab
cd ~/Workspace/openclaw-lab

# 2. ÌîÑÎ°úÏ†ùÌä∏ ÏãúÏûë (Ìò∏Ï†Å ÎßåÎì§Í∏∞)
pnpm init
```

#### [Step 3] ÏûêÏû¨ Ï£ºÎ¨∏ (ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÑ§Ïπò)
ÏÑúÎ≤ÑÎ•º ÎèåÎ¶¨Îäî Îç∞ ÌïÑÏöîÌïú ÌïµÏã¨ Î∂ÄÌíàÍ≥º ÏÑ§Í≥Ñ ÎèÑÍµ¨Î•º Ï£ºÎ¨∏Ìï©ÎãàÎã§.
```bash
# 1. ÌïµÏã¨ Îü∞ÌÉÄÏûÑ Î∞è ÌÜµÏã† Î∂ÄÌíà (Hono, Baileys, SQLite)
pnpm add hono @hono/node-server @whiskeysockets/baileys better-sqlite3

# 2. Í∞úÎ∞úÏö© Î≥¥Ïïà ÎèÑÍµ¨ (TS Î∞è ÌÉÄÏûÖ Ï†ïÏùò)
pnpm add -D typescript @types/node
```

#### [Step 4] ÌîÑÎ°úÏ†ùÌä∏ Î≤ïÏ†Ñ ÏûëÏÑ± (TS ÏÑ§Ï†ï)
Ïù¥ Í±¥Î¨ºÏùÑ ÏßÄÏùÑ Îïå ÏßÄÏºúÏïº Ìï† ÏóÑÍ≤©Ìïú Í∑úÏπôÏùÑ ÏÑ†Ìè¨Ìï©ÎãàÎã§.
```bash
# 1. tsconfig.json ÌååÏùº ÏÉùÏÑ±
npx tsc --init
```

---


![1Ïû• Í∏∞Ï¥à Í≥µÏÇ¨ ÏôÑÎ£å Í∏∞ÎÖê ÏÇ¨ÏßÑ](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/uploaded_media_1770240846955.png)

> **üí¨ ÏΩîÏπò ÏΩîÎ©òÌä∏(Sam LEE)**:

> "Ï∂ïÌïòÌï©ÎãàÎã§! ÎìúÎîîÏñ¥ ÌóòÎÇúÌïú **Í∏∞Ï¥à Í≥µÏÇ¨(1Ïû•)** Î•º Î¨¥ÏÇ¨Ìûà ÎßàÏπòÏÖ®ÏäµÎãàÎã§. Ïù¥Ï†ú Ïó¨Îü¨Î∂ÑÏùò Ìè¥ÎçîÏóêÎäî `package.json`Í≥º `tsconfig.json`Ïù¥ÎùºÎäî Îì†Îì†Ìïú ÏÑ§Í≥ÑÎèÑÍ∞Ä ÎÜìÏó¨ ÏûàÏäµÎãàÎã§. 2Ïû•Î∂ÄÌÑ∞Îäî Ïù¥ ÏÑ§Í≥ÑÎèÑÎ•º Î∞îÌÉïÏúºÎ°ú Ïã§Ï†ú ÏÑúÎ≤ÑÏùò 'Ïã¨Ïû•'Í≥º 'ÏûÖ/Í∑Ä'Î•º ÌïòÎÇòÏî© Ï°∞Î¶ΩÌï¥ ÎÇòÍ∞à Í≤ÉÏûÖÎãàÎã§. Ï§ÄÎπÑÎêòÏÖ®ÎÇòÏöî? Í∞ÄÎ¥ÖÏãúÎã§!"

---


## Chapter 2. Gateway Server Íµ¨Ï∂ï (The Nervous System)


GatewayÎäî Îã®ÏàúÌïú ÏÑúÎ≤ÑÍ∞Ä ÏïÑÎãôÎãàÎã§. Î™®Îì† Îç∞Ïù¥ÌÑ∞(Î©îÏãúÏßÄ, Î™ÖÎ†π)Í∞Ä ÏßÄÎÇòÍ∞ÄÎäî **Í≥†ÏÜçÎèÑÎ°úÏù¥Ïûê, ÏãúÏä§ÌÖúÏùò Ï§ëÏ∂î Ïã†Í≤ΩÎßù**ÏûÖÎãàÎã§.

### 2-1. üõë Í∏∞Ï¥àÏßÄÏãù: ÎèÑÎåÄÏ≤¥ "Gateway Server"Í∞Ä Î≠îÍ∞ÄÏöî? (What is a Gateway Server?)


"Í∑∏ÎÉ• ÏÑúÎ≤ÑÎùºÍ≥† ÌïòÎ©¥ ÎêòÏßÄ, Ïôú Í≤åÏù¥Ìä∏Ïõ®Ïù¥ÎùºÎäî Ïñ¥Î†§Ïö¥ ÎßêÏùÑ Ïì∞ÎÇòÏöî?"

#### 1. Ï†ïÏùò (Definition)
Í≤åÏù¥Ìä∏Ïõ®Ïù¥(Gateway)Îäî ÏßÅÏó≠ÌïòÎ©¥ **"Í¥ÄÎ¨∏"** ÏûÖÎãàÎã§. ÏÑúÎ°ú Îã§Î•∏ ÎÑ§Ìä∏ÏõåÌÅ¨ÎÇò ÏãúÏä§ÌÖúÏù¥ ÎßåÎÇòÎäî 'ÌÜµÎ°ú' Ïó≠Ìï†ÏùÑ ÌïòÎäî ÌäπÏàò ÏÑúÎ≤ÑÎ•º ÎßêÌï©ÎãàÎã§. Ïö∞Î¶¨ ÌîÑÎ°úÏ†ùÌä∏ÏóêÏÑú GatewayÎäî **"Ïô∏Î∂Ä Î©îÏã†Ï†Ä(WhatsApp Îì±)ÏôÄ ÎÇ¥Î∂Ä AI ÏóêÏù¥Ï†ÑÌä∏ ÏÇ¨Ïù¥Ïùò Ï§ëÍ≥ÑÏã§"** ÏûÖÎãàÎã§.

#### 2. ÏùÄÏú† (Metaphor): "Ïù∏Ï≤ú Í≥µÌï≠Ïùò ÏûÖÏ∂úÍµ≠ Ïã¨ÏÇ¨ÎåÄ"
*   **Ïô∏Î∂Ä ÏÑ∏ÏÉÅ**: ÎØ∏Íµ≠, Ï§ëÍµ≠, ÏùºÎ≥∏ Îì± Ïñ∏Ïñ¥ÏôÄ Í∑úÍ≤©Ïù¥ Îã§Î•∏ Ïó¨Îü¨ ÎÇòÎùº (WhatsApp, Slack, Telegram...)
*   **Í≥µÌï≠ (Gateway)**: Î™®Îì† ÏÜêÎãòÏùÄ ÏùºÎã® Í≥µÌï≠ÏúºÎ°ú Îì§Ïñ¥ÏòµÎãàÎã§. Ïó¨Í∏∞ÏÑú Ïó¨Í∂åÏùÑ Í≤ÄÏÇ¨ÌïòÍ≥†, Í≥µÌÜµÎêú ÏÑúÎ•ò(ÌëúÏ§Ä Îç∞Ïù¥ÌÑ∞)Î•º ÏûëÏÑ±Ìï©ÎãàÎã§.
*   **ÎÇ¥Î∂Ä ÎèÑÏãú (AI Brain)**: Í≥µÌï≠ÏùÑ ÌÜµÍ≥ºÌïú ÏÜêÎãòÏùÄ Ïù¥Ï†ú 'ÎåÄÌïúÎØºÍµ≠ ÌëúÏ§Ä Î≤ïÍ∑ú'Î•º Îî∞Î¶ÖÎãàÎã§. AIÎäî ÏÜêÎãòÏù¥ Ïñ¥Îäê ÎÇòÎùºÏóêÏÑú ÏôîÎì† ÏÉÅÍ¥ÄÏóÜÏù¥, Í≥µÌï≠ÏóêÏÑú Ï≤òÎ¶¨Ìï¥Ï§Ä **ÌëúÏ§Ä ÏñëÏãù**Îßå Î≥¥Í≥† ÎåÄÌôîÌïòÎ©¥ Îê©ÎãàÎã§.

#### 3. ÌïµÏã¨ Ïó≠Ìï† (Key Roles)
1.  **Ïñ∏Ïñ¥ ÌÜµÏùº (Normalization)**: WhatsAppÏùò Î≥µÏû°Ìïú Îç∞Ïù¥ÌÑ∞Î•º AIÍ∞Ä ÏïåÏïÑÎì£Í∏∞ Ïâ¨Ïö¥ ÍπîÎÅîÌïú ÌÖçÏä§Ìä∏Î°ú Î∞îÍøîÏ§çÎãàÎã§.
2.  **Î≥¥Ïïà Í≤ÄÎ¨∏ (Security)**: Ïù¥ÏÉÅÌïú Î™ÖÎ†πÏù¥ÎÇò Ìï¥ÌÇπ ÏãúÎèÑÍ∞Ä ÏóÜÎäîÏßÄ ÏûÖÍµ¨ÏóêÏÑú Ïª∑(Cut)Ìï©ÎãàÎã§.
3.  **ÍµêÌÜµ Ï†ïÎ¶¨ (Routing)**: ÏßàÎ¨∏ÏùÄ AIÏóêÍ≤å Î≥¥ÎÇ¥Í≥†, ÏÑ§Ï†ï Î≥ÄÍ≤ΩÏùÄ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î°ú Î≥¥ÎÇ¥Îäî Îì± ÏóÖÎ¨¥Î•º Î∞∞Î∂ÑÌï©ÎãàÎã§.

---


### 2-2. [ÏÑ§Í≥Ñ Ï≤†Ìïô] Ïôú Íµ≥Ïù¥ "Gateway" Íµ¨Ï°∞Î•º ÏÑ†ÌÉùÌñàÎäîÍ∞Ä? (Developer's Intent)


Í∞úÎ∞úÏûêÍ∞Ä Îã®ÏàúÌûà API ÏÑúÎ≤ÑÎ•º ÎßåÎì§ÏßÄ ÏïäÍ≥† `Gateway` Ìå®ÌÑ¥ÏùÑ ÎèÑÏûÖÌïú Îç∞ÏóêÎäî Î™ÖÌôïÌïú **Í±¥Ï∂ïÌïôÏ†Å ÏùòÎèÑ(Architectural Intent)** Í∞Ä ÏûàÏäµÎãàÎã§.

1.  **Ï∂îÏÉÅÌôîÏôÄ ÌÜµÏùº (The Universal Translator)**:
    *   **Î¨∏Ï†ú**: WhatsAppÏùÄ `JID`Î•º Ïì∞Í≥†, SlackÏùÄ `channel_id`Î•º Ïì∞Í≥†, TelegramÏùÄ `chat_id`Î•º ÏîÅÎãàÎã§. Î©îÏãúÏßÄ Ìè¨Îß∑ÎèÑ Ï†úÍ∞ÅÍ∞Å(JSON Íµ¨Ï°∞ ÏÉÅÏù¥)ÏûÖÎãàÎã§. ÏóêÏù¥Ï†ÑÌä∏(LLM)Í∞Ä Ïù¥ Î™®Îì† Ï∞®Ïù¥Î•º ÏïåÍ≤å ÌïòÎ©¥ ÏΩîÎìúÍ∞Ä ÏßÄÏò•Ïù¥ Îê©ÎãàÎã§.
    *   **Ìï¥Í≤∞**: GatewayÎäî Îì§Ïñ¥Ïò§Îäî Î™®Îì† ÏöîÏ≤≠ÏùÑ **"ÌëúÏ§ÄÌôîÎêú ÎÇ¥Î∂Ä Ïù¥Î≤§Ìä∏(Normalized Events)"** Î°ú Î≥ÄÌôòÌï©ÎãàÎã§. ÏóêÏù¥Ï†ÑÌä∏Îäî ÏÉÅÎåÄÎ∞©Ïù¥ WhatsAppÏù∏ÏßÄ Ïä¨ÎûôÏù∏ÏßÄ Ïïå ÌïÑÏöî ÏóÜÏù¥ Ïò§ÏßÅ **"Î©îÏãúÏßÄÍ∞Ä ÏôîÎã§"** Îäî ÏÇ¨Ïã§Îßå Ï≤òÎ¶¨ÌïòÎ©¥ Îê©ÎãàÎã§.

    > [!NOTE]
    > **üéì Í∞úÎÖê ÏàòÏóÖ: Ï∂îÏÉÅÌôî(Abstraction)Í∞Ä ÎèÑÎåÄÏ≤¥ Î≠îÍ∞ÄÏöî?**
    >
    > "Ï∂îÏÉÅÌôî"ÎùºÎäî ÎßêÏù¥ Ïñ¥Î†µÍ≤å ÎäêÍª¥ÏßÄÏãúÎÇòÏöî? ÏÇ¨Ïã§ Ïö∞Î¶¨Îäî ÌÉúÏñ¥ÎÇ† ÎïåÎ∂ÄÌÑ∞ Ï∂îÏÉÅÌôîÎ•º ÌïòÎ©∞ ÏÇ¥Í≥† ÏûàÏäµÎãàÎã§.
    >
    > **1. Ï†ïÏùò (Definition)**
    > *   **ÏÇ¨Ï†ÑÏ†Å ÏùòÎØ∏**: Ï§ëÏöîÌïú ÌäπÏßïÎßå ÎÇ®Í∏∞Í≥†, Î∂àÌïÑÏöîÌïú ÏÑ∏Î∂Ä ÏÇ¨Ìï≠ÏùÑ ÏßÄÏö∞Îäî Í≤É.
    > *   **ÏΩîÎî©Ï†Å ÏùòÎØ∏**: **"Î≥µÏû°Ìïú ÎÇ¥Î∂Ä ÏõêÎ¶¨Îäî Ïà®Í∏∞Í≥†, Îã®ÏàúÌïú ÏÇ¨Ïö©Î≤ï(Î≤ÑÌäº)Îßå ÎÖ∏Ï∂úÌïòÎäî Í≤É"**
    >
    > **2. ÏùÄÏú† (Metaphor): ÏûêÎèôÏ∞® Ïö¥Ï†Ñ**
    > *   **Íµ¨Ï≤¥Ìôî (Anti-Abstraction)**: ÏóëÏÖÄÏùÑ Î∞üÏùÑ ÎïåÎßàÎã§ "Ïó∞Î£å Î∞∏Î∏åÎ•º 30ÎèÑ Ïó¥Í≥†, Í≥µÍ∏∞ Ìù°ÏûÖÎüâÏùÑ 10% ÎäòÎ¶¨Í≥†, Ïä§ÌååÌÅ¨ ÌîåÎü¨Í∑∏Î•º Ï†êÌôîÌï¥Îùº"ÎùºÍ≥† ÏßÅÏ†ë Í∏∞Í≥Ñ Ï°∞ÏûëÏùÑ Ìï¥Ïïº ÌïúÎã§Î©¥? ÏïÑÎ¨¥ÎèÑ Ïö¥Ï†ÑÏùÑ Î™ª Ìï† Í≤ÅÎãàÎã§.
    > *   **Ï∂îÏÉÅÌôî (Abstraction)**: Í∑∏ÎÉ• **"Ïò§Î•∏Ï™Ω ÌéòÎã¨ÏùÑ Î∞üÏúºÎ©¥ -> ÏïûÏúºÎ°ú Í∞ÑÎã§"** ÎùºÎäî ÏÇ¨Ïã§Îßå ÏïåÎ©¥ Îê©ÎãàÎã§. ÎÇ¥Î∂Ä ÏóîÏßÑÏù¥ ÌúòÎ∞úÏú†Ïù∏ÏßÄ Ï†ÑÍ∏∞Ïù∏ÏßÄÎäî Î™∞ÎùºÎèÑ Îê©ÎãàÎã§. Ïù¥ "ÌéòÎã¨"Ïù¥ Î∞îÎ°ú Ï∂îÏÉÅÌôîÏùò Í≤∞Í≥ºÎ¨ºÏûÖÎãàÎã§.
    >
    > **3. ÏΩîÎìú ÏòàÏãú (Code Example)**
    > *   **ÎÇòÏÅú ÏΩîÎìú (Íµ¨Ï≤¥Ï†Å)**: Ïª§Ìîº ÌÉÄÎäî Í≥ºÏ†ïÏùÑ ÏùºÏùºÏù¥ Îã§ Ï†ÅÏùå.
    >     ```javascript
    >     // Î¨º ÎÅìÏù¥Í∏∞
    >     water.temperature = 100;
    >     // ÏõêÎëê Í∞àÍ∏∞
    >     beans.grind();
    >     // ÎÇ¥Î¶¨Í∏∞
    >     filter.pour(water);
    >     // ÏªµÏóê Îã¥Í∏∞
    >     cup.fill();
    >     ```
    > *   **Ï¢ãÏùÄ ÏΩîÎìú (Ï∂îÏÉÅÌôî)**: "Ïª§Ìîº Ï£ºÏÑ∏Ïöî" Ìïú ÎßàÎîîÎ©¥ Îê®.
    >     ```javascript
    >     makeCoffee(); // ÎÅù. (ÎÇ¥Î∂ÄÏóêÏÑú Î¨¥Ïä® ÏùºÏù¥ ÏùºÏñ¥ÎÇòÎäîÏßÄÎäî Ïù¥ Ìï®ÏàòÎ•º ÎßåÎì† ÏÇ¨ÎûåÎßå ÏïåÎ©¥ Îê®)
    >     ```
    >
    > **4. Í∞úÎ∞úÏûêÏùò ÏßÄÏπ® (Guideline)**
    > ÏïûÏúºÎ°ú ÏΩîÎìúÎ•º Ïß§ Îïå Ìï≠ÏÉÅ Ïä§Ïä§Î°úÏóêÍ≤å Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî.
    > **"ÎÇ¥Í∞Ä ÎßåÎì† Ïù¥ ÏΩîÎìúÎ•º Ïì∏ ÎèôÎ£å(ÌòπÏùÄ ÎØ∏ÎûòÏùò ÎÇò)ÏóêÍ≤å Ïù¥ Î≥µÏû°Ìïú Í≥ºÏ†ïÏùÑ Îã§ ÏÑ§Î™ÖÌï¥Ïïº ÌïòÎÇò? ÏïÑÎãàÎ©¥ Î≤ÑÌäº ÌïòÎÇò(`startGatewayServer`)Îßå Ï•êÏó¨Ï£ºÎ©¥ ÎêòÎÇò?"**
    >
    > Î≤ÑÌäº ÌïòÎÇòÎßå Ï•êÏó¨Ï£ºÎäî Í≤É, Í∑∏Í≤ÉÏù¥ Î∞îÎ°ú **"Ï∂îÏÉÅÌôîÎ•º ÏûòÌïòÎäî Í∞úÎ∞úÏûê"** ÏûÖÎãàÎã§.

2.  **Í≤∞Ìï©ÎèÑ Í∞êÏÜå (Decoupling)**:
    *   **ÏùòÎèÑ**: "Îáå(Agent)"ÏôÄ "ÏûÖ/Í∑Ä(Channel)"Î•º ÏôÑÎ≤ΩÌïòÍ≤å Î∂ÑÎ¶¨Ìï©ÎãàÎã§.
    *   **Ìö®Í≥º**: ÎÇòÏ§ëÏóê `Discord` Ï±ÑÎÑêÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† Ïã∂ÏùÑ Îïå, GatewayÏóê ÌîåÎü¨Í∑∏Ïù∏Îßå ÎÅºÏö∞Î©¥ Îê©ÎãàÎã§. ÏóêÏù¥Ï†ÑÌä∏ ÏΩîÎìúÎäî Îã® Ìïú Ï§ÑÎèÑ ÏàòÏ†ïÌï† ÌïÑÏöîÍ∞Ä ÏóÜÏäµÎãàÎã§. Ïù¥Í≤ÉÏù¥ **Micro-Kernel ÏïÑÌÇ§ÌÖçÏ≤ò**Ïùò ÌïµÏã¨ÏûÖÎãàÎã§.

    > [!TIP]
    > **üéì Í∞úÎÖê ÏàòÏóÖ: Micro-Kernel(ÎßàÏù¥ÌÅ¨Î°ú Ïª§ÎÑê) ÏïÑÌÇ§ÌÖçÏ≤òÎûÄ?**
    >
    > **"Ïä§ÎßàÌä∏Ìè∞Í≥º Ïï±Ïùò Í¥ÄÍ≥Ñ"** Î°ú Ïù¥Ìï¥ÌïòÎ©¥ Í∞ÄÏû• ÏôÑÎ≤ΩÌï©ÎãàÎã§.
    >
    > **1. Ï†ïÏùò (Definition)**
    > *   ÌïµÏã¨ Í∏∞Îä•(Ïã¨Ïû•)ÏùÄ ÏïÑÏ£º ÏûëÍ≥† Îã®Îã®ÌïòÍ≤å Ïú†ÏßÄÌïòÍ≥†, ÎÇòÎ®∏ÏßÄ Í∏∞Îä•Îì§ÏùÄ **ÌîåÎü¨Í∑∏Ïù∏(Î∂ÄÌíà)** Ï≤òÎüº ÎÅºÏõå Ïì∞Îäî Î∞©ÏãùÏûÖÎãàÎã§. Ïï±Ïä§ÌÜ†Ïñ¥ ÏïÑÌÇ§ÌÖçÏ≤òÎùºÍ≥†ÎèÑ Î∂àÎ¶ΩÎãàÎã§.
    >
    > **2. ÏùÄÏú† (Metaphor): Î©ÄÌã∞ÌÉ≠ (Power Strip)**
    > *   **Ïª§ÎÑê(Kernel)**: Ï†ÑÍ∏∞Í∞Ä ÌùêÎ•¥Îäî **Î©ÄÌã∞ÌÉ≠ Î≥∏Ï≤¥**ÏûÖÎãàÎã§. (GatewayÏùò ÌÜµÏã† Î∞è Ïù¥Î≤§Ìä∏ Í¥ÄÎ¶¨ Î°úÏßÅ)
    > *   **ÌîåÎü¨Í∑∏Ïù∏(Plug-in)**: Î©ÄÌã∞ÌÉ≠Ïóê ÍΩÇÎäî **TV, ÎÉâÏû•Í≥†, Ï∂©Ï†ÑÍ∏∞**ÏûÖÎãàÎã§. (WhatsApp Ï±ÑÎÑê, Slack Ï±ÑÎÑê, LLM ÏóîÏßÑ Îì±)
    > *   **Why?**: ÎÉâÏû•Í≥†Í∞Ä Í≥†Ïû• ÎÇ¨Îã§Í≥† Î©ÄÌã∞ÌÉ≠ Ï†ÑÏ≤¥Î•º Î≤ÑÎ¶¨ÏßÄ ÏïäÏ£†? Í∑∏ÎÉ• ÎÉâÏû•Í≥† ÏΩîÎìúÎßå Í≥†ÏπòÍ±∞ÎÇò ÌîåÎü¨Í∑∏Î•º ÎΩëÏúºÎ©¥ Îê©ÎãàÎã§. Îòê ÏÉàÎ°úÏö¥ Í∏∞Í≥Ñ(ÏÉàÎ°úÏö¥ Î©îÏã†Ï†Ä)Í∞Ä ÎÇòÏôÄÎèÑ Î©ÄÌã∞ÌÉ≠Ïóê Íµ¨Î©çÎßå ÏûàÎã§Î©¥ Ïñ∏Ï†úÎì† ÍΩÇÏïÑÏÑú Ï†ÑÍ∏∞Î•º Ïì∏ Ïàò ÏûàÏäµÎãàÎã§.
    >
    > **3. Ïû•Ï†ê (Benefits in OpenClaw)**
    > *   **ÌôïÏû•ÏÑ±**: ÏÇ¨Ïö©ÏûêÎãòÏù¥ ÎÇòÏ§ëÏóê "Ï†ÄÎäî ÌÖîÎ†àÍ∑∏Îû®ÎèÑ Ïó∞Í≤∞ÌïòÍ≥† Ïã∂Ïñ¥Ïöî"ÎùºÍ≥† Ìï† Îïå, Í∏∞Ï°¥ ÏÑúÎ≤Ñ ÏΩîÎìúÎ•º Í±¥ÎìúÎ¶¨ÏßÄ ÏïäÍ≥† ÌÖîÎ†àÍ∑∏Îû®Ïö© **'ÌîåÎü¨Í∑∏'**Îßå ÌïòÎÇò Îçî ÎßåÎì§Ïñ¥ÏÑú ÍΩÇÏúºÎ©¥ ÎÅùÎÇ©ÎãàÎã§.
    > *   **ÏïàÏ†ïÏÑ±**: ÌäπÏ†ï Ï±ÑÎÑê(ÌîåÎü¨Í∑∏Ïù∏)ÏóêÏÑú ÏóêÎü¨Í∞Ä ÎÇòÎèÑ, Î≥∏Ï≤¥(Ïª§ÎÑê)Îäî Ï£ΩÏßÄ ÏïäÍ≥† Îã§Î•∏ Ï±ÑÎÑêÎì§ÏùÑ Í≥ÑÏÜç Ïú†ÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§.
    >
    > **ÌïµÏã¨**: Î≥∏Ï≤¥Îäî ÏµúÎåÄÌïú Í∞ÄÎ≥çÍ≤å(Micro), Í∏∞Îä•ÏùÄ Ïô∏Î∂ÄÏóêÏÑú(Plugin)! Ïù¥Í≤ÉÏù¥ OpenClawÍ∞Ä ÏàòÎßéÏùÄ Î©îÏã†Ï†ÄÎ•º ÏûêÏú†ÏûêÏû¨Î°ú Îã§Î£®Îäî ÎπÑÍ≤∞ÏûÖÎãàÎã§.


3.  **ÏÉÅÌÉú Î∞è ÏÑ∏ÏÖò Ï§ëÏïô Í¥ÄÎ¶¨ (Centralized State)**:
    *   LLMÏùÄ "Í∏∞Ïñµ"Ïù¥ ÏóÜÏäµÎãàÎã§. ÏÇ¨Ïö©ÏûêÏùò ÎåÄÌôî Îß•ÎùΩ(Context)ÏùÑ Ï†ÄÏû•ÌïòÍ≥†, Ï†ÅÏ†àÌïú ÏãúÏ†êÏóê ÏûòÎùºÏÑú(Pruning) LLMÏóê ÎÑ£Ïñ¥Ï£ºÎäî **Í∏∞Ïñµ Í¥ÄÎ¶¨Ïûê Ïó≠Ìï†**ÏùÑ GatewayÍ∞Ä Ï§ëÏïô ÌÜµÏ†úÌï©ÎãàÎã§.

#### 2-2-1. [ÎπÑÍµê Î∂ÑÏÑù] Í≤åÏù¥Ìä∏Ïõ®Ïù¥ ÎßêÍ≥† Îã§Î•∏ Î∞©Î≤ïÏùÄ ÏóÜÎÇòÏöî? (Architectural Alternatives)


"Íº≠ Ïù¥Î†áÍ≤å Î≥µÏû°ÌïòÍ≤å Ìï¥Ïïº ÌïòÎÇòÏöî? Îçî Ïâ¨Ïö¥ Î∞©Î≤ïÏùÄ ÏóÜÎÇòÏöî?"

#### 1. Î™®ÎÜÄÎ¶¨Ïãù (Monolithic) - "ÏõêÎß®Î∞¥Îìú Ïä§ÌÉÄÏùº"
*   **Î∞©Ïãù**: `server.ts` ÌååÏùº ÌïòÎÇòÏóê WhatsApp ÏΩîÎìú, LLM ÏΩîÎìú, ÏõπÏÇ¨Ïù¥Ìä∏ ÏΩîÎìúÎ•º Îã§ ÎïåÎ†§ ÎÑ£Îäî Î∞©Ïãù.
*   **ÏùÄÏú†(Metaphor)**: **Î∂Å ÏπòÍ≥† Ïû•Íµ¨ ÏπòÎäî 1Ïù∏ ÏÑúÏª§Ïä§Îã®**. ÌòºÏûêÏÑú Îã§ ÌïòÎãàÍπå Ìï©ÏùÑ ÎßûÏ∂ú ÌïÑÏöîÍ∞Ä ÏóÜÏñ¥ ÏãúÏûëÏùÄ Îπ†Î¶ÖÎãàÎã§.
*   **Î¨∏Ï†úÏ†ê**: "ÌîºÏïÑÎÖ∏(Discord)"Î•º Ï∂îÍ∞ÄÌïòÎ†§Î©¥? ÏÑúÏª§Ïä§Îã®Ïõê Ï†ÑÏ≤¥Í∞Ä ÏïÖÍ∏∞ Î∞∞Ïö∞ÎäêÎùº Í≥µÏó∞ÏùÑ Î©àÏ∂∞Ïïº Ìï©ÎãàÎã§. ÏΩîÎìúÍ∞Ä 3,000Ï§Ñ ÎÑòÏñ¥Í∞ÄÎ©¥ Î≥∏Ïù∏ÎèÑ Î™ª ÏïåÏïÑÎ¥ÖÎãàÎã§.

#### 2. ÏßÅÏ†ë Ïó∞Í≤∞ (Point-to-Point) - "ÏπµÌÖåÏùº ÌååÌã∞ Ïä§ÌÉÄÏùº"
*   **Î∞©Ïãù**: AI ÏóêÏù¥Ï†ÑÌä∏Í∞Ä WhatsApp ÏÑúÎ≤Ñ, Slack ÏÑúÎ≤Ñ, Telegram ÏÑúÎ≤ÑÏóê Í∞ÅÍ∞Å Îî∞Î°úÎî∞Î°ú ÎßêÏùÑ Í±∞Îäî Î∞©Ïãù.
*   **ÏùÄÏú†(Metaphor)**: **ÌÜµÏó≠ÏÇ¨ ÏóÜÎäî Íµ≠Ï†úÏãúÏû•**. AIÍ∞Ä ÎèÖÏùºÏñ¥(WhatsApp), ÏòÅÏñ¥(Slack), Îü¨ÏãúÏïÑÏñ¥(Telegram)Î•º Îã§ Î∞∞ÏõåÏïº Ìï©ÎãàÎã§.
*   **Î¨∏Ï†úÏ†ê**: Ïπ¥Ïπ¥Ïò§ÌÜ° ÌïòÎÇò Ï∂îÍ∞ÄÌï† ÎïåÎßàÎã§ AI ÎáåÏàòÏà†ÏùÑ Îã§Ïãú Ìï¥Ïïº Ìï©ÎãàÎã§. (Ïú†ÏßÄÎ≥¥Ïàò ÏßÄÏò•)

#### 3. Í≤åÏù¥Ìä∏Ïõ®Ïù¥ (Gateway) - "Ïù∏Ï≤úÍ≥µÌï≠ Ïä§ÌÉÄÏùº" (Ïö∞Î¶¨Ïùò ÏÑ†ÌÉù)
*   **Î∞©Ïãù**: Î™®Îì† ÏÜêÎãò(Î©îÏãúÏßÄ)ÏùÄ ÏùºÎã® Í≥µÌï≠(Gateway)ÏúºÎ°ú ÏòµÎãàÎã§. Í≥µÌï≠ÏóêÏÑú Í≤ÄÏó≠(Validation)ÌïòÍ≥†, ÌëúÏ§Ä ÎπÑÏûê(Standardized Event)Î•º Î∞úÍ∏âÌï¥ÏÑú ÏûÖÍµ≠ÏãúÌÇµÎãàÎã§.
*   **ÏäπÎ¶¨ ÏöîÏù∏**: AIÎäî "Í≥µÌï≠ÏóêÏÑú Ïò® ÏÜêÎãò"Îßå ÏÉÅÎåÄÌïòÎ©¥ Îê©ÎãàÎã§. Í∑∏ ÏÜêÎãòÏù¥ ÎØ∏Íµ≠ÏóêÏÑú ÏôîÎì† Îã¨ÎÇòÎùºÏóêÏÑú ÏôîÎì† Ïã†Í≤Ω Ïì∏ ÌïÑÏöîÍ∞Ä ÏóÜÏäµÎãàÎã§. 
    > [!IMPORTANT]
    > **Ïù¥Í≤ÉÏù¥ 100ÎÖÑ Í∞ÄÎäî ÏÜåÌîÑÌä∏Ïõ®Ïñ¥Ïùò ÎπÑÎ∞ÄÏûÖÎãàÎã§.**


### 2-3. Gateway ÏãúÏä§ÌÖú Íµ¨Ï°∞ Î∞è Ï°∞Î¶Ω Ï†ÑÎûµ (Gateway Anatomy)


"ÌååÏùºÏù¥ ÎÑàÎ¨¥ ÎßéÏïÑÏöî! Ïñ¥ÎîîÏÑúÎ∂ÄÌÑ∞ Í±¥ÎìúÎ†§Ïïº ÌïòÏ£†?"
Í±±Ï†ï ÎßàÏÑ∏Ïöî. 100Í∞úÍ∞Ä ÎÑòÎäî ÌååÏùº Ï§ë, **ÌïµÏã¨ Ïû•Í∏∞(Core Organs)** 5Í∞úÎßå ÏïåÎ©¥ ÏÇ¥ÏïÑÏûàÎäî ÏÑúÎ≤ÑÎ•º ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§.

#### 1. ÌïµÏã¨ ÌååÏùº Íµ¨Ï°∞ (The Skeleton)
```text
src/gateway/
‚îú‚îÄ‚îÄ server.ts              # [1] ÏñºÍµ¥ (Face): Ïô∏Î∂ÄÏóêÏÑú Î∂ÄÎ•¥Îäî Ïù¥Î¶ÑÌëú (Entry Point)
‚îú‚îÄ‚îÄ server.impl.ts         # [2] Îáå (Brain): Î™®Îì† Ïû•Í∏∞Î•º Ïó∞Í≤∞ÌïòÍ≥† Î™ÖÎ†πÏùÑ ÎÇ¥Î¶¨Îäî Í≥≥
‚îú‚îÄ‚îÄ server-http.ts         # [3] ÏûÖ (Mouth): HTTP ÏöîÏ≤≠(ÏõπÏÇ¨Ïù¥Ìä∏ Ï†ëÏÜç)ÏùÑ Ï≤òÎ¶¨
‚îú‚îÄ‚îÄ server-ws-runtime.ts   # [4] Í∑Ä (Ears): WebSocket ÏöîÏ≤≠(Ïã§ÏãúÍ∞Ñ ÎåÄÌôî)ÏùÑ Ï≤òÎ¶¨
‚îî‚îÄ‚îÄ server-channels.ts     # [5] ÌåîÎã§Î¶¨ (Limbs): Ïπ¥ÌÜ°, Ïä¨Îûô Í∞ôÏùÄ Ïã§Ï†ú ÎèÑÍµ¨Îì§ÏùÑ Í¥ÄÎ¶¨
```

### 2-4. [Ïã§Ï†Ñ Í∞ÄÏù¥Îìú] VS CodeÏóêÏÑú 5ÎåÄ ÌïµÏã¨ Î∂ÄÌíà Ï°∞Î¶ΩÌïòÍ∏∞ (The Assembly Line)

Î¨¥ÏûëÏ†ï Ï†ÑÏ≤¥ ÏΩîÎìúÎ•º Î≥µÏÇ¨ÌïòÎ©¥ ÏóêÎü¨Í∞Ä 100Í∞ú ÎÑòÍ≤å ÎúπÎãàÎã§. Ïö∞Î¶¨Îäî **ÏùòÏ°¥ÏÑ±(Dependency)** ÏàúÏÑúÏóê Îî∞Îùº, ÎßàÏπò ÌîÑÎùºÎ™®Îç∏ÏùÑ Ï°∞Î¶ΩÌïòÎìØ **"Îπà ÍªçÎç∞Í∏∞(Stub)"** Î∂ÄÌÑ∞ ÌïòÎÇòÏî© ÎßåÎì§Ïñ¥ Í∞à Í≤ÉÏûÖÎãàÎã§.

> [!TIP]
> **VS Code Îã®Ï∂ïÌÇ§ ÌåÅ**: `Cmd + N` (Mac) ÎòêÎäî `Ctrl + N` (Windows)ÏùÑ ÎàÑÎ•∏ ÌõÑ `Cmd + S` / `Ctrl + S`Î•º ÎàåÎü¨ ÏïÑÎûò Í≤ΩÎ°úÎ°ú Ï†ÄÏû•ÌïòÏÑ∏Ïöî.

---

#### üì¶ Î∂ÄÌíà 1: ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨ (`src/gateway/server.ts`)
*   **Ïó≠Ìï†**: Ïö∞Î¶¨ ÏÑúÎ≤ÑÏùò "Í≥µÏãù Ïó∞ÎùΩÏ≤ò"ÏûÖÎãàÎã§. Ïô∏Î∂Ä(CLI/App)ÏóêÏÑúÎäî Ïò§ÏßÅ Ïù¥ ÌååÏùºÎßå Î≥¥Í≥† Î™ÖÎ†πÏùÑ ÎÇ¥Î¶ΩÎãàÎã§.
*   **VS Code ÏûëÏóÖ**: `src/gateway/` Ìè¥ÎçîÏóêÏÑú `server.ts` ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
*   **ÌïÑÏàò ÏΩîÎìú (Skeleton)**:
    ```typescript
    // ÎÇòÏ§ëÏóê Ïã§Ï†ú Íµ¨ÌòÑÏ≤¥(impl)ÏóêÏÑú Í∞ÄÏ†∏ÏôÄÏÑú Î∞ñÏúºÎ°ú ÎçòÏ†∏Ï§Ñ ÏòàÏ†ïÏûÖÎãàÎã§.
    // ÏßÄÍ∏àÏùÄ Îπ®Í∞Ñ Ï§ÑÏù¥ Îú®Í≤†ÏßÄÎßå, 'Íµ¨Ï°∞'Îßå Î®ºÏ†Ä Ïû°ÏäµÎãàÎã§.
    export { startGatewayServer } from "./server.impl.js";
    export type { GatewayServer } from "./server.impl.js";
    ```
*   **Ïù¥Ìï¥**: "ÎÇòÎäî ÏïàÎÇ¥ÏõêÏù¥Ïïº. ÏÇ¨Ïû•Îãò(impl)Ïù¥ Ïò§ÏãúÎ©¥ Î∞îÎ°ú Ïó∞Í≤∞Ìï¥Ï§ÑÍ≤å!"ÎùºÍ≥† ÏÑ†Ïñ∏ÌïòÎäî Îã®Í≥ÑÏûÖÎãàÎã§.

---

#### üì¶ Î∂ÄÌíà 2: Ï¢ÖÌï© ÏÉÅÌô©Ïã§ (`src/gateway/server.impl.ts`)
*   **Ïó≠Ìï†**: ÏÑúÎ≤ÑÏùò Î™®Îì† Í∏∞Îä•ÏùÑ Ï¥ùÍ¥ÑÌïòÎäî **"Îáå(Brain)"** ÏûÖÎãàÎã§. Ïã¨Ïû•Î∞ïÎèô, ÏûÖ, Í∑Ä, ÌåîÎã§Î¶¨Î•º Ïó¨Í∏∞ÏÑú Îã§ Ïó∞Í≤∞Ìï©ÎãàÎã§.
*   **VS Code ÏûëÏóÖ**: `src/gateway/` Ìè¥ÎçîÏóêÏÑú `server.impl.ts` ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
*   **ÌïÑÏàò ÏΩîÎìú (Skeleton)**:
    ```typescript
    import { narrate } from "../narrator.js";

    export interface GatewayServer { /* ÏÑúÎ≤ÑÏùò Î™ÖÌï® Ï†ïÎ≥¥ */ }

    export async function startGatewayServer() {
        narrate({ who: "startGatewayServer", role: "Ï¥ùÏÇ¨Î†πÍ¥Ä", action: "ÏãúÏä§ÌÖú Í∏∞Îèô ÏãúÏûë" });
        // Ïó¨Í∏∞Ïóê ÏïûÏúºÎ°ú HTTP, WS, Channel Î∂ÄÌíàÎì§ÏùÑ Ï°∞Î¶ΩÌï† Í≤ÅÎãàÎã§.
        console.log("üöÄ Gateway Server is ready!");
    }
    ```
*   **Ïù¥Ìï¥**: Î™®Îì† Î∂ÄÌíàÏù¥ Î™®Ïù¥Îäî **"Ï§ëÏïô Ï†úÏñ¥Î∞ò"**ÏùÑ ÏÑ§ÏπòÌïú Í≤ÉÏûÖÎãàÎã§.

---

#### üì¶ Î∂ÄÌíà 3: ÏÑúÎ≤ÑÏùò ÏûÖ (`src/gateway/server-http.ts`)
*   **Ïó≠Ìï†**: ÏõπÎ∏åÎùºÏö∞Ï†ÄÎÇò Ïô∏Î∂Ä ÏöîÏ≤≠ÏùÑ Î∞õÎäî **"ÏûÖ(Mouth)"** ÏûÖÎãàÎã§. (`Hono` ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÇ¨Ïö©)
*   **VS Code ÏûëÏóÖ**: `src/gateway/` Ìè¥ÎçîÏóêÏÑú `server-http.ts` ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
*   **ÌïÑÏàò ÏΩîÎìú (Skeleton)**:
    ```typescript
    import { Hono } from "hono";

    export function createHttpServer() {
        const app = new Hono();
        app.get("/", (c) => c.text("Hello! This is Gateway."));
        return app;
    }
    ```
*   **Ïù¥Ìï¥**: Ïô∏Î∂Ä ÏÇ¨ÎûåÎì§Í≥º ÎåÄÌôîÌï† Ïàò ÏûàÎäî **"Ï∞ΩÍµ¨"**Î•º Í∞úÏÑ§Ìïú Í≤ÉÏûÖÎãàÎã§.

---

#### üì¶ Î∂ÄÌíà 4: ÏÑúÎ≤ÑÏùò Í∑Ä (`src/gateway/server-ws-runtime.ts`)
*   **Ïó≠Ìï†**: Ïã§ÏãúÍ∞ÑÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º Ï£ºÍ≥†Î∞õÎäî **"Í∑Ä(Ears)"** ÏûÖÎãàÎã§. (WebSocket Ï≤òÎ¶¨)
*   **VS Code ÏûëÏóÖ**: `src/gateway/` Ìè¥ÎçîÏóêÏÑú `server-ws-runtime.ts` ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
*   **ÌïÑÏàò ÏΩîÎìú (Skeleton)**:
    ```typescript
    export function attachGatewayWsHandlers() {
        // WebSocket Ïó∞Í≤∞Ïù¥ Îì§Ïñ¥Ïò§Î©¥ "ÎàÑÍµ¨ÏÑ∏Ïöî?" ÌïòÍ≥† Îì£Îäî Î°úÏßÅÏù¥ Îì§Ïñ¥Í∞ëÎãàÎã§.
        console.log("üëÇ Listening for real-time messages...");
    }
    ```
*   **Ïù¥Ìï¥**: Ï†ÑÌôîÏÑ†ÏùÑ ÎΩëÏßÄ ÏïäÍ≥† Í≥ÑÏÜç Îì§Í≥† ÏûàÎäî **"Ïã§ÏãúÍ∞Ñ ÌÜµÌôî ÎåÄÍ∏∞ÏÉÅÌÉú"**Î•º ÎßåÎì† Í≤ÉÏûÖÎãàÎã§.

---

#### üì¶ Î∂ÄÌíà 5: ÏÑúÎ≤ÑÏùò ÌåîÎã§Î¶¨ (`src/gateway/server-channels.ts`)
*   **Ïó≠Ìï†**: ÏôìÏ∏†Ïï±, Ïä¨Îûô Îì±ÏúºÎ°ú ÏßÅÏ†ë Î©îÏãúÏßÄÎ•º ÏèòÎäî **"ÌåîÎã§Î¶¨(Limbs)"** ÏûÖÎãàÎã§.
*   **VS Code ÏûëÏóÖ**: `src/gateway/` Ìè¥ÎçîÏóêÏÑú `server-channels.ts` ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
*   **ÌïÑÏàò ÏΩîÎìú (Skeleton)**:
    ```typescript
    export function createChannelManager() {
        return {
            sendMessage: (msg: string) => console.log(`[Limbs] Sending: ${msg}`),
            connect: () => console.log("[Limbs] Ready to move!")
        };
    }
    ```
*   **Ïù¥Ìï¥**: Ïã§Ï†úÎ°ú Î¨ºÍ±¥ÏùÑ ÎÇòÎ•¥Í≥†(Î©îÏãúÏßÄ Ï†ÑÏÜ°) ÌñâÎèôÌïòÎäî **"Ïã§Ìñâ Î∂ÄÏÑú"**Î•º ÎßåÎì† Í≤ÉÏûÖÎãàÎã§.


### 2-5. [ÎßàÏùåÍ∞ÄÏßê] ÏΩîÎìúÎ•º Îã§ Ï≥êÏïº ÌïòÎÇòÏöî? (The Mindset)



"Ïù¥ ÎßéÏùÄ Í±∏ Ïñ∏Ï†ú Îã§ ÏπòÍ≥† ÏïâÏïÑÏûàÎÇòÏöî? Í∑∏Îü¨Îã§Í∞Ä ÏßÄÏ≥êÏÑú Ìè¨Í∏∞ÌïòÎ©¥ Ïñ¥Îñ°ÌïòÏ£†?"

**Ï†àÎåÄ Îã§ ÏπòÏßÄ ÎßàÏÑ∏Ïöî.** Ïó¨Îü¨Î∂ÑÏùò Î™©ÌëúÎäî 'ÌÉÄÏûê Ïó∞Ïäµ'Ïù¥ ÏïÑÎãàÎùº **'Íµ¨Ï°∞ Ïù¥Ìï¥(Architectural Understanding)'** ÏûÖÎãàÎã§.

1.  **ÏΩîÎÅºÎ¶¨Î•º Î®πÎäî Î≤ï (How to Eat an Elephant)**:
    *   **Ï†ÑÎûµ**: Ìïú Î≤àÏóê Ìïú ÏûÖÏî©. Ï†ÑÏ≤¥ ÏΩîÎìúÎ•º Îã§ Ïù¥Ìï¥ÌïòÎ†§ Îì§ÏßÄ ÎßàÏÑ∏Ïöî.
    *   **"Î∏îÎûôÎ∞ïÏä§ Ïù¥Î°†"**: `loadConfig()` Ìï®ÏàòÍ∞Ä ÏûàÎã§? "ÏïÑ, ÏÑ§Ï†ï Î∂àÎü¨Ïò§Îäî ÎÜàÏù¥Íµ¨ÎÇò" ÌïòÍ≥† ÎÑòÏñ¥Í∞ÄÏÑ∏Ïöî. Í∑∏ ÏïàÏóêÏÑú `fs.readFile`ÏùÑ Ïì∞ÎäîÏßÄ `Bun.file`ÏùÑ Ïì∞ÎäîÏßÄ ÏßÄÍ∏à Ïïå ÌïÑÏöî ÏóÜÏäµÎãàÎã§. **ÌÅ∞ ÌùêÎ¶Ñ(Flow)** Îßå Ïû°ÏúºÏÑ∏Ïöî.

2.  **Î≥µÎ∂ô(Ctrl+C, V)ÏùÄ Ï£ÑÍ∞Ä ÏïÑÎãôÎãàÎã§**:
    *   Îã®, **"ÏùΩÍ≥†(Read) -> Ïù¥Ìï¥ÌïòÍ≥†(Understand) -> Î∂ôÏó¨ÎÑ£ÏúºÏÑ∏Ïöî(Paste)"**.
    *   Î¨¥ÏßÄÏÑ± Î≥µÎ∂ôÏùÄ ÎèÖÏù¥ÏßÄÎßå, Íµ¨Ï°∞Î•º ÌååÏïÖÌïòÍ≥† "Ïù¥ Îç©Ïñ¥Î¶¨Îäî Ïó¨Í∏∞ ÌïÑÏöîÌï¥"ÎùºÍ≥† ÏïåÍ≥† Î∂ôÏó¨ÎÑ£Îäî Í±¥ **'Ï°∞Î¶Ω(Assembly)'** ÏûÖÎãàÎã§. Ïù¥ÎØ∏ ÏûàÎäî Î†àÍ≥† Î∏îÎ°ùÏùÑ Îã§Ïãú ÍπéÏùÑ ÌïÑÏöîÎäî ÏóÜÏäµÎãàÎã§.

3.  **AIÎ•º 'Í∞úÏù∏ Í≥ºÏô∏ ÏÑ†ÏÉùÎãò'ÏúºÎ°ú Ïì∞ÏÑ∏Ïöî**:
    *   "Ïù¥ ÏΩîÎìú 500Ï§Ñ Îã§ ÏÑ§Î™ÖÌï¥Ï§ò" (X) -> ÎÑàÎ¨¥ ÎßéÏïÑÏÑú ÎààÏóê Ïïà Îì§Ïñ¥ÏòµÎãàÎã§.
    *   **"Ïù¥ ÌååÏùºÏóêÏÑú Í∞ÄÏû• Ï§ëÏöîÌïú Ìï®Ïàò 3Í∞úÎßå ÍºΩÏïÑÏÑú, Í∞ÅÍ∞Å Î¨¥Ïä® ÏùºÏùÑ ÌïòÎäîÏßÄ Ìïú Ï§ÑÎ°ú ÏöîÏïΩÌï¥Ï§ò"** (O) -> ÌïµÏã¨ ÎºàÎåÄÎßå Î®∏Î¶¨Ïóê ÎÑ£ÏúºÏÑ∏Ïöî.

### 2-6. [Ï§ÄÎπÑÎ¨º] Ìï¥ÏÑ§Ïûê Î™®Îìú Ïû•Ï∞©ÌïòÍ∏∞ (The Narrator)



"ÏûëÎèôÌïòÎäî ÏΩîÎìúÍ∞Ä ÏïÑÎãàÎùº, **Ïä§Ïä§Î°ú ÏÑ§Î™ÖÌïòÎäî ÏΩîÎìú**Î•º ÎßåÎìúÏÑ∏Ïöî."

Ïó¨Îü¨Î∂ÑÏù¥ ÏûëÏÑ±Ìï† Ï≤´ Î≤àÏß∏ ÌååÏùºÏùÄ ÏÑúÎ≤Ñ ÏΩîÎìúÍ∞Ä ÏïÑÎãôÎãàÎã§. Î∞îÎ°ú **Î°úÍ∑∏ ÌååÏùºÏóê ÏûêÍ∏∞ÏÜåÍ∞úÎ•º ÎÇ®Í∏∞Îäî ÎèÑÍµ¨**ÏûÖÎãàÎã§. Ïù¥ ÎèÑÍµ¨Î•º Ïì∞Î©¥, ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Ïã§ÌñâÎê† ÎïåÎßàÎã§ ÎßàÏπò ÏòÅÌôî Ìï¥ÏÑ§Ï≤òÎüº Î°úÍ∑∏Í∞Ä ÎÇ®ÏäµÎãàÎã§. 
> **üí¨ ÏΩîÏπò ÏΩîÎ©òÌä∏**: "ÎßûÏäµÎãàÎã§! ÎÇòÏ§ëÏóê ÏÑúÎ≤ÑÍ∞Ä Î©àÏ∂îÍ±∞ÎÇò Ïù¥ÏÉÅÌïòÍ≤å ÏûëÎèôÌï† Îïå, Ïù¥ Î°úÍ∑∏ Í∏∞Î°ùÎßå Ï∂îÏ†ÅÌïòÎ©¥ ÎàÑÍ∞Ä(Ïñ¥Îñ§ Ìï®ÏàòÍ∞Ä) Î≤îÏù∏Ïù∏ÏßÄ Ï¶âÏãú ÏÉâÏ∂úÌï¥ÎÇº Ïàò ÏûàÍ±∞Îì†Ïöî. ÏóêÎü¨Î•º Ïû°Îäî Í∞ÄÏû• Í∞ïÎ†•Ìïú ÏàòÏÇ¨ Í∏∞Î°ùÏù¥ ÎêòÎäî ÏÖàÏù¥Ï£†."

**ÌååÏùº ÏÉùÏÑ±**: `src/narrator.ts`

```typescript
import fs from 'fs';

// "Ìï¥ÏÑ§Ïûê" Ìï®Ïàò: ÎàÑÍ∞Ä, Ïñ¥ÎîîÏÑú, ÎàÑÍµ¨ÏóêÍ≤å Ïó∞ÎùΩÌïòÎäîÏßÄ Í∏∞Î°ùÌï©ÎãàÎã§.
export function narrate(info: {
  who: string;      // Ìï®Ïàò Ïù¥Î¶Ñ (Ïòà: startGatewayServer)
  role: string;     // Ïó≠Ìï† (Ïòà: Ï¥ùÏÇ¨Î†πÍ¥Ä)
  action: string;   // ÌïòÎäî Ïùº (Ïòà: Ïã¨Ïû• Î∞ïÎèôÍ∏∞ ÏºúÍ∏∞)
  friend?: string;  // Ïó∞Í≤∞ ÎåÄÏÉÅ (Ïòà: startHeartbeatRunner)
}) {
  const logMessage = `[${new Date().toISOString()}] 
  üë§ WHO: ${info.who}
  üõ°Ô∏è ROLE: ${info.role}
  üé¨ ACTION: ${info.action}
  ${info.friend ? `üîó CONTACT: ${info.friend}` : ""}
  --------------------------------------------------\n`;

  // 1. ÌôîÎ©¥Ïóê Î≥¥Ïó¨Ï£ºÍ∏∞
  console.log(logMessage);
  
  // 2. ÌååÏùºÏóê Í∏∞Î°ùÌïòÍ∏∞ (learning.log)
  fs.appendFileSync('learning.log', logMessage);
}
```

Ïù¥Ï†úÎ∂ÄÌÑ∞ Î™®Îì† Ìï®ÏàòÎ•º ÎßåÎì§ Îïå, Î°úÏßÅ ÎåÄÏã† Ïù¥ `narrate()` Ìï®ÏàòÎ•º Îß® ÏïûÏóê Î∞ïÏïÑÎëò Í≤ÅÎãàÎã§.

---

### 2-7. [ÌôïÎåÄ Î∂ÑÏÑù] ÏÑúÎ≤Ñ ÏßÑÏûÖÏ†ê ÏÉùÏÑ± (`src/gateway/server.ts`) - **[Îã®Í≥Ñ 1: Í∏∞Ï¥à Í≥µÏÇ¨/ÏñºÍµ¥]**



Í∞ÄÏû• Î®ºÏ†Ä Ïù¥ ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§. Ïù¥ ÌååÏùºÏùÄ ÏÑúÎ≤ÑÏùò **"ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨(Front Desk)"** ÏûÖÎãàÎã§.

> [!NOTE]
> **üõ†Ô∏è VS Code Ïã§Ï†Ñ Ï°∞Î¶Ω Ï†àÏ∞®**
> 1.  **ÌååÏùº ÏÉùÏÑ±**: ÌÉêÏÉâÍ∏∞(Explorer)ÏóêÏÑú `src/gateway` Ìè¥ÎçîÎ•º Ïö∞ÌÅ¥Î¶≠ÌïòÍ≥† `New File`ÏùÑ ÏÑ†ÌÉùÌï©ÎãàÎã§.
> 2.  **Ïù¥Î¶Ñ ÏûÖÎ†•**: `server.ts`Î•º ÏûÖÎ†•ÌïòÍ≥† ÏóîÌÑ∞Î•º Ïπ©ÎãàÎã§.
> 3.  **ÏΩîÎìú ÏûëÏÑ±**: ÏïÑÎûò **'#### 2-1-2. ÏΩîÎìú ÏîπÏñ¥Î®πÍ∏∞'** ÏÑπÏÖòÏóê ÏûàÎäî `export` Î¨∏Ïû•Îì§ÏùÑ ÏûÖÎ†•Ìï©ÎãàÎã§. Ïù¥ Î¨∏Ïû•Îì§ÏùÄ Îã§Î•∏ ÌååÏùºÏóê ÏûàÎäî Í∏∞Îä•ÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú Í≥ßÎ∞îÎ°ú Î∞ñÏúºÎ°ú Ïó∞Í≤∞Ìï¥Ï£ºÎäî **'Ï†ÑÎã¨ ÌÜµÎ°ú'** Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.


#### 2-1-1. [Ï¥àÏ†ïÎ∞Ä Ìï¥Î∂ÄÎèÑ] Front Desk Map
Ïò§ÏãúÎã§ÏãúÌîº Ïù¥ ÌååÏùºÏùÄ **ÏïÑÎ¨¥Îü∞ Î°úÏßÅÏù¥ ÏóÜÏäµÎãàÎã§.** Ïò§ÏßÅ Îã§Î•∏ ÌååÏùºÎ°ú Ïó∞Í≤∞Îßå Ìï¥Ï§çÎãàÎã§. Ïù¥Í≤ÉÏùÑ ÎîîÏûêÏù∏ Ìå®ÌÑ¥ÏóêÏÑúÎäî **ÌçºÏÇ¨Îìú Ìå®ÌÑ¥(Facade Pattern)** Ïù¥ÎùºÍ≥† Ìï©ÎãàÎã§.

```text
[Ïô∏Î∂Ä ÏÑ∏ÏÉÅ: CLI, Docker]
       ‚¨áÔ∏è (Ï†ëÏÜç: "ÏÑúÎ≤Ñ ÏºúÏ§ò!")
       ‚¨áÔ∏è
src/gateway/server.ts (ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨)
       ‚îÇ
       ‚îú‚îÄ‚îÄ 1. "ÏÇ¨Ïû•Ïã§ Ïó∞Í≤∞Ìï¥ ÎìúÎ¶ΩÎãàÎã§." (startGatewayServer)
       ‚îÇ       ‚§∑ Ïó∞Í≤∞ ‚û° src/gateway/server.impl.ts (ÏßÑÏßú CEO: Îáå)
       ‚îÇ
       ‚îú‚îÄ‚îÄ 2. "Î≥¥Ïïà Í∑úÏ†ïÏßë Ïó¨Í∏∞ ÏûàÏäµÎãàÎã§." (truncateCloseReason)
       ‚îÇ       ‚§∑ Ïó∞Í≤∞ ‚û° src/gateway/server/close-reason.ts (Í∑úÏ†ïÏßë)
       ‚îÇ
       ‚îî‚îÄ‚îÄ 3. "Î™ÖÌï® ÏñëÏãùÏûÖÎãàÎã§." (GatewayServer Type)
               ‚§∑ Ïó∞Í≤∞ ‚û° src/gateway/server.impl.ts (ÌÉÄÏûÖ Ï†ïÏùò)
```

#### 2-1-2. ÏΩîÎìú ÏîπÏñ¥Î®πÍ∏∞ (Code Anatomy)
`src/gateway/server.ts`

```typescript
// [1] Î≥¥Ïïà ÏöîÏõê Ïó∞Í≤∞ (Security)
// Ïó≠Ìï†: ÏõπÏÜåÏºì Ïó∞Í≤∞ ÎÅäÏùÑ Îïå Ïù¥Ïú†Í∞Ä ÎÑàÎ¨¥ Í∏∏Î©¥(Ìï¥ÌÇπ ÏãúÎèÑ Îì±) Ï†ÅÎãπÌûà ÏûêÎ•¥Îäî Ìï®ÏàòÎ•º ÎÇ¥Î≥¥ÎÉÖÎãàÎã§.
export { truncateCloseReason } from "./server/close-reason.js";

// [2] Î™ÖÌï®(Type) Í≥µÏú† (Public Card)
// Ïó≠Ìï†: "Ïö∞Î¶¨ ÏÇ¨Ïû•Îãò(GatewayServer)ÏùÄ Ïù¥Î†áÍ≤å ÏÉùÍ≤ºÏäµÎãàÎã§"ÎùºÍ≥† Ïô∏Î∂ÄÏóê ÏïåÎ†§Ï§çÎãàÎã§.
export type { GatewayServer, GatewayServerOptions } from "./server.impl.js";

// [3] ÏÇ¨Ïû•Ïã§ Ïó∞Í≤∞ (The Real Boss)
// ÌïµÏã¨: Ïã§Ï†úÎ°ú ÏÑúÎ≤ÑÎ•º ÏºúÎäî Ìï®Ïàò(startGatewayServer)Î•º Î∞ñÏúºÎ°ú ÎÇ¥Î≥¥ÎÉÖÎãàÎã§.
// Ïô∏Î∂Ä(CLI)ÏóêÏÑúÎäî Ïù¥ ÌååÏùºÏùò startGatewayServerÎßå Ìò∏Ï∏®ÌïòÎ©¥, ÎÇ¥Î∂Ä ÏÇ¨Ï†ïÏùÑ Î™∞ÎùºÎèÑ ÏÑúÎ≤ÑÍ∞Ä ÏºúÏßëÎãàÎã§.
export { __resetModelCatalogCacheForTest, startGatewayServer } from "./server.impl.js";
```

#### 2-1-3. [TS Î¨∏Î≤ï ÍµêÏã§] Ïù¥Í≤å Î¨¥Ïä® ÎúªÏù∏Í∞ÄÏöî? (Grammar Class)

Ï¥àÎ≥¥ÏûêÍ∞Ä Í∞ÄÏû• Ìó∑Í∞àÎ†§ ÌïòÎäî 3Í∞ÄÏßÄ Î¨∏Î≤ïÏùÑ **ÏôÑÎ≤ΩÌïòÍ≤å Î∂ÑÌï¥**Ìï¥ ÎìúÎ¶ΩÎãàÎã§.

*   **1. `export { ... } from "..."`**: **"Íµ≠Ï†ú Î∞∞ÏÜ° ÎåÄÌñâ ÏÑúÎπÑÏä§"**
    *   **ÏùòÎØ∏**: "Ï†ÄÏ™Ω ÌååÏùº(`from`)Ïóê ÏûàÎäî Î¨ºÍ±¥ÏùÑ Í∞ÄÏ†∏ÏôÄÏÑú, ÎÇ¥ Ïù¥Î¶ÑÏúºÎ°ú Îã§Ïãú Ìï¥Ïô∏ ÏàòÏ∂ú(`export`)ÌïòÍ≤†Îã§."
    *   **ÏùÄÏú†(Metaphor)**: Ïø†Ìå°(server.ts)Ïù¥ ÏÇºÏÑ±Ï†ÑÏûê(server.impl.ts)Ïùò ÎÉâÏû•Í≥†Î•º ÎñºÏôÄÏÑú Ïø†Ìå° Ïù¥Î¶ÑÏúºÎ°ú ÌååÎäî Í≤ÉÍ≥º Í∞ôÏäµÎãàÎã§. ÏÜåÎπÑÏûêÎäî ÏÇºÏÑ± Í≥µÏû•Ïóê Í∞à ÌïÑÏöî ÏóÜÏù¥ Ïø†Ìå°ÏóêÏÑú ÏÇ¨Î©¥ Îê©ÎãàÎã§.

*   **2. `export type`**: **"ÏÑ§Í≥ÑÎèÑÎ©¥ vs Ïã§Ï†ú Í±¥Î¨º"**
    *   **ÏùòÎØ∏**: "Java/C#Ïùò ClassÎÇò Interface Í∞ôÏùÄ **ÍªçÎç∞Í∏∞(Î™®Ïñë)** Îßå ÎÇ¥Î≥¥ÎÉÖÎãàÎã§."
    *   **ÏùÄÏú†(Metaphor)**:
        *   `export class` (GatewayServer): Ïã§Ï†ú ÏÇ¥ Ïàò ÏûàÎäî **ÏïÑÌååÌä∏**ÏûÖÎãàÎã§. (Î©îÎ™®Î¶¨ Ï∞®ÏßÄÌï®)
        *   `export type` (GatewayServer): ÏïÑÌååÌä∏ **ÏÑ§Í≥ÑÎèÑ(Ï≤≠ÏÇ¨ÏßÑ)** Ï¢ÖÏù¥ÏûÖÎãàÎã§. (Î©îÎ™®Î¶¨ Ï∞®ÏßÄ Ïïà Ìï®)
    *   **Why?**: TypeScriptÎäî Ïª¥ÌååÏùºÎêòÎ©¥ JavaScriptÎ°ú Î≥ÄÌï©ÎãàÎã§. Ïù¥Îïå `type`ÏúºÎ°ú Ï†ïÏùòÎêú Í±¥ **ÌùîÏ†ÅÎèÑ ÏóÜÏù¥ ÏÇ¨ÎùºÏßëÎãàÎã§(Ghost).** Í∞úÎ∞úÌï† Îïå ÏûêÎèôÏôÑÏÑ± ÌûåÌä∏Îßå Ï£ºÍ≥†, Îü∞ÌÉÄÏûÑÏóêÎäî Í∞ÄÎ≥çÍ≤å ÏÇ¨ÎùºÏßÄÍ∏∞ ÏúÑÌï¥ ÏîÅÎãàÎã§.

*   **3. `{ a, b }` (Ï§ëÍ¥ÑÌò∏)**: **"Ï¢ÖÌï© ÏÑ†Î¨º ÏÑ∏Ìä∏ ÎúØÍ∏∞"**
    *   **Î¨∏Î≤ï Ïù¥Î¶Ñ**: **Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†Îãπ (Destructuring Assignment)**
    *   **ÏùòÎØ∏**: "`server.impl.js`ÎùºÎäî ÌÅ∞ ÏÑ†Î¨º ÏÉÅÏûê ÏïàÏóê Ïó¨Îü¨ Í∞ÄÏßÄÍ∞Ä Îì§Ïñ¥ÏûàÎäîÎç∞, Í∑∏Ï§ëÏóêÏÑú `__reset...`Ïù¥Îûë `startGatewayServer`ÎùºÎäî Îî± 2Í∞úÎßå ÏΩï ÏßëÏñ¥ÏÑú Í∫ºÎÇ¥Í≤†Îã§."
    *   **ÏòàÏãú**:
        ```typescript
        const Box = { candy: 10, chocolate: 5, gum: 3 };
        const { candy, gum } = Box; // Ï¥àÏΩúÎ¶øÏùÄ Ïïà Í∫ºÎÉÑ!
        ```

#### 2-1-3. [Î∞∞Í≤Ω ÏßÄÏãù] Ïôú ÍªçÎç∞Í∏∞ ÌååÏùºÏùÑ Îî∞Î°ú ÎßåÎìúÎÇòÏöî? (Why Facade?)

Ïù¥Í≤ÉÏùÄ ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Í≥µÌïôÏóêÏÑú **"Î≥ÄÍ≤ΩÏóê ÎåÄÌïú Î∞©Ïñ¥Îßâ(Decoupling)"** ÏùÑ ÏπòÎäî Í∏∞Ïà†ÏûÖÎãàÎã§. Ïâ¨Ïö¥ ÏòàÏãúÎ•º Îì§Ïñ¥Î≥¥Í≤†ÏäµÎãàÎã§.

**üè† Ïã§ÏÉùÌôú ÏòàÏãú: "Í≥†Í∞ùÏÑºÌÑ∞ ÎåÄÌëúÎ≤àÌò∏ (1588-0000)"**

*   **ÏÉÅÌô©**: Ïó¨Îü¨Î∂ÑÏù¥ ÏáºÌïëÎ™∞ CEOÏûÖÎãàÎã§. Ï†ÑÍµ≠Ïóê Ìù©Ïñ¥ÏßÑ ÏÉÅÎã¥ÏõêÎì§Ïù¥ Ï†ÑÌôîÎ•º Î∞õÏäµÎãàÎã§.
*   **ÍªçÎç∞Í∏∞(`server.ts`)**: **ÎåÄÌëúÎ≤àÌò∏ 1588-0000**
*   **Ïã§Ï≤¥(`server.impl.ts`)**: Ïã§Ï†ú ÏÉÅÎã¥ ÏÑºÌÑ∞ (Ï≤òÏùåÏóî **ÏÑúÏö∏** ÏÇ¨Î¨¥Ïã§)

**üå™ ÏÇ¨Í±¥ Î∞úÏÉù**: ÏÑúÏö∏ ÏÇ¨Î¨¥Ïã§ ÏûÑÎåÄÎ£åÍ∞Ä ÎπÑÏã∏ÏÑú **Î∂ÄÏÇ∞**ÏúºÎ°ú Ïù¥ÏÇ¨ Í∞ÄÍ∏∞Î°ú ÌñàÏäµÎãàÎã§. (`server.impl.ts` -> `server.busan.ts` Î°ú ÌååÏùºÎ™Ö Î≥ÄÍ≤Ω)

1.  **ÎåÄÌëúÎ≤àÌò∏Í∞Ä ÏóÜÏùÑ Îïå (No Facade)**:
    *   Í≥†Í∞ù 100Îßå Î™ÖÏóêÍ≤å Ï†ÑÎ∂Ä Î¨∏ÏûêÎ•º Î≥¥ÎÇ¥Ïïº Ìï©ÎãàÎã§.
    *   *"Ï£ÑÏÜ°Ìï©ÎãàÎã§. Î≤àÌò∏Í∞Ä 02-123-4567ÏóêÏÑú 051-987-6543ÏúºÎ°ú Î∞îÎÄåÏóàÏäµÎãàÎã§. Îã§Ïãú Ï†ÄÏû•Ìï¥Ï£ºÏÑ∏Ïöî."*
    *   ÏΩîÎìúÎ°ú ÏπòÎ©¥, Ïù¥ ÌååÏùºÏùÑ `import`Ìï¥ÏÑú Ïì∞Îäî **Î™®Îì† ÌååÏùº 100Í∞úÎ•º Ï∞æÏïÑÏÑú ÏàòÏ†ï**Ìï¥Ïïº Ìï©ÎãàÎã§. (ÎåÄÏû¨Ïïô)

2.  **ÎåÄÌëúÎ≤àÌò∏Í∞Ä ÏûàÏùÑ Îïå (Facade Pattern)**:
    *   Í≥†Í∞ùÏùÄ ÏïÑÎ¨¥Í≤ÉÎèÑ Î™∞ÎùºÎèÑ Îê©ÎãàÎã§. Ïó¨Ï†ÑÌûà 1588-0000ÏúºÎ°ú Í±∏Î©¥ Îê©ÎãàÎã§.
    *   CEOÏù∏ Ïó¨Îü¨Î∂ÑÏùÄ **ÎåÄÌëúÎ≤àÌò∏ Ïó∞Í≤∞ ÏÑ§Ï†ï(Routing)** Îßå ÏÑúÏö∏ÏóêÏÑú Î∂ÄÏÇ∞ÏúºÎ°ú 1Ï§Ñ Î∞îÍæ∏Î©¥ ÎÅùÏûÖÎãàÎã§.
    *   ÏΩîÎìúÎ°ú ÏπòÎ©¥, **`server.ts`Ïùò `import` Í≤ΩÎ°ú 1Ï§ÑÎßå ÏàòÏ†ï**ÌïòÎ©¥ ÌîÑÎ°úÏ†ùÌä∏ Ï†ÑÏ≤¥Í∞Ä Î©ÄÏ©°ÌïòÍ≤å ÎèåÏïÑÍ∞ëÎãàÎã§.

**Í≤∞Î°†**: `server.ts`Îäî Í∑ÄÏ∞ÆÏùÄ ÍªçÎç∞Í∏∞Í∞Ä ÏïÑÎãàÎùº, ÎØ∏ÎûòÏùò Î≥ÄÌôîÎ°úÎ∂ÄÌÑ∞ Ïö∞Î¶¨Î•º ÏßÄÏºúÏ£ºÎäî **"ÏïàÏ†Ñ Ïû•Ïπò"** ÏûÖÎãàÎã§.

#### 2-1-4. [Ïû†ÍπêÎßå] ÏïàÏ†ÑÏû•Ïπò ÏßÅÏ†ë Ïã§ÌóòÌï¥Î≥¥Í∏∞ (Facade Lab)

"ÎßêÎ°úÎßå Îì£ÏßÄ ÎßêÍ≥†, **ÏßÑÏßú ÏïàÏ†ÑÌïúÏßÄ** ÏßÅÏ†ë ÌÑ∞Ìä∏Î†§Î¥ÖÏãúÎã§."

Ïù¥ Í∞úÎÖêÏùÑ ÌôïÏã§Ìûà Ïû°Í≥† Í∞ÄÍ∏∞ ÏúÑÌï¥, ÏïÑÏ£º Í∞ÑÎã®Ìïú **Ïã§ÌóòÏã§(Lab)** ÏùÑ ÎßåÎì§Ïñ¥Î≥¥Í≤†ÏäµÎãàÎã§. Ìè¥Îçî ÏïÑÎ¨¥Îç∞ÎÇò `test-facade` Ìè¥ÎçîÎ•º ÎßåÎì§Í≥† 3Í∞úÏùò ÌååÏùºÏùÑ ÎßåÎìúÏÑ∏Ïöî.

**1. `core-v1.js` (Ïã§Ï≤¥: Íµ¨Ìòï ÏóîÏßÑ)**
```javascript
// Ïã§Ï†ú Î°úÏßÅÏù¥ Îì§Ïñ¥ÏûàÎäî ÌååÏùº
export function startEngine() {
  console.log("üöó V1 ÏóîÏßÑ: Î∂ÄÎ¶âÎ∂ÄÎ¶â (ÏãúÎÅÑÎü¨ÏõÄ)");
}
```

**2. `gateway.js` (ÍªçÎç∞Í∏∞: ÏïàÏ†ÑÏû•Ïπò)**
```javascript
// Ïó¨Í∏∞Í∞Ä ÌïµÏã¨ÏûÖÎãàÎã§! Ïã§Ï≤¥Î•º importÌï¥ÏÑú Í∑∏ÎåÄÎ°ú ÎÇ¥Î≥¥ÎÉÖÎãàÎã§.
export * from "./core-v1.js"; 
```

**3. `client.js` (ÏÇ¨Ïö©Ïûê: Ïö¥Ï†ÑÏûê)**
```javascript
// Ïö¥Ï†ÑÏûêÎäî 'core-v1.js'Î•º Î™®Î¶ÖÎãàÎã§. Ïò§ÏßÅ 'gateway.js'Îßå ÏïïÎãàÎã§.
import { startEngine } from "./gateway.js";

console.log("üë§ Ïö¥Ï†ÑÏûê: ÏãúÎèôÏùÑ Í≤ÅÎãàÎã§.");
startEngine();
```

---

**üß™ Ïã§Ìóò ÏãúÏûë: ÎØ∏ÎûòÎ•º Î∞îÍæ∏Îäî ÏãúÎÇòÎ¶¨Ïò§ 4Îã®Í≥Ñ**

**1Îã®Í≥Ñ: ÌèâÌôîÎ°úÏö¥ ÏùºÏÉÅ (Initial Run)**
Î®ºÏ†Ä ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú `node client.js`Î•º ÏûÖÎ†•Ìï¥ÏÑú Ïã§ÌñâÌï¥ Î≥¥ÏÑ∏Ïöî.
ÌôîÎ©¥Ïóê **"üöó V1 ÏóîÏßÑ: Î∂ÄÎ¶âÎ∂ÄÎ¶â"** ÌïòÍ≥† ÏãúÎÅÑÎü¨Ïö¥ ÏÜåÎ¶¨Í∞Ä ÎÇ† Í≤ÅÎãàÎã§.
ÏßÄÍ∏à Ïö¥Ï†ÑÏûê(`client.js`)Îäî `gateway.js`Î•º ÌÜµÌï¥ Íµ¨Ìòï ÏóîÏßÑÏùÑ Ïì∞Í≥† ÏûàÏäµÎãàÎã§. ÌèâÌôîÎ°≠Ï£†?

**2Îã®Í≥Ñ: ÏúÑÍ∏∞ Î∞úÏÉù (Refactoring Needed)**
Ïñ¥Îäê ÎÇ†, Ï†ïÎ∂ÄÏóêÏÑú "ÏÜåÏùå Í∑úÏ†ú"Î•º Î∞úÌëúÌï©ÎãàÎã§. Îçî Ïù¥ÏÉÅ ÏãúÎÅÑÎü¨Ïö¥ V1 ÏóîÏßÑÏùÑ Ïì∏ Ïàò ÏóÜÍ≤å ÎêòÏóàÏäµÎãàÎã§.
Ïûê, Ïù¥Ï†ú `core-v1.js` ÌååÏùºÏùÑ Í≥ºÍ∞êÌïòÍ≤å **ÏÇ≠Ï†ú**Ìï¥ Î≤ÑÎ¶¨ÏÑ∏Ïöî. Í∑∏Î¶¨Í≥† **`core-v2.js`** ÎùºÎäî ÏÉà ÌååÏùºÏùÑ ÎßåÎì§Í≥† ÏïÑÎûò ÏΩîÎìúÎ•º ÎÑ£ÏäµÎãàÎã§.
```javascript
export function startEngine() {
  console.log("‚ö°Ô∏è V2 Î™®ÌÑ∞: ÏúÑÏù¥Ïûâ (Ï°∞Ïö©Ìï®)");
}
```
Ïù¥Ï†ú Ïã§Ï≤¥(ÏóîÏßÑ)Í∞Ä ÏôÑÏ†ÑÌûà Î∞îÎÄåÏñ¥ Î≤ÑÎ†∏ÏäµÎãàÎã§.

**3Îã®Í≥Ñ: ÎßàÎ≤ïÏùò Î∞©Ïñ¥ (The Fix)**
Î≥¥ÌÜµ Í∞ôÏúºÎ©¥ Ïö¥Ï†ÑÏûê(`client.js`) ÏΩîÎìúÎ•º ÎúØÏñ¥Í≥†Ï≥êÏïºÍ≤†ÏßÄÎßå, Ïö∞Î¶¨Îäî Í∑∏Îü¥ ÌïÑÏöîÍ∞Ä ÏóÜÏäµÎãàÎã§.
Ï§ëÍ∞ÑÏóê ÏûàÎäî **`gateway.js`** ÌååÏùºÎßå ÏÇ¥Ïßù Ïó¨ÏÑ∏Ïöî. Í∑∏Î¶¨Í≥† `from` Îí§Ïóê ÏûàÎäî Í≤ΩÎ°úÎßå Î∞îÍøîÏ£ºÎ©¥ Îê©ÎãàÎã§.
```javascript
export * from "./core-v2.js"; // v1 -> v2 Î°ú Ïà´Ïûê ÌïòÎÇòÎßå Î∞îÍø®ÏäµÎãàÎã§.
```
Ïö¥Ï†ÑÏûê Î™∞Îûò, Ïπ¥ÏÑºÌÑ∞ ÏÇ¨Ïû•Îãò(Gateway)Ïù¥ ÏóîÏßÑÏùÑ ÏµúÏã†ÌòïÏúºÎ°ú Î∞îÍøîÏπòÍ∏∞Ìïú Í≤ÅÎãàÎã§.

**4Îã®Í≥Ñ: Í≤∞Í≥º ÌôïÏù∏ (Verification)**
Îã§Ïãú `node client.js`Î•º Ïã§ÌñâÌï¥ Î≥¥ÏÑ∏Ïöî.
ÎÜÄÎûçÍ≤åÎèÑ Ïö¥Ï†ÑÏûêÎäî ÏïÑÎ¨¥Îü∞ ÏóêÎü¨ ÏóÜÏù¥ **"‚ö°Ô∏è V2 Î™®ÌÑ∞: ÏúÑÏù¥Ïûâ"** ÌïòÍ≥† Ï†ÑÍ∏∞Ï∞®Î•º Î™∞Í≤å Îê©ÎãàÎã§.
Ïö¥Ï†ÑÏûêÎäî ÏóîÏßÑÏù¥ Î∞îÎÄê Ï§ÑÎèÑ Î™®Î¶ÖÎãàÎã§. Îã®ÏßÄ Ï∞®Í∞Ä Ï°∞Ïö©Ìï¥Ï°åÎã§Í≥† Ï¢ãÏïÑÌï† ÎøêÏù¥Ï£†.

> [!IMPORTANT]
> **üéì Í≤∞Î°†: Ïù¥Í≤ÉÏù¥ Î∞îÎ°ú 'Ïú†ÏßÄÎ≥¥Ïàò'ÏûÖÎãàÎã§**
>
> Ïó¨Îü¨Î∂ÑÏù¥ Î∞©Í∏à ÌïòÏã† ÏùºÏù¥ Î∞îÎ°ú **"ÏùòÏ°¥ÏÑ± Î∂ÑÎ¶¨(Decoupling)"** ÏûÖÎãàÎã§.
> ÎÇ¥Î¨¥ Î∂ÄÌíàÏù¥ Ïãπ Îã§ Î∞îÎÄåÏñ¥ÎèÑ, Î∞îÍπ•ÏÑ∏ÏÉÅ(Client)ÏóêÎäî Ï∂©Í≤©ÏùÑ Ï£ºÏßÄ ÏïäÎäî Í≤É. Ïù¥Í≤ÉÏù¥ ÏãúÎãàÏñ¥ Í∞úÎ∞úÏûêÎì§Ïù¥ `server.ts` Í∞ôÏùÄ ÍªçÎç∞Í∏∞ ÌååÏùºÏùÑ Íµ≥Ïù¥ ÎßåÎì§Ïñ¥ ÎëêÎäî Ïù¥Ïú†ÏûÖÎãàÎã§.


> [!IMPORTANT]
> **üöÄ Ïù¥ Ï±Ö(Îß§Îâ¥Ïñº)Ïùò ÏµúÏ¢Ö Î™©Ìëú**
> ÎπÑÎ°ù ÏßÄÍ∏àÏùÄ Ï¥àÎ≥¥ÏûêÏùºÏßÄÎùºÎèÑ, Ïù¥Îü∞ Í≥†Í∏â ÏïÑÌÇ§ÌÖçÏ≤ò Í≤ΩÌóòÏùÑ ÌïòÎÇòÌïòÎÇò Îπ†Î•¥Í≤å ÏåìÏïÑÏÑú **"ÏãúÎãàÏñ¥ Í∞úÎ∞úÏûêÏùò ÌÜµÏ∞∞Î†•"** ÏùÑ Í∞ñÏ∂îÎäî Í≤ÉÏù¥ Î™©ÌëúÏûÖÎãàÎã§.
> Í∑∏ÎûòÏïºÎßå Îã®ÏàúÌûà AIÍ∞Ä ÏßúÏ£ºÎäî ÏΩîÎìúÎ•º Î∞õÏïÑ Ï†ÅÎäî Í≤ÉÏùÑ ÎÑòÏñ¥, **AI ÏΩîÎî© ÏóêÏù¥Ï†ÑÌä∏Îì§ÏùÑ ÎÇ¥ ÏÜêÎ∞îÎã• ÏúÑÏóêÏÑú ÏûêÏú†ÏûêÏû¨Î°ú ÏßÄÌúòÌïòÍ≥† Ï£ºÎ¨¥Î•¥Îäî** ÏßÑÏßú ÏÇ¨Î†πÍ¥ÄÏù¥ Îê† Ïàò ÏûàÏäµÎãàÎã§.

---




---

### 2-8. [ÌôïÎåÄ Î∂ÑÏÑù] ÏÑúÎ≤Ñ Îáå Íµ¨ÌòÑ (`src/gateway/server.impl.ts`) - **[Îã®Í≥Ñ 2: Í≥®Í≤© Ï°∞Î¶Ω]**



ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨(`server.ts`)Ïùò Î¨∏ÏùÑ Ïó¥Í≥† Îì§Ïñ¥Ïò§ÏÖ®Íµ∞Ïöî. ÌôòÏòÅÌï©ÎãàÎã§.
Ïù¥Í≥≥ÏùÄ OpenClaw(Moltbot) ÏãúÏä§ÌÖúÏùò Í∞ÄÏû• ÍπäÏàôÌïú Í≥≥, **"Ï¢ÖÌï© ÏÉÅÌô©Ïã§(NASA Control Room)"** ÏûÖÎãàÎã§.

> [!NOTE]
> **üõ†Ô∏è VS Code Ïã§Ï†Ñ Ï°∞Î¶Ω Ï†àÏ∞®**
> 1.  **ÌååÏùº ÏÉùÏÑ±**: `src/gateway/server.impl.ts` ÌååÏùºÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.
> 2.  **ÏûêÎèô ÏôÑÏÑ± ÌôúÏö©**: `interface`ÎÇò `function`ÏùÑ Ïπ† Îïå VS CodeÍ∞Ä Ï†úÏïàÌïòÎäî ÏΩîÎìú ÌûåÌä∏Î•º Ï†ÅÍ∑πÏ†ÅÏúºÎ°ú ÌôúÏö©ÌïòÏÑ∏Ïöî.
> 3.  **ÏûÑÌè¨Ìä∏ Ï≤¥ÌÅ¨**: ÏÉÅÎã®Ïóê ÏûàÎäî `narrate` Ìï®ÏàòÍ∞Ä Ï†ïÌôïÌïú Í≤ΩÎ°ú(`../narrator.js`)ÏóêÏÑú Ïò§Í≥† ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÏÑ∏Ïöî. (ESM Î∞©ÏãùÏù¥ÎØÄÎ°ú `.js` ÌôïÏû•ÏûêÎ•º Î∂ôÏù¥Îäî Í≤ÉÏù¥ Ìè¨Ïù∏Ìä∏ÏûÖÎãàÎã§!)


#### 2-8-0. [Ïã§Ï†ú ÏôÑÏÑ± ÏΩîÎìú] `src/gateway/server.impl.ts` (ÌïµÏã¨ ÏóîÏßÑ)

Ïù¥ ÏΩîÎìúÎäî OpenClaw ÏãúÏä§ÌÖúÏùò Î™®Îì† Î∂ÄÌíàÏùÑ Ï°∞Î¶ΩÌïòÎäî **ÏµúÏ¢Ö ÏÑ§Í≥ÑÎèÑ**ÏûÖÎãàÎã§. 500Ï§ÑÏù¥ ÎÑòÎäî Î∞©ÎåÄÌïú ÏñëÏù¥ÏßÄÎßå, ÌïµÏã¨Ïù¥ ÎêòÎäî `startGatewayServer` Ìï®ÏàòÏùò ÎÇ¥Î∂Ä Î°úÏßÅÏùÑ ÏÉÅÏÑ∏Ìûà ÌååÌó§Ï≥ê Î≥¥Í≤†ÏäµÎãàÎã§.

```typescript
// [1] ÏûÑÌè¨Ìä∏ ÏÑπÏÖò (ÏÉùÎûµ)
import { ... } from "..."
import { narrate } from "../narrator.js"; 

// [2] ÌÉÄÏûÖ Ï†ïÏùò
export type GatewayServer = {
  close: (opts?: { reason?: string; restartExpectedMs?: number | null }) => Promise<void>;
};

// [3] ÏÇ¨Î†πÍ¥Ä Ìï®Ïàò: ÏÑúÎ≤Ñ Í∏∞ÎèôÏùò Î™®Îì† Îã®Í≥ÑÎ•º ÏßÄÌúòÌï©ÎãàÎã§.
export async function startGatewayServer(
  port = 18789,
  opts: GatewayServerOptions = {},
): Promise<GatewayServer> {
  // 1Îã®Í≥Ñ: ÌôòÍ≤Ω Î≥ÄÏàò Î∞è ÏÑ§Ï†ï Ï§ÄÎπÑ
  process.env.CLAWDBOT_GATEWAY_PORT = String(port);
  let configSnapshot = await readConfigFileSnapshot();
  
  // 2Îã®Í≥Ñ: Î†àÍ±∞Ïãú ÏÑ§Ï†ï ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò (Í≥ºÍ±∞Ïùò Ïú†ÏÇ∞ Ï†ïÎ¶¨)
  if (configSnapshot.legacyIssues.length > 0) {
    const { config: migrated, changes } = migrateLegacyConfig(configSnapshot.parsed);
    await writeConfigFile(migrated);
    log.info(`gateway: migrated legacy config entries`);
  }

  // 3Îã®Í≥Ñ: Ïû•Í∏∞(Subsystems) Ï¥àÍ∏∞Ìôî
  narrate({ who: "startGatewayServer", role: "Ï¥ùÏÇ¨Î†πÍ¥Ä", action: "Ïû•Í∏∞ Î∂ÄÏ∞© ÏãúÏûë" });
  const nodeRegistry = new NodeRegistry();
  const channelManager = createChannelManager({
    loadConfig,
    channelLogs,
    channelRuntimeEnvs,
  });

  // 4Îã®Í≥Ñ: Ïã§ÏãúÍ∞Ñ ÌÜµÏã†Îßù(WebSocket) Î∞è HTTP ÏÑúÎ≤Ñ Í∏∞Îèô
  const { httpServer, wss, clients, broadcast } = await createGatewayRuntimeState({
    cfg: loadConfig(),
    bindHost: "0.0.0.0",
    port,
    // ... Í∏∞ÌÉÄ ÏÑ§Ï†ïÎì§
  });
  
  // 5Îã®Í≥Ñ: Ïã†Í≤ΩÎßù Ìï∏Îì§Îü¨ Ïó∞Í≤∞ (Îç∞Ïù¥ÌÑ∞Í∞Ä ÌùêÎ•¥Í∏∞ ÏãúÏûëÌïòÎäî ÏßÄÏ†ê)
  attachGatewayWsHandlers({
    wss,
    clients,
    port,
    gatewayMethods,
    logGateway: log,
    broadcast,
    context: {
        // ... ÏÑúÎ≤ÑÏùò Î™®Îì† Í∏∞Îä•ÏùÑ Ìï∏Îì§Îü¨Ïóê Ï£ºÏûÖ (Dependency Injection)
        nodeRegistry,
        channelManager,
        cron,
        loadGatewayModelCatalog,
    }
  });

  // 6Îã®Í≥Ñ: Ïô∏Î∂Ä ÎÖ∏Ï∂ú Î∞è Î≥¥Ïïà ÏÑ§Ï†ï (Tailscale Îì±)
  const tailscaleCleanup = await startGatewayTailscaleExposure({ ... });

  // 7Îã®Í≥Ñ: Í∏∞Îèô ÏôÑÎ£å Î≥¥Í≥†
  log.info("üöÄ Gateway Server is ready for action!");
  narrate({ who: "startGatewayServer", role: "Ï¥ùÏÇ¨Î†πÍ¥Ä", action: "Í∏∞Îèô ÏôÑÎ£å Î≥¥Í≥†" });

  // 8Îã®Í≥Ñ: ÌÜµÏ†úÍ∂å Î∞òÌôò (Ï¢ÖÎ£å Î≤ÑÌäº Ï†úÍ≥µ)
  return {
    close: async (opts) => {
      await close(opts); // Î™®Îì† Ïû•Í∏∞ Ï†ïÏßÄ Î∞è Î©îÎ™®Î¶¨ Ìï¥Ï†ú
      log.info("üõë Gateway Server shut down safely.");
    },
  };
}
```

> [!TIP]
> **500Ï§ÑÏùò Ï†ÑÏ≤¥ ÎØ∏Î°úÎ•º ÌÉêÌóòÌïòÍ≥† Ïã∂Îã§Î©¥?**
> Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ÎêòÎäî Ï†ÑÏ≤¥ ÏõêÎ≥∏ ÏÜåÏä§ ÏΩîÎìúÎäî ÌîÑÎ°úÏ†ùÌä∏ ÎÇ¥ [server.impl.ts](file:///Users/sl/Workspace/moltbot-2026.1.24/src/gateway/server.impl.ts) ÌååÏùºÏóê Î≥¥Ï°¥ÎêòÏñ¥ ÏûàÏäµÎãàÎã§. Ïù¥ ÏΩîÎìúÎäî **"Ïñ¥ÎñªÍ≤å 70Í∞úÏùò ÌååÏùºÏù¥ ÌïòÎÇòÎ°ú Íø∞Ïñ¥ÏßÄÎäîÍ∞Ä"**Ïóê ÎåÄÌïú Ï†ïÎãµÏßÄÏûÖÎãàÎã§. 



ÎààÏïûÏóê ÌéºÏ≥êÏßÑ **ÏïΩ 600Ï§ÑÏùò ÏΩîÎìú**Í∞Ä ÏúÑÏïïÏ†ÅÏúºÎ°ú ÎäêÍª¥ÏßÄÏã≠ÎãàÍπå? ÎãπÏó∞Ìï©ÎãàÎã§.
Ïù¥Í≥≥ÏùÄ Îã®ÏàúÌïú ÏΩîÎìúÍ∞Ä ÏïÑÎãôÎãàÎã§. ÏÑúÎ≤ÑÏùò Ïò§Í∞êÏùÑ Íπ®Ïö∞Í≥†, Ïù∏Í≥µÏßÄÎä• ÎëêÎáåÎ•º Ïó∞Í≤∞ÌïòÍ≥†, Ï†Ñ ÏÑ∏Í≥ÑÏôÄ ÌÜµÏã†ÌïòÎäî Ïã†Í≤ΩÎßùÏùÑ ÏßÄÌúòÌïòÎäî **"ÏÇ¨Î†πÎ∂Ä"** Ïù¥Í∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.

*   **Ï¢åÏ∏° Ïä§ÌÅ¨Î¶∞**: `HTTP Server`Í∞Ä ÏõπÏóêÏÑú Îì§Ïñ¥Ïò§Îäî Ïã†Ìò∏Î•º Í∞êÏãúÌï©ÎãàÎã§.
*   **Ïö∞Ï∏° Ïä§ÌÅ¨Î¶∞**: `WebSocket`Ïù¥ ÏàòÏ≤ú Í∞úÏùò Ïã§ÏãúÍ∞Ñ Ïó∞Í≤∞ÏùÑ Ïú†ÏßÄÌï©ÎãàÎã§.
*   **Ï§ëÏïô ÏΩòÏÜî**: `Agent Runner`Í∞Ä AI(GPT-4)ÏóêÍ≤å ÎÅäÏûÑÏóÜÏù¥ Î™ÖÎ†πÏùÑ ÎÇ¥Î¶ΩÎãàÎã§.
*   **Î∞±Í∑∏ÎùºÏö¥Îìú**: `Heartbeat`Í∞Ä ÏãúÏä§ÌÖúÏùò ÏÉùÎ™Ö Î∞òÏùëÏùÑ Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Ï≤¥ÌÅ¨Ìï©ÎãàÎã§.

Ïù¥ Î™®Îì† Í≤ÉÏù¥ Îã® ÌïòÎÇòÏùò ÌååÏùº, `server.impl.ts` ÏïàÏóêÏÑú Ï°∞Ïú®Îê©ÎãàÎã§.
Î≥µÏû°Ìï¥ Î≥¥Ïù¥ÏßÄÎßå Í±±Ï†ïÌïòÏßÄ ÎßàÏã≠ÏãúÏò§. Ïö∞Î¶¨Îäî Ïù¥ Í±∞ÎåÄÌïú Ïö∞Ï£ºÏÑ†ÏùÑ **"Îã® 5Í∞úÏùò Î≤ÑÌäº"** ÏúºÎ°ú Î∂ÑÌï¥Ìï¥ÏÑú ÌïòÎÇòÏî© Ï°∞Î¶ΩÌï† Í≤ÉÏûÖÎãàÎã§. (Ïù¥Í≤ÉÏù¥ ÏïûÏóêÏÑú ÏÑ§Î™ÖÎìúÎ¶∞ **Ï∂îÏÉÅÌôî**Î•º ÏùòÎØ∏ÌïòÎäî Í≤É Í∏∞Ïñµ ÎÇòÏãúÏ£†?)

Ï§ÄÎπÑÎêòÏÖ®ÎÇòÏöî? Ïù¥Ï†ú ÏÇ¨Î†πÍ¥Ä(`startGatewayServer`)Ïùò ÏùòÏûêÏóê ÏïâÏïÑ Î≥º ÏãúÍ∞ÑÏûÖÎãàÎã§.

#### 2-2-0. [Í≥µÍ∏âÎßù Î∂ÑÏÑù] import Î™©Î°ù 73Ï§Ñ, Ïñ¥ÎñªÍ≤å Ï≤òÎ¶¨ÌïòÎÇòÏöî? (Supply Chain)

"importÍ∞Ä 70Ï§ÑÏù¥ÎÇò ÎêòÎäîÎç∞, Ïù¥Í±∏ Îã§ ÎßåÎì§Ïñ¥Ïïº ÌïòÎÇòÏöî?"
ÎÑ§, ÌïòÏßÄÎßå **"ÎÇ¥Ïö©"ÏùÑ Îã§ ÎßåÎì§ ÌïÑÏöîÎäî ÏóÜÏäµÎãàÎã§.** ÍªçÎç∞Í∏∞(Stub)Îßå ÏûàÏúºÎ©¥ Îê©ÎãàÎã§. Ïù¥ 70Ï§ÑÏùÄ ÌÅ¨Í≤å 5Í∞ÄÏßÄ Í∑∏Î£πÏúºÎ°ú ÎÇòÎâ©ÎãàÎã§.

*   **1. Ïô∏Î∂Ä Í∏∞Í¥Ä (External Agencies)**:
    *   `../config/*`: ÏÑ§Ï†ï ÌååÏùº Îì±Î≥∏ÏùÑ ÎñºÏò§Îäî Í≥≥.
    *   `../infra/*`: ÏßÑÎã®(Diagnostic), Ïã¨Ïû• Î∞ïÎèô(Heartbeat), Ïû¨ÏãúÏûë(Restart) Îì± ÏÉùÎ™Ö Ïú†ÏßÄ Ïû•Ïπò.
    *   `../logging/*`: Î∏îÎûôÎ∞ïÏä§ Í∏∞Î°ù Ïû•Ïπò.
*   **2. ÏóêÏù¥Ï†ÑÌä∏ Î≥∏Î∂Ä (Agent HQ)**:
    *   `../agents/*`: AI ÎëêÎáå Í¥ÄÎ¶¨ÏÜå.
*   **3. ÎÇ¥Î∂Ä Ïû•Í∏∞ (Internal Organs)**:
    *   `./server-*`: HTTP, WS, Channel Îì± ÏÑúÎ≤ÑÏùò Ïã§Ï†ú Î∂ÄÌíàÎì§.

> [!IMPORTANT]
> **üí° [ÌïµÏã¨ Ï†ÑÎûµ] "Í∞ÄÏßúÎ°ú Ï±ÑÏõåÎùº (Fake it till you make it)"**
>
> 70Í∞ú ÌååÏùºÏùÑ Îã§ Íµ¨ÌòÑÌïòÎã§Í∞Ñ ÏßÄÏ≥ê Îñ®Ïñ¥ÏßëÎãàÎã§. **"Îπà ÌååÏùº Ï†ÑÎûµ(Stubbing)"** ÏùÑ Ïì∞ÏÑ∏Ïöî.
>
> 1.  **Îπ®Í∞Ñ Ï§Ñ ÏóÜÏï†Í∏∞ Í≤åÏûÑ**: `server.impl.ts`Î•º Î≥µÏÇ¨Ìï¥ÏÑú Î∂ôÏó¨ÎÑ£ÏúºÎ©¥ Ïò®ÌÜµ Îπ®Í∞Ñ Ï§Ñ(ÏóêÎü¨)ÏûÖÎãàÎã§.
> 2.  **Îπà ÌååÏùº ÏÉùÏÑ±**: ÏóêÎü¨Í∞Ä ÎÇòÎäî Í≤ΩÎ°ú(Ïòà: `../infra/heartbeat.ts`)Ïóê ÌååÏùºÏùÑ ÎßåÎì≠ÎãàÎã§.
> 3.  **Í∞ÄÏßú ÏàòÏ∂ú(Export)**: Ìï®Ïàò ÎÇ¥Ïö©ÏùÑ ÎπÑÏõåÎëêÍ≥† `export`Îßå ÌïòÏÑ∏Ïöî.
>     ```typescript
>     // ../infra/heartbeat.ts
>     // ÍªçÎç∞Í∏∞Îßå ÎßåÎì≠ÎãàÎã§. ÎÇ¥Ïö©ÏùÄ ÎÇòÏ§ëÏóê Ï±ÑÏõÅÎãàÎã§.
>     export function startHeartbeatRunner() { console.log("Heartbeat started (fake)"); }
>     ```
> 4.  **Ïª¥ÌååÏùº ÏÑ±Í≥µ**: Îπ®Í∞Ñ Ï§ÑÏù¥ Îã§ ÏÇ¨ÎùºÏßÄÎ©¥, ÏÑúÎ≤ÑÎäî ÏºúÏßëÎãàÎã§. (Î¨ºÎ°† ÏïÑÎ¨¥ Í∏∞Îä•ÎèÑ Ïïà ÌïòÍ≤†ÏßÄÎßå, Í≥®Í≤©ÏùÄ ÏôÑÏÑ±Îêú Í≤ÅÎãàÎã§.)


#### 2-2-1. [ÏÉÅÏÑ∏ Î∂ÑÏÑù] Ìï®Ïàò Î™ÖÏòàÏùò Ï†ÑÎãπ (Function Hall of Fame)

> [!QUESTION]
> **Q. ÏÇ¨Î†πÍ¥ÄÎãò, ÏßàÎ¨∏ ÏûàÏäµÎãàÎã§!**
> "`server.impl.ts`Ïùò 90~92Î≤àÏß∏ Ï§ÑÏùÑ Î¥§ÎäîÎç∞, `GatewayServer` ÌÉÄÏûÖÏù¥ ÎÑàÎ¨¥ Ïã¨ÌîåÌï©ÎãàÎã§. Í≥†Ïûë `close` Ìï®Ïàò ÌïòÎÇòÎ∞ñÏóê ÏóÜÎäîÎç∞Ïöî?"
>
> ```typescript
> export type GatewayServer = {
>   close: (opts?: ...) => Promise<void>;
> };
> ```
>
> **A. Ï†ÑÎ¨∏Í∞ÄÏùò ÌÜµÏ∞∞Î†• (Expert's Insight)**
> ÏïÑÏ£º ÎÇ†Ïπ¥Î°úÏö¥ ÏßàÎ¨∏ÏûÖÎãàÎã§! Ïó¨Í∏∞ÏÑú Ïö∞Î¶¨Îäî **"Ï∂îÏÉÅÌôîÏùò ÎØ∏Ìïô(The Art of Abstraction)"** ÏùÑ Î∞∞ÏõåÏïº Ìï©ÎãàÎã§.
>
> 1.  **ÎπôÏÇ∞Ïùò ÏùºÍ∞Å (Tip of the Iceberg)**:
>     *   ÎπôÏÇ∞ÏùÄ Î¨º ÏúÑÏóê 10%Îßå Î≥¥Ïù¥Í≥†, Î¨º Î∞ëÏóê 90%Í∞Ä Ïà®Ïñ¥ ÏûàÏ£†.
>     *   `GatewayServer`Îäî Î¨º ÏúÑÏóê ÎÇòÏò® 10%ÏûÖÎãàÎã§. Ïô∏Î∂Ä(CLI)ÏóêÏÑúÎäî ÏÑúÎ≤ÑÎ•º "ÏºúÍ≥†(start)", "ÎÅÑÎäî(close)" Í≤É Ïô∏ÏóêÎäî Ïïå ÌïÑÏöîÍ∞Ä ÏóÜÍ≤å ÎßåÎì† Í≤ÉÏûÖÎãàÎã§. ÎÇ¥Î∂ÄÏóêÏÑú 100Îßå Ï§ÑÏùò ÏΩîÎìúÍ∞Ä ÎèåÏïÑÍ∞ÄÎì† ÎßêÎì†, ÏÇ¨Ïö©ÏûêÎäî **"Ï†ÑÏõê Î≤ÑÌäº"** ÌïòÎÇòÎ©¥ Ï∂©Î∂ÑÌï©ÎãàÎã§.
>
> 2.  **ÌïµÍ∞ÄÎ∞© (Nuclear Football)**:
>     *   ÎåÄÌÜµÎ†πÏùò ÌïµÍ∞ÄÎ∞©ÏóêÎäî Î≥µÏû°Ìïú ÎØ∏ÏÇ¨Ïùº ÌöåÎ°úÍ∞Ä Îì§Ïñ¥ÏûàÏßÄ ÏïäÏäµÎãàÎã§. Ïò§ÏßÅ **"Î∞úÏÇ¨ Î≤ÑÌäº"** Í≥º **"Ï∑®ÏÜå Î≤ÑÌäº"** Îßå ÏûàÏäµÎãàÎã§.
>     *   ÎßåÏïΩ Î¶¨Î™®Ïª®Ïóê Î≤ÑÌäºÏù¥ 100Í∞úÎùºÎ©¥(Ïòà: `server.http`, `server.ws` Îã§ ÎÖ∏Ï∂ú), ÏÇ¨Ïö©ÏûêÎäî Ìó∑Í∞àÎ†§ÏÑú ÏÇ¨Í≥†Î•º Ïπ† Í≤ÅÎãàÎã§.
>     *   **"Í∞ÄÏû• ÌõåÎ•≠Ìïú Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Îäî Îçî Ïù¥ÏÉÅ Î∫Ñ Í≤ÉÏù¥ ÏóÜÎäî ÏÉÅÌÉúÎã§."** Ïù¥ Îã®ÏàúÌï®Ïù¥ Î∞îÎ°ú Í≥†ÏàòÍ∞Ä ÏÑ§Í≥ÑÌñàÎã§Îäî Ï¶ùÍ±∞ÏûÖÎãàÎã§.

Í∞Å Ìï®ÏàòÏùò Ïó≠Ìï†Í≥º, Ï¥àÎ≥¥ÏûêÍ∞Ä Ïù¥Î•º Ïñ¥ÎñªÍ≤å Î≥µÏ†ú(Cloning)Ìï¥Ïïº ÌïòÎäîÏßÄ ÌïòÎÇòÏî© ÎúØÏñ¥Î≥¥Í≤†ÏäµÎãàÎã§.

##### 1. `loadConfig` (Î≥¥Í∏âÍ¥Ä: ÏóÑÍ≤©Ìïú ÏÑ∏Í¥ÄÏõê)
*   **Ïó≠Ìï†**: `config.yaml` ÌååÏùºÏùÑ ÏùΩÏñ¥ÏÑú ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ Í∞ùÏ≤¥Î°ú Î≥ÄÌôòÌï©ÎãàÎã§. Í∑∏ÎÉ• ÏùΩÎäî Í≤å ÏïÑÎãàÎùº, **"Îπ†ÏßÑ Ìï≠Î™©ÏùÄ ÏóÜÎäîÏßÄ, ÌÉÄÏûÖÏùÄ ÎßûÎäîÏßÄ"** Í≤ÄÏÇ¨(Validation)Ìï©ÎãàÎã§.
*   **ÏûÖÎ†•(Input)**: `CONFIG_PATH` (ÌååÏùº Í≤ΩÎ°ú Î¨∏ÏûêÏó¥)
*   **Ï∂úÎ†•(Output)**: `ClawdbotConfig` (Í≤ÄÏ¶ùÎêú ÏÑ§Ï†ï Í∞ùÏ≤¥) ÎòêÎäî **ÏóêÎü¨ Ìè≠Î∞ú(Throw Error)**
*   **ÏΩîÎìú Î∂ÑÏÑù**:
    ```typescript
    // Ïã§Ï†ú Î°úÏßÅ (Zod ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÇ¨Ïö©)
    const raw = fs.readFileSync("config.yaml"); // 1. ÌååÏùº ÏùΩÍ∏∞
    const parsed = yaml.parse(raw);             // 2. ÌååÏã±
    const config = ClawdbotSchema.parse(parsed); // 3. Í≤ÄÏ¶ù (Ïó¨Í∏∞ÏÑú ÌãÄÎ¶¨Î©¥ ÏóêÎü¨!)
    return config;
    ```
*   **Ï¥àÎ≥¥Ïûê ÌÅ¥Î°† Ï†ÑÎûµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function loadConfig() {
            narrate({ 
                who: "loadConfig", 
                role: "Î≥¥Í∏âÍ¥Ä", 
                action: "ÏÑ§Ï†ï ÌååÏùº Î°úÎî© ÏãúÎäâ" 
            });
            return { agents: { defaults: { model: "gpt-4" } } };
        }
        ```

##### 2. `startHeartbeatRunner` (ÏùòÎ¨¥Î≥ë: ÏûêÎèô Ïã¨Ïû•Ï∂©Í≤©Í∏∞)
*   **Ïó≠Ìï†**: Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú(Ïòà: 1ÏãúÍ∞ÑÎßàÎã§) Î¥áÏù¥ ÏÇ¥ÏïÑÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥†, ÌïÑÏöîÌïòÎ©¥ ÏûêÍ∞Ä ÏßÑÎã® Î©îÏãúÏßÄÎ•º Î≥¥ÎÉÖÎãàÎã§. "ÌôúÎèô ÏãúÍ∞Ñ(Active Hours)"Ïù∏ÏßÄ Ï≤¥ÌÅ¨Ìï¥ÏÑú Î∞§ÏóêÎäî Ï°∞Ïö©Ìûà ÏãúÌÇµÎãàÎã§.
*   **ÏûÖÎ†•(Input)**: `Config` (ÏÑ§Ï†ï Í∞ùÏ≤¥)
*   **Ï∂úÎ†•(Output)**: `HeartbeatRunner` (Î©àÏ∂§ Î≤ÑÌäº `stop()`Ïù¥ Îã¨Î¶∞ handle)
*   **Ï¥àÎ≥¥Ïûê ÌÅ¥Î°† Ï†ÑÎûµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function startHeartbeatRunner() {
            narrate({ 
                who: "startHeartbeatRunner", 
                role: "ÏùòÎ¨¥Î≥ë", 
                action: "Ïã¨Ïû• Î∞ïÎèôÍ∏∞ Í∞ÄÎèô" 
            });
            return { stop: () => { console.log("MEDIC: Stopped"); } };
        }
        ```

##### 3. `createChannelManager` (Ïô∏ÍµêÍ¥Ä: ÎßåÍµ≠ Í≥µÌÜµÏñ¥ ÌÜµÏó≠ÏÇ¨)
*   **Ïó≠Ìï†**: WhatsApp, Slack, Discord Îì± ÏÑúÎ°ú Îã§Î•∏ Ïñ∏Ïñ¥Î•º Ïì∞Îäî Ïô∏Î∂Ä Ï±ÑÎÑêÎì§ÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§. Í∞Å Ï±ÑÎÑêÏùÑ ÏºúÍ≥†(`start`), ÎÅÑÍ≥†(`stop`), ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÎäî Ï†úÏñ¥ÌåêÏûÖÎãàÎã§.
*   **ÏûÖÎ†•(Input)**: `ChannelManagerOptions` (Î°úÍ∑∏, ÏÑ§Ï†ï Îì±)
*   **Ï∂úÎ†•(Output)**: `ChannelManager` (Ï±ÑÎÑê Ï†úÏñ¥ Î©îÏÑúÎìú Î™®Ïùå)
*   **Ï¥àÎ≥¥Ïûê ÌÅ¥Î°† Ï†ÑÎûµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function createChannelManager() {
            return {
                startChannels: async () => { 
                    narrate({ 
                        who: "startChannels", 
                        role: "Ïô∏ÍµêÍ¥Ä", 
                        action: "Î™®Îì† ÎåÄÏÇ¨Í¥Ä(WhatsApp, Slack) Ïó∞Í≤∞" 
                    });
                }
            };
        }
        ```

##### 4. `createHttpServer` (ÎåÄÎ≥ÄÏù∏: Í∏∞ÏûêÌöåÍ≤¨Ïû•)
*   **Ïó≠Ìï†**: Ïô∏Î∂ÄÏóêÏÑú Îì§Ïñ¥Ïò§Îäî ÏöîÏ≤≠(HTTP Request)ÏùÑ Î∞õÏïÑÏÑú Ï†ÅÏ†àÌïú Îã¥ÎãπÏûêÏóêÍ≤å ÌÜ†Ïä§Ìï©ÎãàÎã§.
    *   `/v1/hooks` -> `hooks.ts` (ÏõπÌõÖ Îã¥Îãπ)
    *   `/slack/events` -> `slack.ts` (Ïä¨Îûô Îã¥Îãπ)
    *   `/ui` -> `control-ui.ts` (Í¥ÄÎ¶¨Ïûê ÌôîÎ©¥ Îã¥Îãπ)
*   **ÏûÖÎ†•(Input)**: `handleHooksRequest`, `controlUiEnabled` Îì± (Í∞Å Î∂ÄÏÑúÏùò Ïó∞ÎùΩÏ≤ò)
*   **Ï∂úÎ†•(Output)**: `HttpServer` (Node.js ÏÑúÎ≤Ñ Í∞ùÏ≤¥)
*   **Ï¥àÎ≥¥Ïûê ÌÅ¥Î°† Ï†ÑÎûµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { Hono } from "hono";
        import { narrate } from "../narrator";
        
        export function createHttpServer() {
            const app = new Hono();
            app.get("/", (c) => {
                narrate({ 
                    who: "HttpHandler", 
                    role: "ÎåÄÎ≥ÄÏù∏", 
                    action: "Í∏∞Ïûê(Client) ÏßàÎ¨∏ ÏùëÎåÄ" 
                });
                return c.text("SPOKESPERSON: I am ready.");
            });
            return app;
        }
        ```

##### 5. `attachGatewayWsHandlers` (ÌÜµÏã†Î≥ë: Ï†ÑÌôîÏÑ† Í∞úÌÜµ)
*   **Ïó≠Ìï†**: Îì§Ïñ¥Ïò§Îäî ÏÜåÏºì Ïó∞Í≤∞(`connection`)ÏùÑ Í∞êÏßÄÌïòÍ≥†, "ÎàÑÍµ¨Ïã≠ÎãàÍπå(Auth)"Î•º Î¨ºÏñ¥Î≥¥Í≥†, "Ïó∞Í≤∞ÎêòÏóàÏäµÎãàÎã§" ÎèÑÏû•ÏùÑ Ï∞çÏñ¥Ï£ºÎäî ÏàòÎ¨∏Ïû•ÏûÖÎãàÎã§.
*   **ÏûÖÎ†•(Input)**: `wss` (ÏõπÏÜåÏºì ÏÑúÎ≤Ñ), `clients` (Ï†ëÏÜçÏûê Î™ÖÎã®)
*   **Ï∂úÎ†•(Output)**: `void` (ÎèåÎ†§Ï£ºÎäî Í≤É ÏóÜÏùå. Í∑∏ÎÉ• Ï†ÑÌôîÏÑ†Îßå ÍΩÇÏïÑÎë†)
*   **Ï¥àÎ≥¥Ïûê ÌÅ¥Î°† Ï†ÑÎûµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function attachGatewayWsHandlers({ wss }) {
            wss.on("connection", (ws) => {
                narrate({ 
                    who: "WsHandler", 
                    role: "ÌÜµÏã†Î≥ë", 
                    action: "ÏÉàÎ°úÏö¥ Ï†ÑÌôî Ïó∞Í≤∞ ÏàòÎùΩ" 
                });
            });
        }
        ```

> [!TIP]
> **"Stubbing(ÍªçÎç∞Í∏∞ ÎßåÎì§Í∏∞)"** ÏùÄ Ï¥àÎ≥¥ÏûêÏùò ÍººÏàòÍ∞Ä ÏïÑÎãàÎùº, ÏãúÎãàÏñ¥ Í∞úÎ∞úÏûêÍ∞Ä Î≥µÏû°ÎèÑÎ•º Í¥ÄÎ¶¨ÌïòÎäî **Í∞ÄÏû• ÌîÑÎ°úÌéòÏÖîÎÑêÌïú Í∏∞Ïà†**ÏûÖÎãàÎã§. 
> 700Ï§ÑÏùÑ Ìïú Î≤àÏóê ÏßúÎäî ÏÇ¨ÎûåÏùÄ ÏÑ∏ÏÉÅÏóê ÏóÜÏäµÎãàÎã§. ÏúÑÏóêÏÑú ÏïåÎ†§ÎìúÎ¶∞ **5Í∞úÏùò ÍªçÎç∞Í∏∞ Ìï®Ïàò**Îßå Î®ºÏ†Ä ÌååÏùºÏóê Î≥µÎ∂ôÌïòÍ≥†, `startGatewayServer` ÏïàÏóêÏÑú Ìò∏Ï∂úÎßå Ìï¥Î≥¥ÏÑ∏Ïöî. **ÏóêÎü¨ ÏóÜÏù¥ Ïã§ÌñâÎêòÎäî Í∏∞ÏÅ®**ÏùÑ Î®ºÏ†Ä ÎßõÎ≥¥ÏÖîÏïº Ìï©ÎãàÎã§.

#### 2-2-2. [AI ÏãúÎåÄÏùò ÏΩîÎî©] TypeScript Î¨∏Î≤ï, Íµ≥Ïù¥ Î∞∞ÏõåÏïº ÌïòÎÇòÏöî?

"AIÍ∞Ä ÏΩîÎìú Îã§ ÏßúÏ£ºÎäîÎç∞, Î¨∏Î≤ï Í≥µÎ∂ÄÎ•º Ìï¥Ïïº ÌïòÎÇòÏöî?"
> [!IMPORTANT]
> **ÎÑ§, ÌïòÏßÄÎßå Í¥ÄÏ†êÏù¥ Îã¨ÎùºÏïº Ìï©ÎãàÎã§.** ÏßÅÏ†ë ÏΩîÎî©ÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÍ∞Ä ÏïÑÎãàÎùº, **AIÏóêÍ≤å Ï†ïÌôïÌûà ÏßÄÏãúÌïòÍ∏∞ ÏúÑÌï¥ÏÑú** Î∞∞ÏõåÏïº Ìï©ÎãàÎã§.

*   **1. Interface/Type = "AIÏóêÍ≤å ÎÇ¥Î¶¨Îäî Ïä§Ìéô(Spec)"**
    *   **Í≥ºÍ±∞**: ÎÇ¥Í∞Ä ÏΩîÎî©ÌïòÎã§ ÌãÄÎ¶¨Î©¥ Ïª¥ÌååÏùºÎü¨ÌïúÌÖå ÌòºÎÇòÎ†§Í≥† ÏîÄ.
    *   **AI ÏãúÎåÄ**: **"Ïïº AIÏïº, ÎÑ§Í∞Ä Ïß§ Ìï®ÏàòÎäî Î∞òÎìúÏãú Ïù¥ Î™®ÏñëÏù¥Ïñ¥Ïïº Ìï¥!"** ÎùºÍ≥† Í∑úÍ≤©(Spec)ÏùÑ ÎçòÏ†∏Ï£ºÎäî Ïö©ÎèÑ.
    *   **Ï†ÑÎûµ**: Íµ¨ÌòÑ(`function`)Î≥¥Îã§ ÌÉÄÏûÖ(`interface`)ÏùÑ Î®ºÏ†Ä Ï†ïÏùòÌïòÍ≥† AIÏóêÍ≤å ÎçòÏßÄÏÑ∏Ïöî. Í∑∏Îü¨Î©¥ AIÍ∞Ä Îî¥ÏÜåÎ¶¨Î•º Î™ª Ìï©ÎãàÎã§.

*   **2. Promise/Async = "AIÏïº, Ïû†ÍπêÎßå Í∏∞Îã§Î†§"**
    *   **Í≥ºÍ±∞**: ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨Í∞Ä Ïñ¥Î†§ÏõåÏÑú ÏΩúÎ∞± ÏßÄÏò•Ïóê Îπ†Ïßê.
    *   **AI ÏãúÎåÄ**: "Ïù¥ ÏûëÏóÖÏùÄ Ïò§Îûò Í±∏Î¶¨ÎãàÍπå(`async`), Îã§ Îê† ÎïåÍπåÏßÄ Í∏∞Îã§Î†∏Îã§Í∞Ä(`await`) Îã§Ïùå Ï§ÑÎ°ú ÎÑòÏñ¥Í∞Ä" ÎùºÎäî **ÏóÖÎ¨¥ ÏàúÏÑú ÏßÄÏãúÏÑú**ÏûÖÎãàÎã§.

#### 2-2-3. [Ïã§Ï†Ñ ÌÅ¥Î°† Í∞ÄÏù¥Îìú] AIÎ•º Î∂ÄÎ†§Î®πÎäî Î≤ï (How to Command)

Ïù¥ Î≥µÏû°Ìïú ÌååÏùºÏùÑ ÌòºÏûê ÏßúÏßÄ ÎßàÏÑ∏Ïöî. Ïù¥Î†áÍ≤å ÏßÄÏãúÌïòÏã≠ÏãúÏò§.

> [!IMPORTANT]
> **üöÄ [ÎØ∏Îûò ÏòàÎ≥¥] Ïó¨Îü¨Î∂ÑÏùò Ïó≠Ìï†ÏùÄ 'ÏΩîÎçî'Í∞Ä ÏïÑÎãàÎùº 'Í∏∞Ìöç Í∞úÎ∞úÏûê'ÏûÖÎãàÎã§.**
>
> ÏïûÏúºÎ°ú Ïó¨Îü¨Î∂ÑÏùò Ïó≠Ìï†ÏùÄ Îã®ÏàúÌûà ÏΩîÎìúÎ•º ÏπòÎäî ÏΩîÎçîÍ∞Ä ÏïÑÎãôÎãàÎã§. **AI ÏΩîÎî© ÏóêÏù¥Ï†ÑÌä∏** (Ïòà: Google Antigravity, VS Code, KIMI, OpenAI Codex Îì±) ÏàòÎßéÏùÄ ÏûêÎèô Í∞úÎ∞ú ÎèÑÍµ¨Îì§ÏùÑ Îä•ÏàôÌïòÍ≤å Îã§Î£®Í∏∞ ÏúÑÌï¥ÏÑúÎäî, Í∞úÎ∞úÏùÑ ÏïÑÏ£º ÏûëÏùÄ Îã®ÏúÑÎ°ú Ï™ºÍ∞úÍ≥† Í∑∏ Îã®ÏúÑÍ∞Ä **'Ïôú Ïó¨Í∏∞Ïóê ÎÜìÏó¨Ïïº ÌïòÎäîÏßÄ'** Í≥†ÎØºÌïòÍ≥† Îã§Ïãú Î∞∞ÏπòÌïòÎäî Îä•Î†•Ïù¥ ÌïÑÏàòÏûÖÎãàÎã§. Ïù¥Îü¨Ìïú ÌåêÎã®Í≥º Í∏∞Ìöç, Ï°∞Ï†ïÏùÑ ÏßÅÏ†ë ÏàòÌñâÌï¥ÏïºÎßå ÏÇ¥ÏïÑÎÇ®ÏùÑ Ïàò ÏûàÎäî ÏÑ∏ÏÉÅÏù¥ ÎêòÏóàÏäµÎãàÎã§.

#### üí° [ÍπúÏßù ÌûàÏä§ÌÜ†Î¶¨] 1970ÎÖÑÎåÄÏùò "Ï≤úÍ≥µÍ∏∞"ÏôÄ ÏÇ¨ÎùºÏßÑ ÏÑ†ÎßùÏùò ÏßÅÏóÖ

Î∞©Í∏à ÎßêÏîÄÎìúÎ¶∞ "ÏΩîÎçîÏùò Ï¢ÖÎßê" Ïù¥ÏïºÍ∏∞Í∞Ä ÌîºÎ∂ÄÏóê ÏôÄÎãøÏßÄ ÏïäÏúºÏã†Îã§Í≥†Ïöî? Ïó≠ÏÇ¨Î•º Î≥¥Î©¥ ÏßÄÍ∏àÏùò ÏÉÅÌô©Ïù¥ Îç∞ÏûêÎ∑îÏ≤òÎüº ÎäêÍª¥ÏßÄÏã§ Í≤ÅÎãàÎã§.

*   **1970-80ÎÖÑÎåÄÏùò ÌíçÍ≤Ω**: Í∑∏ ÏãúÏ†àÏóî Î™®ÎãàÌÑ∞ÎèÑ, ÌÇ§Î≥¥ÎìúÎèÑ ÏóÜÏóàÏäµÎãàÎã§. Í∞úÎ∞úÏûêÍ∞Ä Ï¢ÖÏù¥(ÏΩîÎî© ÏãúÌä∏)Ïóê Ïó∞ÌïÑÎ°ú ÏΩîÎìúÎ•º Ï†ÅÏñ¥Ï£ºÎ©¥, **'ÌéÄÏπòÎùºÏù¥ÌÑ∞(Punch Writer)'**Îùº Î∂àÎ¶¨Îäî Ï†ÑÎ¨∏ÏßÅ Î∂ÑÎì§Ïù¥ **Ï≤úÍ≥µÍ∏∞(Keypunch Machine)**ÎùºÎäî Í∏∞Í≥ÑÎ°ú Ï¢ÖÏù¥ Ïπ¥ÎìúÏóê Íµ¨Î©çÏùÑ Îª•Îª• Îö´ÏóàÏäµÎãàÎã§.
*   **Ïπ¥Îìú Ìïú Ïû• = ÏΩîÎìú Ìïú Ï§Ñ**: ÏàòÏ≤ú Ï§ÑÏßúÎ¶¨ ÌîÑÎ°úÍ∑∏Îû®ÏùÄ ÏàòÏ≤ú Ïû•Ïùò Ïπ¥Îìú Îç±Ïù¥ ÎêòÏóàÍ≥†, Ïù¥ Ïπ¥ÎìúÎ•º Ïª¥Ìì®ÌÑ∞Ïóê ÏßëÏñ¥ÎÑ£Ïñ¥ÏïºÎßå Í≥ÑÏÇ∞Í∏∞Í∞Ä ÎèåÏïÑÍ∞îÏäµÎãàÎã§.
*   **Í∑∏Îïê Í∑∏Îû¨ÏßÄ**: ÎãπÏãú ÌéÄÏπòÎùºÏù¥ÌÑ∞Îäî Ï†ïÌôïÎèÑÏôÄ ÏÜçÎèÑÎ•º Í∞ñÏ∂ò, ÎãπÎåÄ ÏµúÍ≥†Ïùò ÎåÄÏö∞Î•º Î∞õÎçò **'ÏµúÏ≤®Îã® IT Ï†ÑÎ¨∏ÏßÅ'**Ïù¥ÏóàÏäµÎãàÎã§. ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùò Í≤∞Í≥ºÎ¨ºÏùÑ Ïã§Ï†úÎ°ú 'ÎßåÎì§Ïñ¥ÎÇ¥Îäî' Ïú†ÏùºÌïú ÏÇ¨ÎûåÎì§Ïù¥ÏóàÏúºÎãàÍπåÏöî.
*   **ÏßÄÍ∏àÏùÄ?**: ÌÇ§Î≥¥ÎìúÏôÄ ÎßàÏö∞Ïä§, Í∑∏Î¶¨Í≥† Ï†ÄÏû• Ïû•ÏπòÍ∞Ä Î∞úÎã¨ÌïòÎ©∞ 'Íµ¨Î©çÏùÑ Îö´Îäî ÌñâÏúÑ(Punching)' ÏûêÏ≤¥Îäî ÏôÑÏ†ÑÌûà ÏÇ¨ÎùºÏ°åÏäµÎãàÎã§. Ïù¥Ï†úÎäî ÏïÑÎ¨¥ÎèÑ Íµ¨Î©çÏùÑ Îö´Ïñ¥ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÏßÄ ÏïäÏäµÎãàÎã§.

> [!TIP]
> **ÏãúÏÇ¨ÌïòÎäî Ï†ê**:
> "Íµ¨Î©çÏùÑ Îö´Îäî ÏÇ¨Îûå"ÏùÄ ÏÇ¨ÎùºÏ°åÏßÄÎßå, "Ïñ¥ÎîîÏóê Íµ¨Î©çÏùÑ Îö´ÏùÑÏßÄ Í∏∞ÌöçÌïú ÏÇ¨Îûå"ÏùÄ ÏßÄÍ∏àÏùò ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ ÏóîÏßÄÎãàÏñ¥Í∞Ä ÎêòÏóàÏäµÎãàÎã§. Ïù¥Ï†ú **"ÏΩîÎìúÎ•º Ìïú Ï§ÑÏî© ÏπòÎäî ÌñâÏúÑ"**ÎèÑ AIÍ∞Ä ÎåÄÏã†ÌïòÎäî Ï≤úÍ≥µÍ∏∞Ïùò Í∏∏ÏùÑ Í±∑Í≥† ÏûàÏäµÎãàÎã§. Ïó¨Îü¨Î∂ÑÏùÄ Îã®ÏàúÌûà ÏΩîÎìúÎ•º ÏπòÎäî ÏÇ¨ÎûåÏù¥ ÏïÑÎãàÎùº, **Í∑∏ ÏΩîÎìúÍ∞Ä Ïôú Í∑∏ ÏûêÎ¶¨Ïóê ÏûàÏñ¥Ïïº ÌïòÎäîÏßÄ Í≤∞Ï†ïÌïòÎäî 'Í∏∞Ìöç Í∞úÎ∞úÏûê'**Í∞Ä ÎêòÏñ¥ÏïºÎßå Ïù¥ Í±∞ÎåÄÌïú Î≥ÄÌôîÏùò ÌååÎèÑÏóêÏÑú ÏÇ¥ÏïÑÎÇ®ÏùÑ Ïàò ÏûàÏäµÎãàÎã§.

---

1.  **Ïä§ÌÖù 1: Îπà ÍªçÎç∞Í∏∞ ÏöîÏ≤≠ (Stubbing)**
    > "server.impl.tsÏùò `startGatewayServer` Ìï®Ïàò ÎºàÎåÄÎßå ÎßåÎì§Ïñ¥Ï§ò. ÎÇ¥Î∂ÄÎäî ÎπÑÏõåÎëêÍ≥†, Î¶¨ÌÑ¥ ÌÉÄÏûÖÏù∏ `GatewayServer`Îßå ÎßûÏ∂∞Ï§ò."
2.  **Ïä§ÌÖù 2: ÏÑ§Ï†ï Î°úÏßÅ Ï£ºÏûÖ (Dependency Injection)**
    > "Î∞©Í∏à ÎßåÎì† Ìï®Ïàò Îß® ÏúóÏ§ÑÏóê `loadConfig`Î•º Ìò∏Ï∂úÌï¥ÏÑú ÏÑ§Ï†ïÏùÑ Î∂àÎü¨Ïò§Îäî Î°úÏßÅÎßå Ï∂îÍ∞ÄÌï¥Ï§ò. `loadConfig`Îäî ÏóÜÎäî Ìï®ÏàòÎãàÍπå import Î¨∏Îßå Ï†ÅÏñ¥ÎÜî."
3.  **Ïä§ÌÖù 3: ÏÑúÎ∏åÏãúÏä§ÌÖú Ïó∞Í≤∞ (Connectivity)**
    > "Ïù¥Ï†ú `createHttpServer`ÏôÄ `createWebSocketServer`Î•º Ìò∏Ï∂úÌïòÎäî ÏΩîÎìúÎ•º Ï§ëÍ∞ÑÏóê ÎÑ£Ïñ¥Ï§ò."

> [!IMPORTANT]
> **ÌïµÏã¨**: AIÏóêÍ≤å Ìïú Î≤àÏóê "Ïù¥Í±∞ Îã§ ÎßåÎì§Ïñ¥"ÎùºÍ≥† ÌïòÏßÄ ÎßêÍ≥†, **"Ï°∞Î¶Ω ÏÑ§Î™ÖÏÑúÏùò Ìïú Î¨∏Ïû•"** Ïî© ÎçòÏßÄÏÑ∏Ïöî. Í∑∏Í≤ÉÏù¥ ÏßÑÏßú ÏóîÏßÄÎãàÏñ¥Ïùò Ïã§Î†•ÏûÖÎãàÎã§.

#### 2-2-4. [TS Î¨∏Î≤ï Ïã¨Ìôî] 'GatewayServer' ÌÉÄÏûÖ ÏôÑÏ†Ñ Ìï¥Î∂Ä

ÏÇ¨Ïö©ÏûêÎãòÏù¥ ÏßàÎ¨∏ÌïòÏã† `GatewayServer` ÌÉÄÏûÖ Ï†ïÏùòÎ•º Ìïú Ï§Ñ Ìïú Ï§Ñ ÎúØÏñ¥Î≥¥Í≤†ÏäµÎãàÎã§. Ïù¥Í≤ÉÏùÄ **"ÏÑúÎ≤Ñ Î¶¨Î™®Ïª®Ïùò ÏÇ¨Ïö© ÏÑ§Î™ÖÏÑú"** ÏûÖÎãàÎã§.

```typescript
export type GatewayServer = {
  // [1] Í∏∞Îä• Ï†ïÏùò (Property: Function)
  // "close Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ ÏÑúÎ≤ÑÍ∞Ä Í∫ºÏßëÎãàÎã§."
  close: (
      // [2] ÏÑ†ÌÉùÏ†Å ÏòµÏÖò (Optional Parameter)
      // "ÏòµÏÖòÏùÄ Ïïà ÎÑ£Ïñ¥ÎèÑ Îê©ÎãàÎã§(?). ÎÑ£ÎäîÎã§Î©¥ 'Ïù¥Ïú†'ÏôÄ 'Ïû¨ÏãúÏûë ÏãúÍ∞Ñ'ÏùÑ Ï†ÅÏúºÏÑ∏Ïöî."
      opts?: { reason?: string; restartExpectedMs?: number | null }
  ) 
  // [3] ÎπÑÎèôÍ∏∞ ÏïΩÏÜç (Async Return)
  // "Î≤ÑÌäºÏùÑ ÎàÑÎ•¥Î©¥ Ï¶âÏãú Í∫ºÏßÄÏßÄ ÏïäÍ≥†, ÏôÑÏ†ÑÌûà Í∫ºÏßà ÎïåÍπåÏßÄ Í∏∞Îã§Î†§Ïïº(Promise) Ìï©ÎãàÎã§."
  => Promise<void>;
};
```

#### üìñ ÏΩîÎìú ÏÑ§Î™Ö (Code Explanation)

1.  **`export type GatewayServer = { ... }`**:
    *   **ÏùòÎØ∏**: "ÏïûÏúºÎ°ú `GatewayServer`ÎùºÍ≥† ÌïòÎ©¥, Î¨¥Ï°∞Í±¥ Ï§ëÍ¥ÑÌò∏ `{}` ÏïàÏóê ÏûàÎäî Í∏∞Îä•Îì§ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏñ¥Ïïº ÌïúÎã§"Îäî **Í≥ÑÏïΩÏÑú(Contract)** ÏûÖÎãàÎã§.
    *   **AI ÌôúÏö©Î≤ï**: AIÏóêÍ≤å "ÏÑúÎ≤Ñ ÎßåÎì§Ïñ¥Ï§ò"ÎùºÍ≥† ÌïòÍ∏∞ Ï†ÑÏóê, **"ÏÑúÎ≤ÑÏùò Î¶¨Î™®Ïª®ÏùÄ Î¨¥Ï°∞Í±¥ Ïù¥Î†áÍ≤å ÏÉùÍ≤®Ïïº Ìï¥"** ÎùºÍ≥† Ïù¥ ÌÉÄÏûÖÏùÑ Î®ºÏ†Ä ÎçòÏ†∏Ï£ºÏÑ∏Ïöî. Í∑∏Îü¨Î©¥ AIÍ∞Ä ÏóâÎö±Ìïú Î¶¨Î™®Ïª®ÏùÑ ÎßåÎì§Ïñ¥Ïò§ÏßÄ ÏïäÏäµÎãàÎã§.

2.  **`opts?:` (Î¨ºÏùåÌëúÏùò ÎßàÎ≤ï)**:
    *   **Î¨∏Î≤ï**: **Optional Parameter**. ÏûàÏñ¥ÎèÑ ÎêòÍ≥† ÏóÜÏñ¥ÎèÑ ÎêòÎäî Í∞í.
    *   **ÏùÄÏú†**: "ÏÑ†ÌíçÍ∏∞ ÌÉÄÏù¥Î®∏". ÌÉÄÏù¥Î®∏Î•º Ïïà ÎßûÏ∂îÍ≥†(`undefined`) Í∑∏ÎÉ• Í∫ºÎèÑ ÎêòÍ≥†, 1ÏãúÍ∞Ñ Îí§Ïóê Í∫ºÏßÄÎùºÍ≥† ÎßûÏ∂∞ÎèÑ Îê©ÎãàÎã§.
    *   **AI ÌôúÏö©Î≤ï**: "ÏòµÏÖòÏù¥ ÎÑàÎ¨¥ Î≥µÏû°Ìï¥"ÎùºÍ≥† ÎäêÎÅºÎ©¥ AIÏóêÍ≤å **"Î™®Îì† ÌïÑÎìúÏóê `?`Î•º Î∂ôÏó¨ÏÑú ÏÑ†ÌÉù ÏÇ¨Ìï≠ÏúºÎ°ú Î∞îÍøîÏ§ò(Make everything optional)"** ÎùºÍ≥† ÏßÄÏãúÌïòÏÑ∏Ïöî. ÏΩîÎî©Ïù¥ Ìõ®Ïî¨ Ìé∏Ìï¥ÏßëÎãàÎã§.

3.  **`=> Promise<void>`**:
    *   **Î¨∏Î≤ï**: **ÎπÑÎèôÍ∏∞ Î∞òÌôò**.
    *   **ÏùòÎØ∏**: "Ïù¥ Ìï®ÏàòÎäî `return` Í∞íÏù¥ ÏóÜÏäµÎãàÎã§(`void`). ÌïòÏßÄÎßå ÏûëÏóÖÏù¥ ÎÅùÎÇ¨Îã§Îäî Ïã†Ìò∏(`Promise`)Îäî ÎÇòÏ§ëÏóê Î≥¥ÎÇ¥Ï§çÎãàÎã§."
    *   **ÌòÑÏã§ ÎπÑÏú†**: "Î∞∞Îã¨ Ï£ºÎ¨∏". ÏßúÏû•Î©¥ÏùÑ ÏãúÌÇ§Î©¥(Ìï®Ïàò Ìò∏Ï∂ú), ÏßúÏû•Î©¥Ïù¥ Î∞îÎ°ú ÎΩï ÌïòÍ≥† ÎÇòÌÉÄÎÇòÏßÄ ÏïäÏäµÎãàÎã§. "Î∞∞Îã¨ Ï§ë(Pending)" ÏÉÅÌÉúÏòÄÎã§Í∞Ä ÎÇòÏ§ëÏóê "ÎèÑÏ∞©(Resolved)"Ìï©ÎãàÎã§.
    *   **AI ÌôúÏö©Î≤ï**: ÏöîÏ¶ò ÏÑúÎ≤Ñ ÏΩîÎìúÎäî 99%Í∞Ä ÎπÑÎèôÍ∏∞ÏûÖÎãàÎã§. AIÏóêÍ≤å **"Î™®Îì† IO ÏûëÏóÖÏùÄ Î¨¥Ï°∞Í±¥ `async/await`Î°ú ÏßúÏ§ò"** ÎùºÍ≥† ÎØ∏Î¶¨ Î™ª Î∞ïÏúºÏÑ∏Ïöî. Ïïà Í∑∏Îü¨Î©¥ AIÍ∞Ä ÏòõÎÇ† Î∞©Ïãù(ÎèôÍ∏∞Ïãù)ÏúºÎ°ú ÏßúÏÑú ÏÑúÎ≤Ñ Ï†ÑÏ≤¥Î•º Î©àÏ∂îÍ≤å(Blocking) Ìï† ÏàòÎèÑ ÏûàÏäµÎãàÎã§.

---

```typescript
// [ÌïµÏã¨ Ìï®Ïàò] Ïù¥ Ìï®ÏàòÍ∞Ä Ïã§ÌñâÎêòÎ©¥ ÏÑúÎ≤ÑÍ∞Ä ÌÉúÏñ¥ÎÇ©ÎãàÎã§.
export async function startGatewayServer(port = 18789, opts: GatewayServerOptions = {}) {
  
  // 1. [Ï§ÄÎπÑ Îã®Í≥Ñ] ÎπÑÌñâ Ï†Ñ Ï†êÍ≤Ä (Pre-flight Check)
  // ÌôòÍ≤Ω ÏÑ§Ï†ï(Config)ÏùÑ ÏùΩÏñ¥Ïò§Í≥†, Î°úÍ∑∏ ÏãúÏä§ÌÖúÏùÑ Ïº≠ÎãàÎã§.
  const config = await loadConfig(CONFIG_PATH_CLAWDBOT); 
  const log = createSubsystemLogger("gateway");
  
  // 2. [Ïã§Ìñâ Îã®Í≥Ñ] Ïã¨Ïû• Î∞ïÎèô ÏãúÏûë (Heartbeat)
  // ÏÑúÎ≤ÑÍ∞Ä ÏÇ¥ÏïÑÏûàÏùåÏùÑ ÏïåÎ¶¨Îäî Ïã¨Ïû• Î∞ïÎèô(Heartbeat) ÏãúÏä§ÌÖúÏùÑ Í∞ÄÎèôÌï©ÎãàÎã§.
  const heartbeatHandle = startHeartbeatRunner({ /* ... */ });

  // 3. [Ïó∞Í≤∞ Îã®Í≥Ñ] Í∞Å Î∂ÄÏÑú(Ïû•Í∏∞) ÏÜåÏßë
  // ÏûÖ(HTTP), Í∑Ä(WebSocket), ÌåîÎã§Î¶¨(Channel) Îã¥ÎãπÏûêÎì§ÏùÑ Î∂àÎü¨ÏòµÎãàÎã§.
  
  // 3-1. Ï±ÑÎÑê Îß§ÎãàÏ†Ä (ÌåîÎã§Î¶¨)
  const channelManager = createChannelManager({ /* ... */ });
  
  // 3-2. HTTP ÏÑúÎ≤Ñ (ÏûÖ)
  // Hono Ïï±ÏùÑ ÎßåÎì§Í≥† ÎùºÏö∞ÌåÖÏùÑ ÏÑ§Ï†ïÌï©ÎãàÎã§.
  const { app, server } = await createHttpServer({ /* ... */ });
  
  // 3-3. WebSocket ÏÑúÎ≤Ñ (Í∑Ä)
  // Ïã§ÏãúÍ∞Ñ ÌÜµÏã†ÏùÑ ÏúÑÌïú ÏÜåÏºì ÏÑúÎ≤ÑÎ•º ÏóΩÎãàÎã§.
  const wss = await createWebSocketServer({ /* ... */ });

  // 4. [ÏµúÏ¢Ö ÏäπÏù∏] Ï§ÄÎπÑ ÏôÑÎ£å
  // Î™®Îì† ÏãúÏä§ÌÖúÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Îñ¥Îã§Îäî Î°úÍ∑∏Î•º ÎÇ®ÍπÅÎãàÎã§.
  log.info(`Gateway running on port ${port}`);

  return { 
    // ÎÇòÏ§ëÏóê ÏÑúÎ≤ÑÎ•º ÎÅÑÍ±∞ÎÇò Ï°∞Ï¢ÖÌï† Ïàò ÏûàÎèÑÎ°ù Î¶¨Î™®Ïª®(Í∞ùÏ≤¥)ÏùÑ Î∞òÌôòÌï©ÎãàÎã§.
    close: async () => { /* Ï¢ÖÎ£å Î°úÏßÅ */ } 
  };
}
```

#### 2-2-2. [Î∞∞Í≤Ω ÏßÄÏãù] Ïôú Ïù¥Î†áÍ≤å Î™®Îì† Í±∏ Ìïú Ìï®ÏàòÏóê ÎÑ£ÏóàÎÇòÏöî?
*   **ÏùòÏ°¥ÏÑ± Ï£ºÏûÖ(Dependency Injection)**: Í∞Å Ïû•Í∏∞Îì§ÏùÄ ÏÑúÎ°úÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.
    *   `HTTP ÏÑúÎ≤Ñ`Îäî `Ï±ÑÎÑê Îß§ÎãàÏ†Ä`Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§. (ÏÇ¨Ïö©ÏûêÍ∞Ä ÏõπÏóêÏÑú "Ïπ¥ÌÜ° Î≥¥ÎÇ¥Ï§ò"ÎùºÍ≥† ÌïòÎ©¥ Ï±ÑÎÑê Îß§ÎãàÏ†ÄÏóêÍ≤å ÏãúÏºúÏïº ÌïòÎãàÍπåÏöî)
    *   `WebSocket ÏÑúÎ≤Ñ`Îäî `ÏóêÏù¥Ï†ÑÌä∏`Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.
*   **Ï§ëÏïô ÌÜµÏ†ú**: ÎßåÏïΩ Í∞ÅÏûê Îî∞Î°ú ÏºúÏßÄÎ©¥, "HTTPÎäî ÏºúÏ°åÎäîÎç∞ DBÍ∞Ä Ïïà ÏºúÏßÄÎäî" ÎÅîÏ∞çÌïú ÏÉÅÌô©Ïù¥ Î∞úÏÉùÌï©ÎãàÎã§. `server.impl.ts`Îäî **Î™®Îì† Ïû•Í∏∞Í∞Ä ÏôÑÎ≤ΩÌïòÍ≤å Ï§ÄÎπÑÎê† ÎïåÍπåÏßÄ Í∏∞Îã§Î†∏Îã§Í∞Ä(await)**, ÎèôÏãúÏóê Ï∂úÍ≤© Î™ÖÎ†πÏùÑ ÎÇ¥Î¶ΩÎãàÎã§.

---

### 2-9. ÏÑúÎ≤ÑÏùò ÏûÖ, HTTP ÏÑúÎ≤Ñ (`src/gateway/server-http.ts`) - **[Îã®Í≥Ñ 3: Ìò∏Ìù°Í∏∞ Ïó∞Í≤∞]**



ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨(`server.ts`)ÏôÄ ÏÇ¨Î†πÎ∂Ä(`server.impl.ts`)Í∞Ä Ï§ÄÎπÑÎêòÏóàÏäµÎãàÎã§. ÌïòÏßÄÎßå ÏïÑÏßÅ Ïù¥ ÏÑúÎ≤ÑÎäî **Î≤ôÏñ¥Î¶¨**ÏûÖÎãàÎã§. Ïô∏Î∂ÄÏóêÏÑú ÎßêÏùÑ Í±∏ ÏàòÎèÑ, ÎåÄÎãµÌï† ÏàòÎèÑ ÏóÜÏäµÎãàÎã§. Ïù¥Ï†ú **"ÏûÖ(Mouth)"** ÏùÑ Îã¨ÏïÑÏ§Ñ Ï∞®Î°ÄÏûÖÎãàÎã§.

> [!NOTE]
> **ü§î "ÏûÖ(Mouth)"Ïùò ÏßÑÏßú Ïó≠Ìï†ÏùÄ?**
> 
> **Îã®ÏàúÌïú Ï∂úÎ†•Í∏∞Í∞Ä ÏïÑÎãôÎãàÎã§!** HTTP ÏÑúÎ≤ÑÎäî **ÏñëÎ∞©Ìñ• ÌÜµÏã† Ïû•Ïπò**ÏûÖÎãàÎã§:
> 
> 1. **ÏûÖÎ†• Í∏∞Îä• (Request Listener)**:
>    - Ïô∏Î∂ÄÏóêÏÑú Îì§Ïñ¥Ïò§Îäî Î™®Îì† HTTP ÏöîÏ≤≠(`GET`, `POST`, `PUT`, `DELETE`)ÏùÑ **Îì£Í≥†(Listen)** Î∞õÏïÑÎì§ÏûÖÎãàÎã§.
>    - Ïòà: ÏõπÌõÖ(Slack, GitHub), API Ìò∏Ï∂ú(`/v1/chat/completions`), Î∏åÎùºÏö∞Ï†Ä Ï†ëÏÜç(`/ui`)
> 
> 2. **Ï∂úÎ†• Í∏∞Îä• (Response Sender)**:
>    - ÏöîÏ≤≠ÏùÑ Ï≤òÎ¶¨Ìïú ÌõÑ **ÏùëÎãµ(Response)**ÏùÑ ÎèåÎ†§Î≥¥ÎÉÖÎãàÎã§.
>    - Ïòà: JSON Îç∞Ïù¥ÌÑ∞, HTML ÌéòÏù¥ÏßÄ, ÏÉÅÌÉú ÏΩîÎìú(200 OK, 404 Not Found)
> 
> 3. **Ïà®Í≤®ÏßÑ ÌïµÏã¨ Í∏∞Îä•Îì§**:
>    - **ÎùºÏö∞ÌåÖ(Routing)**: ÏöîÏ≤≠ Í≤ΩÎ°ú(`/health`, `/v1/hooks/agent`)Ïóê Îî∞Îùº Ï†ÅÏ†àÌïú Ìï∏Îì§Îü¨Î°ú Î∂ÑÎ∞∞Ìï©ÎãàÎã§.
>    - **Ïù∏Ï¶ù(Authentication)**: ÌÜ†ÌÅ∞ Í≤ÄÏ¶ùÏúºÎ°ú ÌóàÍ∞ÄÎêú ÏöîÏ≤≠Îßå Ï≤òÎ¶¨Ìï©ÎãàÎã§.
>    - **Ï†ïÏ†Å ÌååÏùº ÏÑúÎπô**: Í¥ÄÎ¶¨Ïûê UIÏùò HTML/CSS/JS ÌååÏùºÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.
>    - **WebSocket ÏóÖÍ∑∏Î†àÏù¥Îìú**: HTTP Ïó∞Í≤∞ÏùÑ Ïã§ÏãúÍ∞Ñ WebSocketÏúºÎ°ú Ï†ÑÌôòÏãúÌÇµÎãàÎã§.
>    - **ÏóêÎü¨ Ï≤òÎ¶¨**: ÏûòÎ™ªÎêú ÏöîÏ≤≠Ïóê ÎåÄÌï¥ Ï†ÅÏ†àÌïú ÏóêÎü¨ Î©îÏãúÏßÄÎ•º Î∞òÌôòÌï©ÎãàÎã§.
> 
> **ÎπÑÏú†**: ÏûÖÏùÄ Îã®ÏàúÌûà "ÎßêÌïòÎäî" Í∏∞Í¥ÄÏù¥ ÏïÑÎãàÎùº, **Îì£Í≥†(Í∑Ä), ÎßõÎ≥¥Í≥†(ÏÑºÏÑú), ÏîπÍ≥†(Ï≤òÎ¶¨), ÎßêÌïòÎäî(Ï∂úÎ†•)** Î≥µÌï© Í∏∞Í¥ÄÏûÖÎãàÎã§!

> [!NOTE]
> **üõ†Ô∏è VS Code Ïã§Ï†Ñ Ï°∞Î¶Ω Ï†àÏ∞®**
> 1.  **ÌååÏùº ÏÉùÏÑ±**: `src/gateway/server-http.ts` ÌååÏùºÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.
> 2.  **ÎùºÏù¥Î∏åÎü¨Î¶¨ Î∂àÎü¨Ïò§Í∏∞**: ÏÉÅÎã®Ïóê `import { Hono } from "hono";`Î•º ÏûÖÎ†•Ìï©ÎãàÎã§. ÎßåÏïΩ Î∞ëÏ§Ñ(Error)Ïù¥ Îú¨Îã§Î©¥ ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú `pnpm add hono`Í∞Ä ÎêòÏñ¥ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÏÑ∏Ïöî.
> 3.  **ÌÖåÏä§Ìä∏**: ÏÑúÎ≤ÑÎ•º Ïº† ÌõÑ Î∏åÎùºÏö∞Ï†Ä Ï£ºÏÜåÏ∞ΩÏóê `http://localhost:3000`ÏùÑ ÏûÖÎ†•Ìï¥ "Hello!"Í∞Ä ÎÇòÏò§ÎäîÏßÄ ÌôïÏù∏ÌïòÎäî Í≤ÉÏù¥ ÏµúÏ¢Ö Î™©ÌëúÏûÖÎãàÎã§.


#### 2-3-1. [Ìï¥Î∂ÄÌïô] ÏûÖÏùò Íµ¨Ï°∞ (The Anatomy of the Mouth)
Ïù¥ ÌååÏùºÏùÄ **Hono**ÎùºÎäî Ï¥àÍ≥†ÏÜç ÌòÄ(Language)Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.

*   **Ïó≠Ìï†**: Îì§Ïñ¥Ïò§Îäî Î™®Îì† HTTP ÏöîÏ≤≠(`GET`, `POST`)ÏùÑ Îì£Í≥†, Ï†ÅÏ†àÌïú Î∂ÄÏÑúÎ°ú ÌÜ†Ïä§Ìï©ÎãàÎã§.
*   **ÌïµÏã¨ Î∂ÄÌíà**:
    *   **Health Check**: "ÏÇ¥ÏïÑÏûàÎãà?" (`/health`) -> "Ïùë" (200 OK)
    *   **Webhooks**: "Ïä¨ÎûôÏóêÏÑú Î©îÏãúÏßÄ ÏôîÏñ¥!" (`/v1/hooks/...`) -> Ï±ÑÎÑê Îß§ÎãàÏ†ÄÏóêÍ≤å Ï†ÑÎã¨
    *   **UI Assets**: "Í¥ÄÎ¶¨Ïûê ÌôîÎ©¥ Î≥¥Ïó¨Ï§ò" (`/ui`) -> HTML ÌååÏùº ÏÑúÎπô

#### 2-3-2. [ÏΩîÎìú Î∂ÑÏÑù] `createHttpServer` (ÏûÖ ÎßåÎì§Í∏∞)

```typescript
import { Hono } from "hono";
import { serveStatic } from "@hono/node-server/serve-static";

export async function createHttpServer(params: {
  // ÏùòÏ°¥ÏÑ± Ï£ºÏûÖ: Ïù¥ Ìï®ÏàòÍ∞Ä ÏûëÎèôÌïòÍ∏∞ ÏúÑÌï¥ ÌïÑÏöîÌïú Îã§Î•∏ Î∂ÄÏÑú Ïó∞ÎùΩÏ≤òÎì§
  handleHooksRequest: any;  // Ïô∏Î∂Ä ÌõÖ Ï≤òÎ¶¨ Îã¥ÎãπÏûê
  controlUiEnabled: boolean; // UI Ïº§ÏßÄ ÎßêÏßÄ Ïó¨Î∂Ä
}) {
  const app = new Hono();

  // 1. [Í∏∞Ï¥à ÎåÄÏÇ¨] ÏÉùÏ°¥ Ïã†Í≥† (Ping/Pong)
  // Í∞ÄÏû• Ï§ëÏöîÌïú Í∏∞Îä•ÏûÖÎãàÎã§. "ÎÇò ÏÇ¥ÏïÑÏûàÏñ¥Ïöî?"ÎùºÍ≥† Î¨ºÏúºÎ©¥ "Pong" Ìï¥Ï§çÎãàÎã§.
  // ÌÅ¥ÎùºÏö∞Îìú(AWS, Fly.io)Í∞Ä ÏÑúÎ≤ÑÍ∞Ä Ï£ΩÏóàÎäîÏßÄ ÏÇ¥ÏïòÎäîÏßÄ Ï∞åÎü¨Î≥º Îïå ÏîÅÎãàÎã§.
  app.get("/health", (c) => c.text("ok"));

  // 2. [Î™©ÏÜåÎ¶¨] Í¥ÄÎ¶¨Ïûê UI ÏÑúÎπô
  // ÏÇ¨Ïö©ÏûêÍ∞Ä Î∏åÎùºÏö∞Ï†ÄÎ°ú Ï†ëÏÜçÌïòÎ©¥ Ïù¥ÏÅú ÌôîÎ©¥(HTML)ÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§.
  if (params.controlUiEnabled) {
    // "assets Ìè¥ÎçîÏóê ÏûàÎäî ÌååÏùº Ï¢Ä Î≥¥Ïó¨Ï§ò" (Ï†ïÏ†Å ÌååÏùº ÏÑúÎπô)
    app.use("/ui/*", serveStatic({ root: "./assets" }));
  }

  // 3. [Í∑Ä] Ïô∏Î∂Ä ÌõÖ Îì£Í∏∞ (Listening Hooks)
  // SlackÏù¥ÎÇò Îã§Î•∏ ÌîÑÎ°úÍ∑∏Îû®Ïù¥ Î≥¥ÎÇ¥Îäî Îç∞Ïù¥ÌÑ∞Î•º Î∞õÏäµÎãàÎã§.
  app.all("/v1/hooks/*", async (c) => {
    return params.handleHooksRequest(c); // Îã¥ÎãπÏûêÏóêÍ≤å ÌÜ†Ïä§!
  });

  return { 
    app, // ÏôÑÏÑ±Îêú ÏûÖ(Hono App)ÏùÑ Î∞òÌôò
  };
}
```

#### 2-3-3. [Ïã§Ïäµ Í∞ÄÏù¥Îìú] ÎÇ¥ ÏÜêÏúºÎ°ú ÏûÖ Îã¨ÏïÑÎ≥¥Í∏∞ (Hands-on Stub)

Ï≤òÏùåÎ∂ÄÌÑ∞ ÏôÑÎ≤ΩÌïú ÎùºÏö∞ÌåÖÏùÑ Ïß§ ÌïÑÏöîÎäî ÏóÜÏäµÎãàÎã§. ÏùºÎã® **"Ïà®ÏùÑ Ïâ¨ÎäîÏßÄ"** Îßå ÌôïÏù∏Ìï©ÏãúÎã§.

1.  `src/gateway/server-http.ts` ÌååÏùºÏùÑ ÎßåÎìúÏÑ∏Ïöî.
2.  ÏïÑÎûòÏùò **ÏµúÏÜå ÏÉùÏ°¥ ÌõàÎ†® ÏΩîÎìú**Î•º Î∂ôÏó¨ÎÑ£ÏúºÏÑ∏Ïöî.

```typescript
import { Hono } from "hono";
import { narrate } from "../narrator";

export async function createHttpServer(params: any) {
  const app = new Hono();

  // "Ïã¨Ïû•Ïù¥ ÎúÅÎãàÎã§."
  app.get("/", (c) => {
    narrate({ who: "HTTP", role: "ÏûÖ", action: "Ïà®Ïâ¨Í∏∞(Health Check)" });
    return c.text("OpenClaw Gateway: Breathing...");
  });

  return { app };
}
```

3.  Ïù¥Ï†ú Î∏åÎùºÏö∞Ï†ÄÎ•º ÏºúÍ≥† `http://localhost:18789` (Ìè¨Ìä∏Îäî ÏÑ§Ï†ïÏóê Îî∞Îùº Îã§Î¶Ñ)Ïóê Ï†ëÏÜçÌñàÏùÑ Îïå, **"OpenClaw Gateway: Breathing..."** Ïù¥ÎùºÎäî Í∏ÄÏûêÍ∞Ä Î≥¥Ïù¥Î©¥ ÏÑ±Í≥µÏûÖÎãàÎã§! 

> [!TIP]
> **üéâ Ï∂ïÌïòÌï©ÎãàÎã§!**
> 
> Î©îÏãúÏßÄÍ∞Ä ÎÇòÏò®Îã§Î©¥ ÏÑ±Í≥µÏûÖÎãàÎã§!! **Ï∂ïÌïòÎìúÎ¶ΩÎãàÎã§.** Ïó¨Îü¨Î∂ÑÏùÄ ÏßÄÍ∏à **ÌïµÏã¨ Í≤åÏù¥Ìä∏Ïõ®Ïù¥ ÏïåÍ≥†Î¶¨Ï¶òÏùÑ ÏôÑÏÑ±**ÌïòÏã† Í≤ÅÎãàÎã§. ÏÑúÎ≤ÑÏóê ÏÉùÎ™ÖÏùÑ Î∂àÏñ¥ÎÑ£Îäî Ï≤´ Î≤àÏß∏ Ïà®Í≤∞ÏùÑ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÎßåÎì§Ïñ¥ÎÉàÏäµÎãàÎã§!

---

### 2-10. ÏÑúÎ≤ÑÏùò Í∑Ä, WebSocket ÏÑúÎ≤Ñ (`src/gateway/server-ws-runtime.ts`) - **[Îã®Í≥Ñ 4: Ïã†Í≤ΩÎßù Ïó∞Í≤∞]**



HTTPÍ∞Ä "ÎòëÎòë, Í±∞Í∏∞ ÎàÑÍµ¨ ÏûàÎÇòÏöî?" ÌïòÍ≥† Î¨ªÎäî **Îã®Î∞úÏÑ± ÎåÄÌôî**ÎùºÎ©¥, WebSocketÏùÄ Ï†ÑÌôîÏÑ†ÏùÑ ÎΩëÏßÄ ÏïäÍ≥† Í≥ÑÏÜç Îì§Í≥† ÏûàÎäî **Ïã§ÏãúÍ∞Ñ ÌÜµÌôî**ÏûÖÎãàÎã§. Ïù¥Í≤ÉÏùÄ Î¥áÏùò **"Ïã†Í≤ΩÎßù(Nervous System)"** Ïù¥Ïûê **"Í∑Ä(Ears)"** ÏûÖÎãàÎã§.

> [!NOTE]
> **üõ†Ô∏è VS Code Ïã§Ï†Ñ Ï°∞Î¶Ω Ï†àÏ∞®**
> 1.  **ÌååÏùº ÏÉùÏÑ±**: `src/gateway/server-ws-runtime.ts` ÌååÏùºÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.
> 2.  **Ïã§ÏãúÍ∞Ñ Î™®ÎãàÌÑ∞ÎßÅ**: Ïù¥ ÌååÏùºÏù¥ ÏôÑÏÑ±ÎêòÎ©¥, Î∏åÎùºÏö∞Ï†Ä Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄÏóêÏÑú Ïã§ÏãúÍ∞Ñ Î°úÍ∑∏Í∞Ä Ïò¨ÎùºÏò§Îäî Í≤ÉÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§.
> 3.  **Ï£ºÏùò**: WebSocketÏùÄ Ïó∞Í≤∞Ïù¥ ÎÅäÍ∏∞Î©¥ Îã§Ïãú Ïó∞Í≤∞Ìï¥Ï£ºÎäî Î°úÏßÅÏù¥ Ï§ëÏöîÌï©ÎãàÎã§. ÎÇòÏ§ëÏóê `truncateCloseReason` Í∞ôÏùÄ ÎèÑÍµ¨Í∞Ä Ïì∞Ïù¥Îäî Í≥≥Ïù¥ Î∞îÎ°ú Ïó¨Í∏∞ÏûÖÎãàÎã§.


#### 2-4-1. [Ìï¥Î∂ÄÌïô] Í∑ÄÏùò Íµ¨Ï°∞
Ïù¥ ÌååÏùºÏùÄ `ws` ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÏÇ¨Ïö©ÌïòÏó¨ Ïã§ÏãúÍ∞Ñ ÌÜµÏã†ÏùÑ Ï≤òÎ¶¨Ìï©ÎãàÎã§.

*   **Ïó≠Ìï†**: Ïõπ ÎåÄÏãúÎ≥¥ÎìúÏôÄ ÏÑúÎ≤Ñ ÏÇ¨Ïù¥Ïùò **'Ìï´ÎùºÏù∏'** ÏùÑ Í∞úÏÑ§Ìï©ÎãàÎã§. Î¥áÏù¥ ÏßÄÍ∏à Î¨¥Ïä® ÏÉùÍ∞ÅÏùÑ ÌïòÎäîÏßÄ, Î°úÍ∑∏Îäî Î¨¥ÏóáÏù∏ÏßÄ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Ï†ÑÏÜ°Ìï©ÎãàÎã§.
*   **ÌïµÏã¨ Î∂ÄÌíà**:
    *   **Heartbeat (ÏÉùÏ°¥ Ïã†Ìò∏)**: "ÏïÑÏßÅ Ï†ÑÌôî Ïïà ÎÅäÏóàÏßÄ?" (Ï£ºÍ∏∞Ï†Å Ïã†Ìò∏ ÌôïÏù∏)
    *   **Broadcast (Î∞©ÏÜ°)**: "Ïûê, Î™®Îì† ÎåÄÏãúÎ≥¥Îìú ÏßëÏ§ë! ÏßÄÍ∏à Î¥áÏù¥ ÎãµÏû•ÏùÑ Î≥¥ÎÇ∏Îã§!" (Ïó¨Îü¨ Ï†ëÏÜçÏûêÏóêÍ≤å ÎèôÏãú Ï†ÑÏÜ°)

#### 2-4-2. [ÏΩîÎìú Î∂ÑÏÑù] `attachGatewayWsHandlers` (Í∑Ä Îã¨Í∏∞)

```typescript
import { WebSocketServer } from "ws";

export function attachGatewayWsHandlers(wss: WebSocketServer) {
  // 1. [Ïó∞Í≤∞ ÏàòÎ¶Ω] ÎàÑÍµ∞Í∞Ä Ï†ÑÌôîÎ•º Í±∏Ïñ¥Ïò§Î©¥(connection Ïù¥Î≤§Ìä∏)
  wss.on("connection", (ws) => {
    console.log("‚òéÔ∏è Ïã†Í≤ΩÎßù: ÏÉàÎ°úÏö¥ ÎåÄÏãúÎ≥¥ÎìúÍ∞Ä Ïó∞Í≤∞ÎêòÏóàÏäµÎãàÎã§.");

    // 2. [Îßê Îì£Í∏∞] ÏÉÅÎåÄÎ∞©Ïù¥ Î©îÏãúÏßÄÎ•º Î≥¥ÎÇ¥Î©¥
    ws.on("message", (data) => {
      // Î©îÏãúÏßÄ Ï≤òÎ¶¨ Î°úÏßÅ...
    });

    // 3. [Ï†ÑÌôî ÎÅäÍ∏∞]
    ws.on("close", () => {
      console.log("üíÄ Ïã†Í≤ΩÎßù: Ïó∞Í≤∞Ïù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§.");
    });
  });
}
```

#### 2-4-3. [Coach's Tip] Ïôú HTTP ÎßêÍ≥† WebSocketÏùÑ Ïì∞ÎÇòÏöî?
Ïó¨Îü¨Î∂Ñ, Ïπ¥ÌÜ°ÏùÑ ÌïòÎäîÎç∞ ÎÇ¥Í∞Ä Î©îÏãúÏßÄÎ•º Î≥¥ÎÇº ÎïåÍπåÏßÄÎäî ÎåÄÌôîÏ∞ΩÏù¥ Ïïà Î∞îÎÄêÎã§Í≥† ÏÉÅÏÉÅÌï¥ Î≥¥ÏÑ∏Ïöî. ÏÉÅÎåÄÎ∞©Ïù¥ ÎãµÏû•ÏùÑ Î≥¥ÎÉàÎäîÏßÄ ÌôïÏù∏ÌïòÎ†§Í≥† Í≥ÑÏÜç 'ÏÉàÎ°úÍ≥†Ïπ®' Î≤ÑÌäºÏùÑ ÎàåÎü¨Ïïº ÌïúÎã§Î©¥? Í∑∏Í±¥ **Ïû¨Ïïô**ÏûÖÎãàÎã§. 
WebSocketÏùÄ ÏÑúÎ≤ÑÍ∞Ä **Î®ºÏ†Ä** ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÎßêÏùÑ Í±∏ Ïàò ÏûàÍ≤å Ìï¥Ï§çÎãàÎã§. Î¥áÏù¥ ÏàòÎã§ÏüÅÏù¥Í∞Ä ÎêòÎ†§Î©¥ Ïù¥ Ïã†Í≤ΩÎßùÏù¥ Î∞òÎìúÏãú ÌïÑÏöîÌï©ÎãàÎã§.

---

### 2-11. ÏÑúÎ≤ÑÏùò ÌåîÎã§Î¶¨, Channel Manager (`src/gateway/server-channels.ts`) - **[Îã®Í≥Ñ 5: ÌåîÎã§Î¶¨ Î∂ÄÏ∞©]**



Ïù¥Ï†ú ÏûÖÍ≥º Í∑ÄÍ∞Ä ÏÉùÍ≤ºÏúºÎãà, Ïã§Ï†úÎ°ú Ïô∏Î∂ÄÏôÄ ÏÜåÌÜµÌï† **"ÌåîÎã§Î¶¨(Limbs)"** Î•º ÏõÄÏßÅÏó¨Ïïº Ìï©ÎãàÎã§. WhatsApp, Slack Í∞ôÏùÄ Îã§ÏñëÌïú Î©îÏã†Ï†ÄÎì§ÏùÑ Ï¥ùÍ¥Ñ Í¥ÄÎ¶¨ÌïòÎäî Í≥≥ÏûÖÎãàÎã§.

> [!NOTE]
> **üõ†Ô∏è VS Code Ïã§Ï†Ñ Ï°∞Î¶Ω Ï†àÏ∞®**
> 1.  **ÌååÏùº ÏÉùÏÑ±**: `src/gateway/server-channels.ts` ÌååÏùºÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§.
> 2.  **Ï±ÑÎÑê ÌôïÏû•**: ÎÇòÏ§ëÏóê SlackÏù¥ÎÇò TelegramÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† Ïã∂ÏùÑ ÎïåÎèÑ Î∞îÎ°ú Ïù¥ ÌååÏùºÏóê "ÏÉàÎ°úÏö¥ Îã§Î¶¨"Î•º Îã§Îäî Î∞©ÏãùÏúºÎ°ú ÌôïÏû•ÌïòÎ©¥ Îê©ÎãàÎã§.
> 3.  **Ïó∞Í≤∞**: Ïù¥Í≥≥ÏóêÏÑú ÎßåÎì§Ïñ¥ÏßÑ `manager`Í∞Ä `server.impl.ts`Î°ú Ï†ÑÎã¨ÎêòÏñ¥ ÏãúÏä§ÌÖú Ï†ÑÏ≤¥Ïùò ÌñâÎèôÏùÑ ÏßÄÏãúÌïòÍ≤å Îê©ÎãàÎã§.


#### 2-5-1. [Ìï¥Î∂ÄÌïô] ÌåîÎã§Î¶¨ Ï†úÏñ¥Ïã§
*   **Ïó≠Ìï†**: "Ïπ¥ÌÜ° Îã¥ÎãπÏûê(WhatsApp)", "Ïä¨Îûô Îã¥ÎãπÏûê(Slack)"Î•º ÏÜåÏßëÌïòÍ≥† Í¥ÄÎ¶¨Ìï©ÎãàÎã§.
*   **Ïôú ManagerÎùºÍ≥† Î∂ÄÎ•¥ÎÇòÏöî?**: ÏÜêÍ∞ÄÎùΩ ÌïòÎÇòÌïòÎÇò(Ï±ÑÎÑê ÌïòÎÇòÌïòÎÇò)Î•º ÏßÅÏ†ë ÏõÄÏßÅÏù¥Îäî Í≤å ÏïÑÎãàÎùº, **"ÌåîÏùÑ ÏõÄÏßÅÏó¨!"** ÎùºÍ≥† Î™ÖÎ†πÏùÑ ÎÇ¥Î¶¨Î©¥ ÎÇ¥Î∂ÄÏóêÏÑú ÏïåÏïÑÏÑú Ï°∞Ïú®ÌïòÍ∏∞ ÎïåÎ¨∏ÏûÖÎãàÎã§.

#### 2-5-2. [ÏΩîÎìú Î∂ÑÏÑù] `createChannelManager`

```typescript
export function createChannelManager() {
  const channels = new Map(); // ÌòÑÏû¨ Ïó∞Í≤∞Îêú ÌåîÎã§Î¶¨ Î™©Î°ù

  return {
    // Î™®Îì† ÌåîÎã§Î¶¨Î•º Ï∂úÍ≤©(Start) ÏãúÌÇµÎãàÎã§.
    startChannels: async (gateway) => {
      console.log("ü¶æ ÌåîÎã§Î¶¨ Î∂ÄÏ∞©: WhatsApp Ï±ÑÎÑêÏùÑ Í∞ÄÎèôÌï©ÎãàÎã§.");
      // Ïó¨Í∏∞ÏÑú Ïã§Ï†úÎ°ú WhatsApp Ï±ÑÎÑê Î°úÏßÅÏùÑ Î∂àÎü¨ÏòµÎãàÎã§.
    },
    // Î™®Îì† ÌåîÎã§Î¶¨Î•º Ï†ïÏßÄ(Stop) ÏãúÌÇµÎãàÎã§.
    stopChannels: async () => {
      console.log("üßò ÌåîÎã§Î¶¨ ÌöåÏàò: Î™®Îì† Ïó∞Í≤∞ÏùÑ ÏïàÏ†ÑÌïòÍ≤å Ï¢ÖÎ£åÌï©ÎãàÎã§.");
    }
  };
}
```

> [!IMPORTANT]
> **Ïó¨Í∏∞ÍπåÏßÄ Ïò§ÏÖ®Îã§Î©¥, Ïó¨Îü¨Î∂ÑÏùÄ ÏÑúÎ≤ÑÏùò 'ÏÉùÎ¨ºÌïôÏ†Å Íµ¨Ï°∞'Î•º Î™®Îëê ÏôÑÏÑ±ÌïòÏã† Í≤ÅÎãàÎã§.**
> 1. ÏïàÎÇ¥ Îç∞Ïä§ÌÅ¨(Facacde)
> 2. ÎÇ¥Î∂Ä Ïû•Í∏∞(Core Logic)
> 3. ÏûÖ(HTTP)
> 4. Í∑Ä(WebSocket)
> 5. ÌåîÎã§Î¶¨(Channel Manager)
> 
> Ïù¥Ï†ú Ïù¥ Ïú†Î†π ÏÑúÎ≤ÑÏóê ÏßÑÏßú ÏòÅÌòºÏùÑ Î∂àÏñ¥ÎÑ£ÏùÑ ÏãúÍ∞ÑÏûÖÎãàÎã§. Îã§Ïùå Ï±ïÌÑ∞ÏóêÏÑú **[ÏßÑÏßú WhatsApp]** ÏùÑ Ïó∞Í≤∞Ìï¥ Î¥ÖÏãúÎã§!

---

## Chapter 3. WhatsApp Ï±ÑÎÑê Ïó∞Í≤∞ (The Sense of Sight/Sound)


Î¥áÏù¥ ÏÑ∏ÏÉÅÏùÑ Ïù∏ÏãùÌïòÎäî **"ÎààÍ≥º Í∑Ä"** ÏûÖÎãàÎã§. Ïó¨Í∏∞ÏÑúÎäî **WhatsApp**ÏùÑ ÏòàÎ°ú Îì§Ïñ¥, Ïô∏Î∂Ä ÏãúÏä§ÌÖúÍ≥º Ïñ¥ÎñªÍ≤å ÎåÄÌôîÌïòÎäîÏßÄ ÌååÌó§Ï≥ê Î≥¥Í≤†ÏäµÎãàÎã§.

### 3-1. [Í∏∞Ïà† Ìï¥Î∂Ä] Ïôú BaileysÏù∏Í∞Ä? (The Magic of Baileys)

Î≥¥ÌÜµ Í∏∞ÏóÖÎì§Ïù¥ Î¥áÏùÑ ÎßåÎì§ ÎïåÎäî ÌéòÏù¥Ïä§Î∂Å(Meta)ÏóêÏÑú Ï†úÍ≥µÌïòÎäî Í≥µÏãù "WhatsApp Business API"Î•º ÏîÅÎãàÎã§. ÌïòÏßÄÎßå Ïù¥Í±¥ Ïú†Î£åÏù¥Í≥†, ÏäπÏù∏ Ï†àÏ∞®ÎèÑ ÍπåÎã§Î°≠ÏäµÎãàÎã§. 

OpenClaw(Moltbot)Ïù¥ ÏÑ†ÌÉùÌïú **Baileys**Îäî Îã§Î¶ÖÎãàÎã§.
*   **ÏõêÎ¶¨**: Ïö∞Î¶¨Í∞Ä Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú 'WhatsApp Web'ÏùÑ ÏºúÏÑú QR ÏΩîÎìúÎ•º Ï∞çÎäî Í≤ÉÍ≥º **ÏôÑÏ†ÑÌûà ÎòëÍ∞ôÏùÄ Î∞©Ïãù**ÏúºÎ°ú ÎèôÏûëÌï©ÎãàÎã§. 
*   **ÏùÄÏú†(Metaphor)**: **"Ìà¨Î™Ö Ïù∏Í∞Ñ Î∏åÎùºÏö∞Ï†Ä"**. BaileysÎäî ÌôîÎ©¥Ïù¥ ÏóÜÎäî(Headless) Î∏åÎùºÏö∞Ï†ÄÍ∞Ä ÎêòÏñ¥, ÏÇ¨Ïö©Ïûê ÎåÄÏã† ÌÇ§Î≥¥ÎìúÎ•º ÏπòÍ≥† ÌôîÎ©¥ÏùÑ ÏùΩÎäî Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.

### 3-2. WhatsApp Ïñ¥ÎåëÌÑ∞ Íµ¨ÌòÑ (`src/channels/whatsapp.ts`)

Ïù¥ ÏΩîÎìúÎäî Îã®ÏàúÌïú ÌÜµÏã† ÏΩîÎìúÍ∞Ä ÏïÑÎãàÎùº, **"Ïù¥ÏßàÏ†ÅÏù∏ Ïñ∏Ïñ¥Î•º ÌÜµÏó≠ÌïòÎäî ÌÜµÏó≠ÏÇ¨"** Ïùò ÏΩîÎìúÏûÖÎãàÎã§.

#### 3-2-1. [ÏΩîÎìú Î∂ÑÏÑù] `startWhatsAppChannel`

```typescript
import makeWASocket, { useMultiFileAuthState } from "@whiskeysockets/baileys";

export async function startWhatsAppChannel(gateway: any) {
  // 1. [Í∏∞Ïñµ Ïû•Ïπò] ÏÑ∏ÏÖò Ïú†ÏßÄ (Session Persistence)
  // Îß§Î≤à QR ÏΩîÎìúÎ•º Ï∞çÏúºÎ©¥ Í∑ÄÏ∞ÆÍ≤†Ï£†? Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Î•º ÌååÏùºÏóê Ï†ÄÏû•Ìï¥Îë°ÎãàÎã§.
  const { state, saveCreds } = await useMultiFileAuthState("auth_info_baileys");

  // 2. [Î¨¥Ï†ÑÍ∏∞ ÏºúÍ∏∞] ÏÜåÏºì Ïó∞Í≤∞
  const sock = makeWASocket({
    auth: state,
    printQRInTerminal: true, // ÌÑ∞ÎØ∏ÎÑêÏóê QR ÏΩîÎìúÎ•º ÎùÑÏõÅÎãàÎã§.
  });

  // 3. [Í∏∞Ïñµ ÏóÖÎç∞Ïù¥Ìä∏] Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Í∞Ä Î∞îÎÄåÎ©¥(ÏÉà ÌÜ†ÌÅ∞ Îì±) Îã§Ïãú Ï†ÄÏû•Ìï©ÎãàÎã§.
  sock.ev.on("creds.update", saveCreds);

  // 4. [Í≤ΩÏ≤≠ÌïòÍ∏∞] ÏÉàÎ°úÏö¥ Î©îÏãúÏßÄÍ∞Ä ÎèÑÏ∞©ÌïòÎ©¥ (Upsert)
  sock.ev.on("messages.upsert", async ({ messages }) => {
    const msg = messages[0];
    if (!msg.message) return; // ÎÇ¥Ïö© ÏóÜÎäî Î©îÏãúÏßÄÎäî Î¨¥Ïãú

    // [Ï§ëÏöî] Îç∞Ïù¥ÌÑ∞ Ï†ïÍ∑úÌôî (Normalization)
    // WhatsApp ÌäπÏú†Ïùò Î≥µÏû°Ìïú JSONÏùÑ GatewayÍ∞Ä Ïù¥Ìï¥Ìï† Ïàò ÏûàÎäî Îã®ÏàúÌïú ÌòïÌÉúÎ°ú Î∞îÍøâÎãàÎã§.
    const normalizedMsg = {
      from: msg.key.remoteJid, // ÎàÑÍ∞Ä Î≥¥ÎÉàÎÇò?
      text: msg.message.conversation || msg.message.extendedTextMessage?.text, // Î≠êÎùºÍ≥† ÌñàÎÇò?
      timestamp: msg.messageTimestamp
    };

    // 5. [Î≥¥Í≥†] Gateway ÏÇ¨Î†πÎ∂ÄÏóê ÏïåÎ¶ΩÎãàÎã§.
    // "ÎåÄÏû•Îãò! Î∞ñÏóêÏÑú Ïù¥Îü∞ Î©îÏãúÏßÄÍ∞Ä Îì§Ïñ¥ÏôîÏäµÎãàÎã§!"
    gateway.emit("incoming_message", normalizedMsg);
  });
}
```

#### 3-2-2. [Coach's Tip] Ïôú Íµ≥Ïù¥ Ï†ïÍ∑úÌôî(Normalization)Î•º ÌïòÎÇòÏöî?
Ïó¨Îü¨Î∂Ñ, ÏßÄÍ∏àÏùÄ WhatsAppÎßå Ïó∞Í≤∞ÌïòÏßÄÎßå ÎÇòÏ§ëÏóê **Ïä¨Îûô(Slack)** Ïù¥ÎÇò **ÌÖîÎ†àÍ∑∏Îû®(Telegram)** ÏùÑ Ï∂îÍ∞ÄÌïúÎã§Í≥† ÏÉùÍ∞ÅÌï¥ Î≥¥ÏÑ∏Ïöî. 
ÎßåÏïΩ Îç∞Ïù¥ÌÑ∞ Ï†ïÍ∑úÌôîÎ•º Ïïà ÌïòÎ©¥, Î¥áÏùò Îáå(AI)Îäî "Ïù¥Í±¥ WhatsApp ÎßêÌà¨ÎÑ§?", "Ïù¥Í±¥ Ïä¨Îûô ÎßêÌà¨ÎÑ§?" ÌïòÍ≥† Îß§Î≤à Îã§Î•¥Í≤å Í≥µÎ∂ÄÌï¥Ïïº Ìï©ÎãàÎã§. 
**"Ïñ¥ÎîîÏÑú Ïò§Îì† ÎòëÍ∞ôÏùÄ ÌòïÏãùÏúºÎ°ú Î∞îÍøîÏ§ÄÎã§"** Îäî Ïù¥ ÏõêÏπô ÌïòÎÇòÍ∞Ä ÎÇòÏ§ëÏóê Ïó¨Îü¨Î∂ÑÏùò ÎÖ∏Í∞ÄÎã§(?)Î•º 100Î∞∞ Ï§ÑÏó¨Ï§çÎãàÎã§.

### 3-3. [Ïã§Ïäµ] ÏßÑÏßú ÎÇ¥ Ìè∞ÏúºÎ°ú Ïó∞Í≤∞ÌïòÍ∏∞

1.  ÌÑ∞ÎØ∏ÎÑêÏóê `pnpm run dev` (ÌòπÏùÄ ÏÑúÎ≤Ñ Ïã§Ìñâ Î™ÖÎ†πÏñ¥)Î•º Ïπ©ÎãàÎã§.
2.  ÌÑ∞ÎØ∏ÎÑêÏóê Í±∞ÎåÄÌïú **QR ÏΩîÎìú**Í∞Ä ÎÇòÌÉÄÎÇ† ÎïåÍπåÏßÄ Í∏∞Îã§Î¶¨ÏÑ∏Ïöî.
3.  Ìú¥ÎåÄÌè∞ÏóêÏÑú **WhatsApp** Ïï±ÏùÑ Ïº≠ÎãàÎã§.
4.  `ÏÑ§Ï†ï(Settings)` -> `Ïó∞Í≤∞Îêú Í∏∞Í∏∞(Linked Devices)` -> `Í∏∞Í∏∞ Ïó∞Í≤∞`ÏùÑ ÎàÑÎ¶ÖÎãàÎã§.
5.  ÌÑ∞ÎØ∏ÎÑêÏùò QR ÏΩîÎìúÎ•º Ïä§Ï∫îÌïòÏÑ∏Ïöî.
6.  Ïù¥Ï†ú Î¥áÏóêÍ≤å ÏïÑÎ¨¥ Î©îÏãúÏßÄÎÇò Î≥¥ÎÇ¥Î≥¥ÏÑ∏Ïöî. ÌÑ∞ÎØ∏ÎÑêÏóê Ïó¨Îü¨Î∂ÑÏùò Î©îÏãúÏßÄÍ∞Ä Ï∞çÌûåÎã§Î©¥? **Ï∂ïÌïòÌï©ÎãàÎã§! Ïó¨Îü¨Î∂ÑÏùò Î¥áÏùÄ ÎìúÎîîÏñ¥ ÎààÏùÑ Îñ¥ÏäµÎãàÎã§.**

---

## Chapter 4. AI ÏóêÏù¥Ï†ÑÌä∏ ÏóîÏßÑ (The Brain)


Ïù¥ Ïï±Ïùò ÏßÄÎä•ÏùÑ Îã¥ÎãπÌïòÎäî **"Îáå(Brain)"** ÏûÖÎãàÎã§. Îã®ÏàúÌûà ÏïµÎ¨¥ÏÉàÏ≤òÎüº ÎåÄÎãµÌïòÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº, Ïä§Ïä§Î°ú ÏÉùÍ∞ÅÌïòÍ≥† ÎèÑÍµ¨Î•º Ïì∞Îäî **AI ÏóêÏù¥Ï†ÑÌä∏(Agent)** Î°úÏÑúÏùò ÌïµÏã¨ Î°úÏßÅÏùÑ ÌååÌó§Ï≥ê Î¥ÖÎãàÎã§.

### 4-1. [Í∏∞Ïà† Ìï¥Î∂Ä] ÏóêÏù¥Ï†ÑÌä∏Îäî ÏùºÎ∞ò Ï±óÎ¥áÍ≥º Î¨¥ÏóáÏù¥ Îã§Î•∏Í∞Ä? (Chatbot vs Agent)

ÎßéÏùÄ Î∂ÑÏù¥ LLM(ChatGPT Îì±)ÏùÑ ÏÇ¨Ïö©ÌïòÎäî Î™®Îì† Î¥áÏùÑ ÏóêÏù¥Ï†ÑÌä∏ÎùºÍ≥† Î∂ÄÎ•¥ÏßÄÎßå, Í∏∞Ïà†Ï†ÅÏúºÎ°úÎäî ÌÅ∞ Ï∞®Ïù¥Í∞Ä ÏûàÏäµÎãàÎã§.

*   **Ï±óÎ¥á (Chatbot)**: ÏÇ¨Ïö©ÏûêÏùò ÏßàÎ¨∏Ïóê ÎåÄÌï¥ ÏßÄÏãù(Knowledge)ÎßåÏúºÎ°ú ÎåÄÎãµÌï©ÎãàÎã§. ÌåîÎã§Î¶¨Í∞Ä ÏóÜÎäî **"Ï≤úÏû¨ Î∞ïÏÇ¨"** ÏôÄ Í∞ôÏäµÎãàÎã§.
*   **ÏóêÏù¥Ï†ÑÌä∏ (Agent)**: ÏßàÎ¨∏ÏùÑ Ïù¥Ìï¥Ìïú ÌõÑ, Ïä§Ïä§Î°ú Ïª¥Ìì®ÌÑ∞Ïùò ÎèÑÍµ¨(ÌååÏùº ÏùΩÍ∏∞, Î™ÖÎ†πÏñ¥ Ïã§Ìñâ Îì±)Î•º ÏÇ¨Ïö©ÌïòÏó¨ Î¨∏Ï†úÎ•º Ìï¥Í≤∞Ìï©ÎãàÎã§. ÏßÄÏãùÍ≥º ÌåîÎã§Î¶¨Î•º Î™®Îëê Í∞ÄÏßÑ **"Ìï¥Í≤∞ÏÇ¨"** ÏûÖÎãàÎã§.
*   **ÌïµÏã¨ Ï≤†Ìïô**: **Re-Act (Reasoning + Acting)**. "ÏÉùÍ∞ÅÌïòÍ≥†, ÌñâÎèôÌïòÍ≥†, Í≤∞Í≥ºÎ•º Í¥ÄÏ∞∞ÌïòÍ≥†, Îã§Ïãú ÏÉùÍ∞ÅÌïòÎùº."

> [!TIP]
> **üéì [Ïã¨Ìôî ÏàòÏóÖ] LLM(Í±∞ÎåÄ Ïñ∏Ïñ¥ Î™®Îç∏)Ïùò ÏûëÎèô ÏõêÎ¶¨**
>
> "AIÎäî Ïñ¥ÎñªÍ≤å ÏÇ¨ÎûåÏ≤òÎüº ÎßêÏùÑ ÌïòÎÇòÏöî? Ï†ïÎßê ÎòëÎòëÌïú Í±¥Í∞ÄÏöî?"
>
> **1. ÌïµÏã¨ ÏõêÎ¶¨: "Îã§ÏùåÏóê Ïò¨ Îßê ÎßûÏ∂îÍ∏∞ Í≤åÏûÑ"**
> *   LLMÏùÄ ÏßÄÎä•Ïù¥ ÏûàÎäî Ïù∏Í≤©Ï≤¥Í∞Ä ÏïÑÎãôÎãàÎã§. ÏóÑÎ∞ÄÌûà ÎßêÌïòÎ©¥ **'Îß§Ïö∞ Ï†ïÍµêÌïú ÏûêÎèô ÏôÑÏÑ± ÏãúÏä§ÌÖú'** ÏûÖÎãàÎã§.
> *   ÏàòÎßéÏùÄ Îç∞Ïù¥ÌÑ∞Î•º ÌïôÏäµÌï¥ÏÑú, "Ïò§Îäò ÎÇ†Ïî®Í∞Ä Ï∞∏ [ ]"ÎùºÎäî Î¨∏Ïû• Îã§ÏùåÏóê Ïò¨ Îã®Ïñ¥Í∞Ä "Ï¢ãÎÑ§Ïöî"Ïùº ÌôïÎ•†Ïù¥ 95%ÎùºÎäî Í≤ÉÏùÑ ÏàòÌïôÏ†ÅÏúºÎ°ú Í≥ÑÏÇ∞Ìï¥ÎÉÖÎãàÎã§.
>
> **2. Ïôú "Í±∞ÎåÄ(Large)" Î™®Îç∏Ïù∏Í∞ÄÏöî?**
> *   **Îç∞Ïù¥ÌÑ∞ Ïñë**: Ïù∏ÌÑ∞ÎÑ∑Ïóê ÏûàÎäî Í±∞Ïùò Î™®Îì† ÌÖçÏä§Ìä∏Î•º ÏùΩÏóàÏäµÎãàÎã§.
> *   **Îß§Í∞úÎ≥ÄÏàò(Parameter)**: ÎáåÏÑ∏Ìè¨ ÏÇ¨Ïù¥Ïùò Ïó∞Í≤∞ Í≥†Î¶¨Í∞Ä ÏàòÏ≤úÏñµ Í∞úÏóê Îã¨Ìï©ÎãàÎã§. Ïù¥ Ïà´ÏûêÍ∞Ä Ïª§ÏßàÏàòÎ°ù AIÎäî Î≥µÏû°Ìïú Î¨∏Îß•Í≥º ÎÖºÎ¶¨Î•º Ïù¥Ìï¥ÌïòÍ≤å Îê©ÎãàÎã§.
>
> **3. ÏóêÏù¥Ï†ÑÌä∏ÏóêÏÑúÏùò Ïó≠Ìï†**
> *   OpenClawÏóêÏÑú LLMÏùÄ **"Ï∂îÎ°† ÏóîÏßÑ"** ÏûÖÎãàÎã§.
> *   ÏÇ¨Ïö©Ïûê: "ÎÇ¥Ïùº ÎÇ†Ïî® ÏïåÎ†§Ï§ò."
> *   LLM: (Ï∂îÎ°†) "ÎÇ†Ïî®Î•º ÏïåÎ†§Î©¥ 'ÎÇ†Ïî® API'ÎùºÎäî ÎèÑÍµ¨Î•º Ïç®ÏïºÍ≤†Íµ∞. Ïù¥ ÎèÑÍµ¨Î•º Ïì∞Í≤†Îã§Í≥† GatewayÏóêÍ≤å ÏïåÎ†§Ï£ºÏûê."
>
> **ÏöîÏïΩ**: LLMÏùÄ **'ÏßÄÏãùÏùò Ï∞ΩÍ≥†'**Ïù¥Ïûê **'ÏÉùÍ∞ÅÏùò ÏóîÏßÑ'**ÏûÖÎãàÎã§. Ïù¥ ÏóîÏßÑÏóê 'ÌåîÎã§Î¶¨(Tool)'Î•º Îã¨ÏïÑÏ§Ä Í≤ÉÏù¥ Î∞îÎ°ú Ïó¨Îü¨Î∂ÑÏù¥ ÎßåÎì§Í≥† ÏûàÎäî **ÏóêÏù¥Ï†ÑÌä∏**ÏûÖÎãàÎã§.


### 4-2. ÏóêÏù¥Ï†ÑÌä∏ Ïã§ÌñâÍ∏∞ Î°úÏßÅ (`src/agents/pi-embedded-runner.ts`)

Ïù¥ ÏΩîÎìúÎäî LLMÏóêÍ≤å **"ÏÉùÍ∞ÅÌïòÎäî ÏãúÍ∞Ñ"** Í≥º **"ÌñâÎèôÌï† ÎèÑÍµ¨"** Î•º Ï•êÏñ¥Ï£ºÎäî ÏßÄÌúòÏÜåÏûÖÎãàÎã§.

#### 4-2-1. [ÏΩîÎìú Î∂ÑÏÑù] `runAgent`

```typescript
import { ChatOpenAI } from "@langchain/openai"; 

export async function runAgent(userInput: string, chatHistory: any[]) {
  // 1. [Ï†ïÏ≤¥ÏÑ± Î∂ÄÏó¨] ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏ (System Prompt)
  // Î¥áÏóêÍ≤å "ÎÑàÎäî ÎàÑÍµ¨Í≥†, Ïñ¥Îñ§ Í∞ÄÏπòÍ¥ÄÏùÑ Í∞ÄÏ°åÎäîÍ∞Ä"Î•º Ï†ïÏùòÌï©ÎãàÎã§.
  const systemMessage = {
    role: "system",
    content: "ÎÑàÎäî MoltbotÏù¥Ïïº. Î¶¨ÎàÖÏä§ Î™ÖÎ†πÏñ¥Î•º Ïã§ÌñâÌïòÍ≥† ÌååÏùºÏùÑ ÏùΩÏùÑ Ïàò ÏûàÎäî Îä•Î†•Ïù¥ ÏûàÏñ¥."
  };

  // 2. [Í∏∞Ïñµ ÏÜåÌôò] Îß•ÎùΩ(Context) Íµ¨ÏÑ±
  // Ïù¥Ï†Ñ ÎåÄÌôî ÎÇ¥Ïö©ÏùÑ Ìï©Ï≥êÏÑú "Ïö∞Î¶¨Í∞Ä Î¨¥Ïä® ÎåÄÌôîÎ•º ÌïòÍ≥† ÏûàÏóàÎäîÏßÄ"Î•º AIÏóêÍ≤å ÏïåÎ†§Ï§çÎãàÎã§.
  const allMessages = [systemMessage, ...chatHistory, { role: "user", content: userInput }];

  // 3. [Ï∂îÎ°† ÏãúÏûë] LLM Ìò∏Ï∂ú
  const response = await llm.generate(allMessages);

  // 4. [ÌñâÎèô ÌåêÎã®] ÎèÑÍµ¨ ÏÇ¨Ïö© Ïó¨Î∂Ä Ï≤¥ÌÅ¨
  // AIÍ∞Ä "ÌååÏùºÏùÑ ÏùΩÏñ¥ÏïºÍ≤†Îã§"ÎùºÍ≥† ÌåêÎã®ÌïòÎ©¥ ÌäπÏàòÌïú Î©îÏãúÏßÄÎ•º Î≥¥ÎÉÖÎãàÎã§.
  if (response.tool_calls) {
    // Ïã§Ï†úÎ°ú Ïª¥Ìì®ÌÑ∞Ïùò ÌååÏùºÏùÑ ÏùΩÍ±∞ÎÇò Î™ÖÎ†πÏñ¥Î•º Ïã§ÌñâÌï©ÎãàÎã§.
    const toolResult = await executeTool(response.tool_calls);
    
    // Í≤∞Í≥ºÎ•º Îã§Ïãú AIÏóêÍ≤å ÏïåÎ†§Ï£ºÍ≥† "Ïûê, Ïù¥Ï†ú Ïñ¥ÎñªÍ≤å Ìï†Îûò?"ÎùºÍ≥† Îã§Ïãú Î¨ªÏäµÎãàÎã§. (Ïû¨Í∑Ä)
    return runAgent(`ÎèÑÍµ¨ Ïã§Ìñâ Í≤∞Í≥º: ${toolResult}`, [...allMessages, response]);
  }

  // 5. [ÏµúÏ¢Ö ÏùëÎãµ] ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÎåÄÎãµ Ï†ÑÎã¨
  return response.content;
}
```

### 4-3. [Ïã¨Ï∏µ Î∂ÑÏÑù] Í∏∞Ïñµ Í¥ÄÎ¶¨Ïùò ÎØ∏Ìïô (Context Management)

ÏóêÏù¥Ï†ÑÌä∏ÏóêÍ≤å Í∞ÄÏû• Ïñ¥Î†§Ïö¥ Í≤ÉÏùÄ **"Í∏∞ÏñµÎ†•Ïùò ÌïúÍ≥Ñ"** ÏûÖÎãàÎã§.

1.  **Context Window**: AIÎäî Ìïú Î≤àÏóê Í∏∞ÏñµÌï† Ïàò ÏûàÎäî ÏñëÏù¥ Ï†ïÌï¥Ï†∏ ÏûàÏäµÎãàÎã§. (Ï±Ö Ìïú Í∂å Î∂ÑÎüâ Îì±)
2.  **Pruning (Í∞ÄÏßÄÏπòÍ∏∞)**: ÎåÄÌôîÍ∞Ä ÎÑàÎ¨¥ Í∏∏Ïñ¥ÏßÄÎ©¥, Í∞ÄÏû• Ïò§ÎûòÎêú ÎåÄÌôîÎ∂ÄÌÑ∞ ÏÇ≠Ï†úÌïòÍ±∞ÎÇò Ï§ëÏöîÌïú ÎÇ¥Ïö©Îßå ÏöîÏïΩ(Summarization)Ìï¥ÏÑú ÏïïÏ∂ïÌï¥Ïïº Ìï©ÎãàÎã§.
3.  **Why?**: Ïù¥ ÏûëÏóÖÏùÑ Ïïà ÌïòÎ©¥ ÏÑúÎ≤ÑÎπÑ(Token ÎπÑÏö©)Í∞Ä Ìè≠ÌÉÑÏ≤òÎüº ÎÇòÏò§Í≥†, Í≤∞Íµ≠ AIÍ∞Ä Í≥ºÎ∂ÄÌïòÎ°ú ÎåÄÌôîÎ•º Ìè¨Í∏∞ÌïòÍ≤å Îê©ÎãàÎã§. `pi-embedded-runner.ts`Ïùò Ïà®ÏùÄ Í≥µÎ°úÏûêÎäî Î∞îÎ°ú Ïù¥ **Í∏∞Ïñµ Í¥ÄÎ¶¨ Î°úÏßÅ**ÏûÖÎãàÎã§.

#### 4-3-1. [Coach's Tip] ÏóêÏù¥Ï†ÑÌä∏Í∞Ä Î∞îÎ≥¥Í∞Ä ÎêòÏóàÏùÑ Îïå Ìï¥Í≤∞Î≤ï
AI ÏóêÏù¥Ï†ÑÌä∏Î•º Í∞úÎ∞úÌïòÎã§ Î≥¥Î©¥ Í∞ÄÎÅî Í≥†ÏßëÏùÑ ÌîºÏö∞Í±∞ÎÇò Ïù¥ÏÉÅÌïú ÏÜåÎ¶¨Î•º Ìï† ÎïåÍ∞Ä ÏûàÏäµÎãàÎã§. (Hallucination) Í∑∏Îü¥ ÎïåÎäî ÏΩîÎìúÎ•º Í≥†ÏπòÍ∏∞ Ï†ÑÏóê **ÏãúÏä§ÌÖú ÌîÑÎ°¨ÌîÑÌä∏**Î•º ÏàòÏ†ïÌï¥ Î≥¥ÏÑ∏Ïöî. 
"ÏπúÏ†àÌïòÍ≤å ÎåÄÎãµÌï¥" Î≥¥Îã§Îäî **"ÎÑàÎäî 5ÎÖÑ Ï∞® ÏãúÎãàÏñ¥ ÏóîÏßÄÎãàÏñ¥Ïïº. Í∞ÑÍ≤∞ÌïòÍ≥† Ï†ïÌôïÌïòÍ≤å Ìå©Ìä∏ ÏúÑÏ£ºÎ°ú ÎßêÌï¥"** ÎùºÍ≥† Íµ¨Ï≤¥Ï†ÅÏúºÎ°ú Ïó≠Ìï†ÏùÑ ÏßÄÏ†ïÌïòÎäî Í≤ÉÎßåÏúºÎ°úÎèÑ ÏÑ±Îä•Ïù¥ 200% Ïò¨ÎùºÍ∞ëÎãàÎã§.

---

## Chapter 5. UI Ï†úÏñ¥ Ìå®ÎÑê (The Face)


Í¥ÄÎ¶¨ÏûêÍ∞Ä Î¥áÏùÑ Ï†úÏñ¥ÌïòÍ≥† ÎåÄÌôî Î°úÍ∑∏Î•º Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÌôïÏù∏ÌïòÎäî **"ÏñºÍµ¥(Face)"** ÏûÖÎãàÎã§.

### 5-1. [Í∏∞Ïà† Ìï¥Î∂Ä] Ïôú React ÎåÄÏã† LitÏùÑ ÏçºÏùÑÍπå? (The Choice of Lit)

Î≥¥ÌÜµ Ïõπ Ïï± ÌïòÎ©¥ ReactÎ•º Îñ†Ïò¨Î¶¨ÏßÄÎßå, OpenClaw(Moltbot)ÏùÄ GoogleÏù¥ ÎßåÎì† **Lit**ÏùÑ ÏÑ†ÌÉùÌñàÏäµÎãàÎã§.

*   **Î∞∞Í≤Ω**: ReactÎäî Îß§Ïö∞ Í∞ïÎ†•ÌïòÏßÄÎßå, ÎùºÏù¥Î∏åÎü¨Î¶¨ ÌÅ¨Í∏∞Í∞Ä ÌÅ¨Í≥† ÌïôÏäµ Í≥°ÏÑ†Ïù¥ ÏûàÏäµÎãàÎã§.
*   **LitÏùò ÌäπÏßï**: Î∏åÎùºÏö∞Ï†Ä ÌëúÏ§Ä Í∏∞Ïà†Ïù∏ **Ïõπ Ïª¥Ìè¨ÎÑåÌä∏(Web Components)** Î•º Í∑πÌïúÏúºÎ°ú ÌôúÏö©Ìï©ÎãàÎã§. 
*   **Ïû•Ï†ê**: 
    1. **Í∞ÄÎ≥çÎã§**: Î≥ÑÎèÑÏùò Î≥µÏû°Ìïú ÎπåÎìú Í≥ºÏ†ï ÏóÜÏù¥ÎèÑ Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Îß§Ïö∞ Îπ†Î•¥Í≤å ÎèåÏïÑÍ∞ëÎãàÎã§.
    2. **ÌëúÏ§ÄÏù¥Îã§**: 10ÎÖÑ Îí§Ïóê ReactÍ∞Ä ÏÇ¨ÎùºÏ†∏ÎèÑ, LitÏúºÎ°ú ÎßåÎì† Ïª¥Ìè¨ÎÑåÌä∏Îäî Î™®Îì† Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ïó¨Ï†ÑÌûà ÏûëÎèôÌï† Í≤ÉÏûÖÎãàÎã§.

### 5-2. Ïõπ Ïª¥Ìè¨ÎÑåÌä∏ Íµ¨ÌòÑ (`ui/src/app.ts`)

Ïù¥ ÏΩîÎìúÎäî ÏÑúÎ≤ÑÏùò **"Í∑Ä(WebSocket)"** ÏóêÏÑú Îì§Î†§Ïò§Îäî ÏÜåÎ¶¨Î•º ÌôîÎ©¥Ïóê **"Í∑∏Î†§Ï£ºÎäî(Rendering)"** Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.

#### 5-2-1. [ÏΩîÎìú Î∂ÑÏÑù] `MoltbotApp`

```typescript
import { LitElement, html, css } from 'lit';
import { customElement, state } from 'lit/decorators.js';

@customElement('moltbot-app') // ÎÇòÎßåÏùò HTML ÌÉúÍ∑∏ ÎßåÎì§Í∏∞: <moltbot-app></moltbot-app>
export class MoltbotApp extends LitElement {
  // 1. [ÏÉÅÌÉú Î≥ÄÏàò] Ïù¥ Í∞íÏù¥ Î∞îÎÄåÎ©¥ ÌôîÎ©¥Ïù¥ ÏûêÎèôÏúºÎ°ú Îã§Ïãú Í∑∏Î†§ÏßëÎãàÎã§.
  @state() messages: string[] = [];

  // 2. [Ïã†Í≤Ω Ïó∞Í≤∞] Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÌôîÎ©¥Ïóê ÎÇòÌÉÄÎÇ† Îïå Ìò∏Ï∂úÎê©ÎãàÎã§.
  connectedCallback() {
    super.connectedCallback();
    // ÏÑúÎ≤ÑÏôÄ Ïã§ÏãúÍ∞Ñ Ï†ÑÌôîÏÑ†(WebSocket)ÏùÑ Ïó∞Í≤∞Ìï©ÎãàÎã§.
    const ws = new WebSocket(`ws://${location.host}`);
    
    ws.onmessage = (event) => {
      // ÏÑúÎ≤ÑÏóêÏÑú ÏÉà Î©îÏãúÏßÄÍ∞Ä Ïò§Î©¥, Í∏∞Ï°¥ Î™©Î°ùÏóê Ï∂îÍ∞ÄÌï©ÎãàÎã§.
      this.messages = [...this.messages, event.data]; 
    };
  }

  // 3. [Í∑∏Î¶¨Í∏∞] Ïã§Ï†ú ÌôîÎ©¥Ïóê Î≥¥Ïó¨Ï§Ñ HTMLÏùÑ ÏûëÏÑ±Ìï©ÎãàÎã§.
  render() {
    return html`
      <div class="chat-window">
        <h1>Moltbot ÏÇ¨Î†πÎ∂Ä</h1>
        <div class="log-list">
          ${this.messages.map(m => html`<p class="log-item">${m}</p>`)}
        </div>
      </div>
    `;
  }
}
```

### 5-3. [Ïã¨Ï∏µ Î∂ÑÏÑù] Shadow DOM Ïù¥ÎûÄ Î¨¥ÏóáÏù∏Í∞Ä?

ÏùµÏàôÌïòÏßÄ ÏïäÏùÄ Î∂ÑÎì§ÏóêÍ≤åÎäî LitÏù¥ ÏÇ¨Ïö©ÌïòÎäî **Shadow DOM**Ïù¥ ÎÇØÏÑ§ Í≤ÉÏûÖÎãàÎã§.

*   **ÏùÄÏú†(Metaphor)**: **"ÌîÑÎùºÏù¥Î≤ÑÏãú Ïú†Î¶¨ Ïª§Ìäº"**.
*   **ÏÑ§Î™Ö**: `moltbot-app` ÎÇ¥Î∂ÄÏùò Ïä§ÌÉÄÏùº(CSS)ÏùÄ Ïô∏Î∂ÄÏùò Ïä§ÌÉÄÏùºÍ≥º **ÏôÑÎ≤ΩÌïòÍ≤å Í≤©Î¶¨**Îê©ÎãàÎã§. ÎßåÏïΩ Ïó¨Îü¨Î∂ÑÏù¥ Ïã§ÏàòÎ°ú Î∞îÍπ•ÏóêÏÑú `p { color: red; }` ÎùºÍ≥† Ï†ÅÏñ¥ÎèÑ, Ïù¥ Ïª¥Ìè¨ÎÑåÌä∏ ÎÇ¥Î∂ÄÏùò Í∏ÄÏûêÏÉâÏóêÎäî ÏòÅÌñ•ÏùÑ Ï£ºÏßÄ ÏïäÏäµÎãàÎã§. 
*   **Why?**: ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Ïª§Ï°åÏùÑ Îïå ÎîîÏûêÏù∏Ïù¥ Íº¨Ïù¥Îäî Í≤ÉÏùÑ ÏõêÏ≤ú Î¥âÏáÑÌïòÍ∏∞ ÏúÑÌïú Í≥†Í∏â Í∏∞Ïà†ÏûÖÎãàÎã§.

#### 5-3-1. [Coach's Tip] ÏõπÏùÄ Íæ∏ÎØ∏Í∏∞ ÎÇòÎ¶ÑÏûÖÎãàÎã§.
Í¥ÄÎ¶¨Ïûê ÌôîÎ©¥Ïù¥ ÎÑàÎ¨¥ Ìà¨Î∞ïÌï¥ Î≥¥Ïù¥ÎÇòÏöî? Í±±Ï†ï ÎßàÏÑ∏Ïöî. LitÏùÄ `css`ÎùºÎäî ÌäπÏàò Ìï®ÏàòÎ•º ÌÜµÌï¥ ÏïÑÎ¶ÑÎã§Ïö¥ Ïä§ÌÉÄÏùºÏùÑ Ï†ÅÏö©Ìï† Ïàò ÏûàÏäµÎãàÎã§. 
ÎÇòÏ§ëÏóê Ïó¨Îü¨Î∂ÑÏù¥ ÌîÑÎ°úÏ†ùÌä∏Î•º Ïª§Ïä§ÌÑ∞ÎßàÏù¥Ïßï ÌïòÍ≥† Ïã∂ÏùÑ Îïå, Ïù¥ `app.ts` ÌååÏùºÏùò `css` Î∂ÄÎ∂ÑÎßå Í±¥ÎìúÎ¶¨Î©¥ **Îã§ÌÅ¨ Î™®Îìú**ÎÇò **Ïï†ÎãàÎ©îÏù¥ÏÖò**ÎèÑ ÏÜêÏâΩÍ≤å ÎÑ£ÏùÑ Ïàò ÏûàÏäµÎãàÎã§.

---

## Chapter 6. Í≤∞Î°† Î∞è ÌÅ¥Î°† Ï†ÑÎûµ (Roadmap to Success)


ÏßÄÍ∏àÍπåÏßÄ Ïö∞Î¶¨Îäî OpenClaw(Moltbot)Ïùò Í±∞ÎåÄÌïú ÏÑ§Í≥ÑÎèÑÎ•º **Ï§ÄÎπÑ -> Í∏∞Ï¥à -> Ïû•Í∏∞ -> Îáå -> ÏñºÍµ¥** ÏàúÏúºÎ°ú Ìï¥Î∂ÄÌï¥ Î≥¥ÏïòÏäµÎãàÎã§. Ïù¥ Í±∞ÎåÄÌïú ÏΩîÎÅºÎ¶¨Î•º Ìïú Î≤àÏóê ÏÇºÌÇ§Îäî Í≤ÉÏùÄ Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§. ÌïòÏßÄÎßå **"Î∂ÄÏúÑÎ≥ÑÎ°ú Ï°∞Î¶Ω"** ÌïòÎ©¥ ÎàÑÍµ¨ÎÇò ÏûêÏã†ÎßåÏùò ÏóêÏù¥Ï†ÑÌä∏Î•º Í∞ÄÏßà Ïàò ÏûàÏäµÎãàÎã§.

### 6-1. [Ï∂îÏ≤ú] 4Îã®Í≥Ñ ÌÅ¥Î°† ÎßàÏùºÏä§ÌÜ§

1.  **[1Ï£º Ï∞®] Ïú†Î†π ÏÑúÎ≤Ñ ÎùÑÏö∞Í∏∞ (Scaffold)**:
    *   `pnpm init`Î∂ÄÌÑ∞ `server.ts`Ïùò ÍªçÎç∞Í∏∞Îßå ÎßåÎìúÏÑ∏Ïöî.
    *   Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú `ok` Í∏ÄÏûê ÌïòÎÇò ÎùÑÏö∞Îäî Í≤ÉÎßåÏúºÎ°úÎèÑ Ïó¨Îü¨Î∂ÑÏùÄ ÏÉÅÏúÑ 10% Í∞úÎ∞úÏûêÏûÖÎãàÎã§.

2.  **[2Ï£º Ï∞®] Í∞ÄÏßú Ï±ÑÎÑêÍ≥º ÎåÄÌôîÌïòÍ∏∞ (Mocking)**:
    *   ÏßÑÏßú WhatsAppÏùÑ Ïó∞Í≤∞ÌïòÍ∏∞ Ï†ÑÏóê, ÌÑ∞ÎØ∏ÎÑê(CLI)Ïóê Í∏ÄÏùÑ ÏπòÎ©¥ Î¥áÏù¥ ÎåÄÎãµÌïòÍ≤å ÎßåÎìúÏÑ∏Ïöî.
    *   **ÌïµÏã¨**: Î≥µÏû°Ìïú ÌÜµÏã† Î™®Îìà(Baileys)ÏùÑ Î∞∞Ï†úÌïòÍ≥† **ÏàúÏàò Î°úÏßÅ**Îßå ÌÖåÏä§Ìä∏ÌïòÎäî Í∏∞Í∞ÑÏûÖÎãàÎã§.

3.  **[3Ï£º Ï∞®] Îáå(AI) Ïù¥ÏãùÌïòÍ∏∞ (Integration)**:
    *   LangChainÏù¥ÎÇò OpenAI APIÎ•º Ïó∞Í≤∞ÌïòÏÑ∏Ïöî.
    *   Ïù¥Ï†ú Î¥áÏù¥ "ÏïåÍ≤†ÏäµÎãàÎã§" ÎåÄÏã† ÏßÑÏßú ÏÉùÍ∞ÅÏùÑ ÌïòÍ∏∞ ÏãúÏûëÌï©ÎãàÎã§.

4.  **[4Ï£º Ï∞®] ÏßÑÏßú ÏÑ∏ÏÉÅÏúºÎ°ú (Deployment)**:
    *   QR ÏΩîÎìúÎ•º Ï∞çÏñ¥ WhatsAppÏóê Ïó∞Í≤∞ÌïòÍ≥†, ÎùºÏ¶àÎ≤†Î¶¨ ÌååÏù¥ÎÇò ÌÅ¥ÎùºÏö∞ÎìúÏóê ÏÑúÎ≤ÑÎ•º Î∞∞Ìè¨ÌïòÏÑ∏Ïöî.
    *   ÏπúÍµ¨Îì§ÏóêÍ≤å ÎßÅÌÅ¨Î•º Í≥µÏú†ÌïòÍ≥† Î¥áÏù¥ ÎåÄÎãµÌïòÎäî Î™®ÏäµÏùÑ ÏßÄÏºúÎ≥¥ÏÑ∏Ïöî.

### 6-2. ÎßàÏßÄÎßâ Ìïú ÎßàÎîî (Closing Thought)

Î¶¨Î≤ÑÏä§ ÏóîÏßÄÎãàÏñ¥ÎßÅÏùÄ Îã®ÏàúÌûà ÎÇ®Ïùò ÏΩîÎìúÎ•º ÌõîÏ≥êÎ≥¥Îäî Í≤ÉÏù¥ ÏïÑÎãôÎãàÎã§. **"Ïù¥ ÏÇ¨ÎûåÏùÄ Ïôú Ïó¨Í∏∞ÏÑú Ïù¥ Í≥†ÎØºÏùÑ ÌñàÏùÑÍπå?"** ÎùºÍ≥† Í±∞Ïû•Í≥º ÎåÄÌôîÌïòÎäî Í≥ºÏ†ïÏûÖÎãàÎã§.

Ïñ¥Î†µÍ≥† ÏóêÎü¨Í∞Ä ÎÇòÎçîÎùºÎèÑ Ìè¨Í∏∞ÌïòÏßÄ ÎßàÏÑ∏Ïöî. ÏóêÎü¨ Î©îÏãúÏßÄÎäî Ïó¨Îü¨Î∂ÑÏóêÍ≤å **"ÏÇ¨Î†πÍ¥ÄÎãò, Ïù¥ Î∂ÄÎ∂ÑÏùò Î≥¥Í∏âÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§!"** ÎùºÍ≥† Ïô∏ÏπòÎäî Ï†ÑÎ≥¥ÏôÄ Í∞ôÏäµÎãàÎã§. ÌïòÎÇòÏî© Ìï¥Í≤∞ÌïòÎã§ Î≥¥Î©¥ Ïñ¥ÎäêÎçß Ïó¨Îü¨Î∂ÑÏùÄ AI ÏãúÎåÄÎ•º Ïù¥ÎÅåÏñ¥Í∞à **ÏµúÍ≥† ÏàòÏ§ÄÏùò ÏãúÏä§ÌÖú ÏïÑÌÇ§ÌÖçÌä∏**Í∞Ä ÎêòÏñ¥ ÏûàÏùÑ Í≤ÉÏûÖÎãàÎã§.

**Ïûê, Ïù¥Ï†ú Ïù¥Î°†ÏùÄ ÎÅùÎÇ¨ÏäµÎãàÎã§. ÌÑ∞ÎØ∏ÎÑêÏùÑ ÏºúÍ≥† Ï≤´ Î≤àÏß∏ Î™ÖÎ†πÏñ¥Î•º ÏπòÏã≠ÏãúÏò§!**

---
