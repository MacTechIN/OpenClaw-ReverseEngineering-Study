# OpenClaw(Moltbot) í•´ë¶€í•™: ì´ˆë³´ìë¥¼ ìœ„í•œ ë§ˆì´í¬ë¡œ ê°€ì´ë“œ
> **ì‘ì„±ì**: Sam LEE (ì—¬ëŸ¬ë¶„ì˜ ê°œë°œ ì½”ì¹˜)
### ì´ ì±…ì˜ ì² í•™
> **"ì´í•´ë˜ì§€ ì•ŠëŠ” ê¸°ìˆ ì€ ê¸°ìˆ ì´ ì•„ë‹ˆë‹¤."**

ëª¨ë“  ì½”ë“œëŠ” ìš°ë¦¬ë„¤ ì¸ìƒ(í•™êµ, ì§ì¥, ë„ë¡œ) ê°€ì¥ ê°€ê¹Œìš´ ì£¼ì œì— ë¹—ëŒ€ì–´ ì„¤ëª…í•©ë‹ˆë‹¤. ê¸°ìˆ ì  ê°œë…ì´ ë‚¯ì„¤ê²Œ ëŠê»´ì§ˆ ë•Œë§ˆë‹¤, ì´ ì±…ì€ ì—¬ëŸ¬ë¶„ì˜ ì¼ìƒì—ì„œ ì¹œìˆ™í•œ **ì€ìœ (Metaphor)** ë²•ì„ ì‚¬ìš©í•˜ì—¬ ì„¤ëª…í•  ì˜ˆì •ì…ë‹ˆë‹¤.

### 4ë‹¨ê³„ ë¶„ì„ë²•
ì´ ì±…ì˜ ëª¨ë“  ì„¤ëª…ì€ ë‹¤ìŒ 4ë‹¨ê³„(4-Step Analysis)ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

1.  **ì€ìœ (Metaphor)**: ìš°ë¦¬ ì£¼ë³€ì˜ ìµìˆ™í•œ ìƒí™©(í•™êµ, íšŒì‚¬, ì‹ í˜¸ì²´ê³„ ë“±)ìœ¼ë¡œ ê°œë…ì„ ì¡ìŠµë‹ˆë‹¤.
2.  **ê°œë…(Concept)**: ì‹¤ì œ ê¸°ìˆ  ìš©ì–´ë¥¼ ì‰½ê²Œ ì •ì˜í•©ë‹ˆë‹¤.
3.  **ì½”ë“œ(Code)**: ëª¨ë“  ì˜ˆì œ ì½”ë“œëŠ” ì£¼ì„ì„ ë‹¬ì•„ ì´í•´ê°€ ì‰½ë„ë¡ í•©ë‹ˆë‹¤.
4.  **ë°°ê²½(Context)**: ì™œ ì´ ê¸°ìˆ ì„ ì„ íƒí–ˆëŠ”ì§€, ì—…ê³„ì˜ ë’·ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ë“œë¦½ë‹ˆë‹¤.

### ë…ì ëŒ€ìƒ
ì´ ì±…ì€ ì½”ë”©ì˜ 'ì½”'ìë§Œ ì•Œì•„ë„ ì´í•´í•˜ê³  ì‹¶ì–´ í•˜ëŠ” **ì—´ì •ì ì¸ ì´ˆì‹¬ì**ë¥¼ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. ì „ë¬¸ ê°œë°œìê°€ ì•„ë‹ˆë”ë¼ë„, ì „ê³µìê°€ ì•„ë‹ˆë”ë¼ë„, ê¸°ìˆ ì˜ ì›ë¦¬ë¥¼ ê¹Šì´ ìˆê²Œ ì´í•´í•˜ê³  ì‹¶ì€ ë¶„ì´ë¼ë©´ ëˆ„êµ¬ë‚˜ í™˜ì˜í•©ë‹ˆë‹¤.

### ì €ìì˜ í¸ì§€: ìœ„ê¸°ì˜ ì‹ ì… ê°œë°œìë“¤ì—ê²Œ (Why Reverse Engineering?)

ìµœê·¼ IT ì‚°ì—…ê³„ì—ì„œëŠ” ì‹ ì… ê°œë°œì ì±„ìš©ì„ ê¸°í”¼í•˜ëŠ” ê²½í–¥ì´ ëšœë ·í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¸ê³µì§€ëŠ¥ì˜ ë“±ì¥ìœ¼ë¡œ ê°œë°œìì˜ ì—­í• ì´ ë‹¨ìˆœ ì½”ë”©ì—ì„œ 'ê¸°íšÂ·ì„¤ê³„' ì¤‘ì‹¬ì˜ ê¸°íšê°œë°œë¡œ ì „í™˜ë˜ëŠ” ê°€ìš´ë°, ê¸°ì—…ë“¤ì€ ê¸°íšë ¥ê³¼ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ê²€ì¦ëœ ê²½ë ¥ìë¥¼ ì„ í˜¸í•˜ê²Œ ëœ ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í˜„ìƒì€ ì—…ê³„ì˜ ë‹¹ì—°í•œ ìˆ˜ìš” ë³€í™”ë¡œ ìë¦¬ ì¡ì•˜ìœ¼ë©°, IT ì—…ê³„ ì „ë°˜ìœ¼ë¡œ ë¹ ë¥´ê²Œ í™•ì‚°ë˜ê³  ìˆëŠ” ì‹¤ì •ì…ë‹ˆë‹¤.

ì´ì— í•„ìëŠ” ìŠ¤ìŠ¤ë¡œì—ê²Œ ë¬»ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. **ì‹ ì… ì‚¬ì›ì˜ ê²½í—˜ ë¶€ì¬ë¼ëŠ” ë¬¸í„±ì„ ì–´ë–»ê²Œ í•˜ë©´ ê·¹ë³µí•˜ê³ , ë‹¨ê¸°ê°„ì— ê²½ë ¥ì ìˆ˜ì¤€ì˜ ì‹¤ì „ ì—­ëŸ‰ì„ ê°–ì¶œ ìˆ˜ ìˆì„ê¹Œ?** ì‹¤ì œë¡œ ìˆ˜ë§ì€ ì‹ ì… ì§€ì›ìë“¤ì˜ ë©´ì ‘ê³¼ ì½”ë”© í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ, ì´ë“¤ì˜ ì–´ë ¤ì›€ì— ê¹Šì€ ê³µê°ê³¼ ì•ˆíƒ€ê¹Œì›€ì„ ëŠê¼ˆìŠµë‹ˆë‹¤. ê³¼ì—° ì´ë“¤ì—ê²Œ í¬ë§ì ì¸ ëŒ€ì•ˆì€ ì—†ëŠ” ê²ƒì¼ê¹Œ.

í˜„ì‹¤ì€ ë”ìš± ë…¹ë¡ì§€ ì•ŠìŠµë‹ˆë‹¤. ê¸°ì—…ë“¤ì€ ì¸í„´ ì±„ìš©ë§ˆì € ì¶•ì†Œí•˜ê³  ìˆì–´, ì‹¤ë¬´ ê²½í—˜ì„ ìŒ“ì„ ìˆ˜ ìˆëŠ” ê¸°íšŒì¡°ì°¨ ì ì°¨ ì¢ì•„ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ ì´ëŸ¬í•œ êµ¬ì¡°ì  ë¬¸ì œì˜ì‹ì—ì„œ ë³¸ì„œë¥¼ ê¸°íší•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

í•„ìëŠ” ì´ ì±…ì„ í†µí•´ ì´ˆë³´ ê°œë°œì, ì‹ ì… ì§€ë§ìƒ, ê·¸ë¦¬ê³  ë¹„ì „ê³µìì´ë‚˜ ê°œë°œì— ëŒ€í•œ ì—´ì •ì„ í’ˆì€ ëª¨ë“  ì´ë“¤ì—ê²Œ **ê²½ë ¥ìë“¤ì´ ìˆ˜ë…„ì— ê±¸ì³ ì²´ë“í•œ ì‹¤ì „ ê²½í—˜ê³¼ ë…¸í•˜ìš°ë¥¼ ì••ì¶•í•˜ì—¬ ì „ë‹¬**í•˜ê³ ì í•©ë‹ˆë‹¤. ë‹¨ìˆœí•œ ì´ë¡ ì„œê°€ ì•„ë‹Œ, í˜„ì¥ì—ì„œ ë§ˆì£¼í•˜ëŠ” ë¬¸ì œë“¤ì„ ì§ì ‘ í•´ê²°í•˜ë©° ëª¸ìœ¼ë¡œ ìµíˆëŠ” **'ì„ ë°°ì˜ ë¹„ë°€ë…¸íŠ¸'** ë¥¼ ë§Œë“¤ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ í•µì‹¬ ë°©ë²•ë¡ ìœ¼ë¡œ **ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§(Reverse Engineering)** ì´ë¼ëŠ” ì—­ë°œìƒì˜ ì ‘ê·¼ë²•ì„ ì œì‹œí•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì‹œìŠ¤í…œì„ ë¶„í•´í•˜ê³  ë¶„ì„í•¨ìœ¼ë¡œì¨ ì„¤ê³„ìì˜ ì˜ë„ì™€ êµ¬ì¡°ì  ì›ë¦¬ë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ëŠ” ì´ ë°©ë²•ì€, **ì‹ ì… ê°œë°œìê°€ ë‹¨ê¸°ê°„ì— ê²½ë ¥ì ìˆ˜ì¤€ì˜ í†µì°°ë ¥ì„ ê°–ì¶œ ìˆ˜ ìˆëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ê²½ë¡œ**ì…ë‹ˆë‹¤. ì´ ì±…ì´ ì—¬ëŸ¬ë¶„ì˜ ì‹¤ë ¥ í–¥ìƒì— ë“ ë“ í•œ ë™ë°˜ìê°€ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.

ì»´í“¨í„°ê³µí•™ ì „ê³µìì´ë“  ë¹„ì „ê³µìì´ë“ , ê°œë°œìì˜ ê¿ˆì„ í’ˆì€ ëª¨ë“  ë¶„ë“¤ê»˜ ì§„ì‹¬ ì–´ë¦° ì‘ì›ì˜ ë§ˆìŒì„ ì „í•©ë‹ˆë‹¤. ì–´ë ¤ìš´ í™˜ê²½ì¼ìˆ˜ë¡ ìŠ¤ìŠ¤ë¡œì˜ ì„±ì¥ì„ ìœ„í•´ ëŠì„ì—†ì´ ë…¸ë ¥í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤. í•„ìëŠ” ì´ ì±…ì„ í†µí•´ ì—¬ëŸ¬ë¶„ì˜ ë„ì „ì„ ëê¹Œì§€ ì§€ì›í•˜ê² ìŠµë‹ˆë‹¤. í˜ë‚´ì‹­ì‹œì˜¤.

**AI í˜ëª…ì€ ê²°ì½” ì—¬ëŸ¬ë¶„ì˜ ì§ì—…ì„ ë¹¼ì•—ì•„ ê°€ì§€ ëª»í•©ë‹ˆë‹¤. ëŠì„ì—†ì´ ìƒê¸°ëŠ” ìƒˆë¡œìš´ ë¬¸ì œë¥¼ í•´ê²°í•´ ë‚˜ê°€ë ¤ëŠ” ì—´ì •ì€ ì¸ê³µì§€ëŠ¥ì—ê²ŒëŠ” ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.** ì´ ì±…ì„ ë°¤ìƒˆ íƒë…í•˜ë©° ì¸ê³µì§€ëŠ¥ì„ ì—¬ëŸ¬ë¶„ì˜ ê²ƒìœ¼ë¡œ ë§Œë“œëŠ” ê·¸ë‚ ê¹Œì§€, ë³¸ì„œê°€ ì¡°ê¸ˆì´ë‚˜ë§ˆ ìš©ê¸°ê°€ ë˜ê¸¸ ê¸°ì›í•©ë‹ˆë‹¤.

---

### [í”„ë¡œì íŠ¸ ì†Œê°œ] OpenClaw(Moltbot) ê±´ì¶• ì¼ì§€

ì´ ë¬¸ì„œëŠ” **OpenClaw(Moltbot)** ì´ë¼ëŠ” 2026ë…„ ì‹œì‘ê³¼ í•¨ê»˜ ë¶ˆì–´ë‹¥ì¹œ ê±°ëŒ€í•œ ì†Œí”„íŠ¸ì›¨ì–´ íŒŒì¥ì„ **â€œë°‘ë°”ë‹¥ë¶€í„°(from scratch)â€** ë‹¤ì‹œ íŒŒí—¤ì¹˜ëŠ” ê³¼ì •ì„ ë‹´ì€ ê±´ì¶• ì¼ì§€ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì¸ê³µì§€ëŠ¥ì´ ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë§Œ â€œë³µì‚¬-ë¶™ì—¬ë„£ê¸°â€ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **â€œì™œ ì—¬ê¸°ì— ê¸°ë‘¥ì„ ì„¸ì› ì§€?â€, â€œì´ ë°°ê´€ì€ ì–´ë””ë¡œ ì—°ê²°ë˜ì§€?â€** ë¥¼ ì§‘ìš”í•˜ê²Œ íŒŒí—¤ì¹˜ê³  ì‚¬ê³ í•˜ê³ ì ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

ì¸ê³µì§€ëŠ¥ í˜ëª…ì˜ ë¬¼ê²° ì†ì—ì„œ ì½”ë”©ì€ ì „í†µì ìœ¼ë¡œ ì¸ê°„ë§Œì˜ ì „ìœ ë¬¼ì´ì—ˆë˜ ì‹œëŒ€ë¥¼ ì§€ë‚˜, ì´ì œëŠ” ì¸ê°„ê³¼ ê¸°ê³„ê°€ í˜‘ë ¥í•˜ëŠ” ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„ìœ¼ë¡œ ì§„í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìš°ë¦¬ëŠ” í•œ ê°€ì§€ ê·¼ë³¸ì ì¸ ì§„ë¦¬ë¥¼ ê°„ê³¼í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤. **í˜„ì¡´í•˜ëŠ” ëª¨ë“  ì¸ê³µì§€ëŠ¥ ì‹œìŠ¤í…œì´ ê¶ê·¹ì ìœ¼ë¡œëŠ” ì¸ê°„ì˜ ì½”ë“œë¡œ êµ¬í˜„ëœ ì‚°ë¬¼ì´ë¼ëŠ” ì‚¬ì‹¤**ì„ ë§ì…ë‹ˆë‹¤.

ì½”ë“œì˜ ì •í™•í•œ ì˜ë¯¸ì™€ ì‘ë™ ì›ë¦¬ë¥¼ ì´í•´í•˜ì§€ ëª»í•œ ì±„, ì¸ê³µì§€ëŠ¥ì´ ìƒì„±í•˜ëŠ” í™˜ê°(hallucination)ì„ ë¹„íŒì ìœ¼ë¡œ ê²€í† í•˜ì§€ ì•Šê³  ìˆ˜ìš©í•œë‹¤ë©´, ì´ëŠ” ìš°ë¦¬ì—ê²Œ ì ì¬ì  ìœ„í—˜ì´ì ë°˜ë“œì‹œ ê·¹ë³µí•´ì•¼ í•  ì¤‘ëŒ€í•œ ê³¼ì œê°€ ë  ê²ƒì…ë‹ˆë‹¤.

ë³¸ì„œëŠ” ì´ëŸ¬í•œ ì‹œëŒ€ì  ìƒí™©ì„ ì¸ì‹í•˜ê³ , ì¸ê³µì§€ëŠ¥ì„ íš¨ê³¼ì ì¸ í•™ìŠµ ë„êµ¬ë¡œ í™œìš©í•˜ì—¬ ì½”ë”©ì˜ ë³¸ì§ˆì„ ê¹Šì´ ìˆê²Œ ì´í•´í•˜ê³  **ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§(1)** ì—­ëŸ‰ì„ ë°°ì–‘í•˜ê³ ì í•˜ëŠ” ë…ìë“¤ì„ ìœ„í•œ ì‹¤ì „ ì§€ì¹¨ì„œë¡œ ì œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.



---

### â˜•ï¸ [Ice Breaking] ê°œë°œìì˜ ì¼ìƒ, ê·¸ë¦¬ê³  'ì—°ê²°'ì˜ ê³ í†µ

ê¸°ìˆ ì ì¸ ì´ì•¼ê¸°ë¡œ ë„˜ì–´ê°€ê¸° ì „ì—, ì œ(Sam LEE) ì˜›ë‚ ì´ì•¼ê¸°ë¥¼ í•˜ë‚˜ í•´ë“œë¦´ê¹Œ í•©ë‹ˆë‹¤.

ì œê°€ ê°œë°œìë¡œ ë°¥ì„ ë¨¹ê³  ì‚° ì§€ ì–´ëŠë§ 20ë…„ì´ ë‹¤ ë˜ì–´ê°‘ë‹ˆë‹¤.
ë§ì€ ì‹ ì… ê°œë°œìë¶„ë“¤ì´ ì €ì—ê²Œ ë¬»ìŠµë‹ˆë‹¤.
*"íŒ€ì¥ë‹˜, ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ê³µë¶€í•´ì•¼ ê°œë°œì„ ì˜í•˜ë‚˜ìš”?"*
*"ìˆ˜í•™ì„ ì˜í•´ì•¼ ì½”ë”©ì„ ì˜í•˜ë‚˜ìš”?"*

ê·¸ëŸ´ ë•Œë§ˆë‹¤ ì €ëŠ” ì›ƒìœ¼ë©° ëŒ€ë‹µí•©ë‹ˆë‹¤.
**"ê°œë°œ ìƒí™œì˜ 8í• ì€ 'ì•Œê³ ë¦¬ì¦˜'ì´ ì•„ë‹ˆë¼ 'ëˆˆì¹˜'ì™€ 'í†µì—­'ì´ë€ë‹¤."**

ì‹¤ì œë¡œ í˜„ì—…ì—ì„œ ê°€ì¥ ê³¨ì¹˜ ì•„í”ˆ ë¬¸ì œëŠ” **'ì–´ë ¤ìš´ ë¡œì§'** ì„ ì§œëŠ” ê²Œ ì•„ë‹™ë‹ˆë‹¤.
ë°”ë¡œ **'ë§ì´ ì•ˆ í†µí•˜ëŠ” ë‘ ì‹œìŠ¤í…œì„ ì—°ê²°í•˜ëŠ” ê²ƒ'** ì…ë‹ˆë‹¤.

*   ê¸°íšíŒ€ì€ "í•œêµ­ì–´"ë¡œ ë§í•˜ê³ , ê°œë°œíŒ€ì€ "ì™¸ê³„ì–´(Code)"ë¡œ ë§í•©ë‹ˆë‹¤.
*   ì˜† ë¶€ì„œ ê¹€ ëŒ€ë¦¬ë‹˜ì´ ë§Œë“  ì„œë²„ëŠ” `JSON`ì„ ë‹¬ë¼ê³  í•˜ëŠ”ë°, ìš°ë¦¬ íŒ€ ë°• ê³¼ì¥ë‹˜ì´ ë§Œë“  ì•±ì€ `XML`ì„ ë˜ì§‘ë‹ˆë‹¤.
*   ì´ ì‚¬ì´ì—ì„œ **"ì•„ë‹ˆ, ê·¸ê²Œ ì•„ë‹ˆë¼ìš”..."** í•˜ë©° ì¤‘ê°„ ë‹¤ë¦¬ë¥¼ ë†“ëŠ” ê³¼ì •. ê·¸ê²ƒì´ ê°œë°œìê°€ ê²ªëŠ” ë§¤ì¼ë§¤ì¼ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ì´ì, ê°€ì¥ ì¤‘ìš”í•œ ì—…ë¬´ì…ë‹ˆë‹¤.

ìš°ë¦¬ê°€ ì§€ê¸ˆ ë§Œë“¤ë ¤ê³  í•˜ëŠ” **OpenClaw(Moltbot)** ë„ ë˜‘ê°™ìŠµë‹ˆë‹¤.
ì´ ì¹œêµ¬ëŠ” ì¼ì¢…ì˜ **"í†µì—­ì‚¬(Translator)"** ì…ë‹ˆë‹¤.

*   **WhatsApp**: "ë‚˜ëŠ” ë‚´ ë°©ì‹ëŒ€ë¡œ ë§í•  ê±°ì•¼!"
*   **Slack**: "ë‚˜ë„ ë‚´ ê·œì¹™ì´ ìˆì–´!"
*   **AI(ChatGPT)**: "ë‚˜ëŠ” í…ìŠ¤íŠ¸ë§Œ ì£¼ë©´ ë‹µí• ê²Œ."

ì´ ì œê°ê°ì¸ ë…€ì„ë“¤ ì‚¬ì´ì—ì„œ ë“± í„°ì§€ì§€ ì•Šê³ , ëŠ¥ìˆ˜ëŠ¥ë€í•˜ê²Œ ë§ì„ ì „ë‹¬í•´ ì£¼ëŠ” **'ì„¼ìŠ¤ ìˆëŠ” ì¤‘ì¬ì'**.
ê·¸ê²ƒì´ ë°”ë¡œ **Gateway**ì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë‹ˆ ì•ìœ¼ë¡œ ë‚˜ì˜¬ ë³µì¡í•œ ê·¸ë¦¼ë“¤ì„ ë³´ê³  ê²ë¨¹ì§€ ë§ˆì„¸ìš”.
**"ì•„, ì´ ì½”ë“œëŠ” ì§€ê¸ˆ WhatsAppì´ë‘ Slack ì‚¬ì´ì—ì„œ í†µì—­í•˜ëŠë¼ ë•€ ë»˜ë»˜ í˜ë¦¬ê³  ìˆêµ¬ë‚˜."**
ì´ë ‡ê²Œ ìƒê°í•˜ë©´, ì°¨ê°€ìš´ ì½”ë“œ ë©ì–´ë¦¬ê°€ ì¡°ê¸ˆì€ ì‚¬ëŒ ëƒ„ìƒˆ ë‚˜ê³  ê·€ì—¬ì›Œ ë³´ì¼ ê²ë‹ˆë‹¤.

ì, ê·¸ëŸ¼ ì´ì œ ì´ ê¸°íŠ¹í•œ í†µì—­ì‚¬ì˜ ê°€ë°© ì†ì— ì–´ë–¤ ë„êµ¬ë“¤ì´ ë“¤ì–´ìˆëŠ”ì§€ í•œë²ˆ ì—´ì–´ë³¼ê¹Œìš”?

---

## 0. ê¸°ìˆ  ìŠ¤íƒ ë¶„ì„ (Technology Stack Analysis)

ì´ ì•±(**OpenClaw**)ì€ ë‹¨ìˆœí•œ ì±—ë´‡ì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë©”ì‹ ì €(WhatsApp, Slack ë“±)ì™€ AI ëª¨ë¸ì„ ì—°ê²°í•˜ëŠ” **Gateway Platform(ê²Œì´íŠ¸ì›¨ì´ í”Œë«í¼)** ìœ¼ë¡œì„œ, AI ì—ì´ì „íŠ¸(Agent) ìƒíƒœê³„ì˜ í˜ì‹ ì„ ì´ëŒë©° 2026ë…„ 1ì›” ì´ˆê¸‰ì†ë„ë¡œ í™•ì‚°ë˜ê³  ìˆëŠ” ì—…ê³„ ìµœëŒ€ ê´€ì‹¬ì‚¬ ì¤‘ í•˜ë‚˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ ì¥ì—ì„œëŠ” OpenClaw(Moltbot)ì„ êµ¬ì„±í•˜ëŠ” í•µì‹¬ ê¸°ìˆ ë“¤ì„ **ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§(Reverse Engineering)** ê´€ì ì—ì„œ ì‹¬ì¸µ ë¶„ì„í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ ê¸°ìˆ ì„ ë‚˜ì—´í•˜ëŠ” ë° ê·¸ì¹˜ì§€ ì•Šê³ , ê° ê¸°ìˆ ì´ ì„ íƒëœ ë°°ê²½ê³¼ ì„¤ê³„ ì² í•™ì„ íŒŒí—¤ì¹˜ë©°, ë…ì ì—¬ëŸ¬ë¶„ì´ ì´ ê¸°ìˆ ë“¤ì„ **'ë‚´ ê²ƒ'** ìœ¼ë¡œ ì²´ë“í•  ìˆ˜ ìˆë„ë¡ ì¶©ë¶„í•œ ì˜ˆì œì™€ ì‹¤ìŠµ ê³¼ì œë¥¼ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.

| êµ¬ë¶„ | ê¸°ìˆ  / ë„êµ¬ | ë²„ì „ (ê¶Œì¥) | ì„ ì • ì´ìœ  (Why?) |
| :--- | :--- | :--- | :--- |
| **Runtime** | **Node.js** | >=22.12.0 | ìµœì‹  LTS. ë¹„ë™ê¸° I/O ì²˜ë¦¬ê°€ í•µì‹¬ì¸ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ì— ìµœì í™”ë¨. |
| **Language** | **TypeScript** | ^5.9.3 | ê±°ëŒ€í•œ ëª¨ë…¸ë ˆí¬ í”„ë¡œì íŠ¸ì˜ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•˜ëŠ” ì—„ê²©í•œ ë¬¸ë²• ê²€ì‚¬ê¸°. ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì„¤ê³„ í•„ìˆ˜. |
| **Package Manager** | **pnpm** | 10.23.0 | ëª¨ë…¸ë ˆí¬ êµ¬ì¡°ì—ì„œ ë””ìŠ¤í¬ ê³µê°„ ì ˆì•½ ë° ë¹ ë¥¸ ì„¤ì¹˜ ì†ë„. |
| **Server Core** | **Hono** (+ WS) | 4.11.4 | Expressë³´ë‹¤ ê°€ë³ê³  ë¹ ë¥´ë©°, Edge Runtime í˜¸í™˜ì„±ì´ ì¢‹ìŒ. HTTP/WebSocket í†µí•© ìš©ì´. |
| **Channel Layer** | **Baileys** | 7.0.0-rc.9 | WhatsApp Web APIë¥¼ ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬. ë¸Œë¼ìš°ì € ì—†ì´ Node.jsì—ì„œ WhatsApp êµ¬ë™ ê°€ëŠ¥. |
| **AI Agent** | **Pi Agent Core** | 0.49.3 | LLM(Large Language Model)ê³¼ì˜ í†µì‹ , ë„êµ¬(Tool) í˜¸ì¶œ, ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ìì²´/ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬. |
| **UI Framework** | **Lit** + **Vite** | 3.3.2 | Reactë³´ë‹¤ ê°€ë²¼ìš´ Web Components í‘œì¤€ ê¸°ë°˜. ë´‡ ì œì–´ íŒ¨ë„ìš©ìœ¼ë¡œ ê°€ë³ê³  ë¹ ë¦„. |
| **Database/State** | **SQLite** | - | ë¡œì»¬ ì„ë² ë”© ë²¡í„° ì €ì¥ ë° ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ì— ì í•©. |

> [!TIP]
> **ğŸ“š [ìš©ì–´ ë¯¸ë‹ˆ ì‚¬ì „] ì´ê²Œ ë„ëŒ€ì²´ ë¬´ìŠ¨ ë§ì¸ê°€ìš”?**
>
> í‘œì— ë‚˜ì˜¨ ì™¸ê³„ì–´ë“¤ì„ ì‹œì›í•˜ê²Œ í’€ì–´ë“œë¦½ë‹ˆë‹¤.
>
> 1.  **LTS (Long Term Support)**: "ì¥ê¸° ì§€ì› ë²„ì „". ìë™ì°¨ë¡œ ì¹˜ë©´ **'ì‹ í˜• ì˜ë‚˜íƒ€'** ê°€ ì•„ë‹ˆë¼ **'íƒì‹œ ëª¨ë¸ ì˜ë‚˜íƒ€'** ì…ë‹ˆë‹¤. ìµœì‹  ê¸°ëŠ¥ì€ ì ì§€ë§Œ, ê³ ì¥ì´ ì•ˆ ë‚˜ê³  ë¶€í’ˆì„ 5ë…„ ì´ìƒ ì±…ì„ì§€ê³  ê³µê¸‰í•´ ì¤ë‹ˆë‹¤. ì„œë²„ëŠ” ë©‹ì§„ ê¸°ëŠ¥ë³´ë‹¤ **'ì•ˆ ì£½ëŠ” ê²ƒ'** ì´ ì¤‘ìš”í•´ì„œ LTSë¥¼ ì”ë‹ˆë‹¤.
> 2.  **ëª¨ë…¸ë ˆí¬ (Monorepo)**: "Mono(í•˜ë‚˜) + Repo(ì €ì¥ì†Œ)". **'í•œ ì§€ë¶• ëŒ€ê°€ì¡±'** ì…ë‹ˆë‹¤. ì„œë²„ ì½”ë“œ, ì•± ì½”ë“œ, ê´€ë¦¬ì í˜ì´ì§€ ì½”ë“œë¥¼ í´ë” í•˜ë‚˜ì— ë‹¤ ëª°ì•„ë„£ê³  ê´€ë¦¬í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ë°˜ëŒ€ë§ì€ 'ë©€í‹°ë ˆí¬(ê°ë°© ì“°ê¸°)'ì…ë‹ˆë‹¤.
> 3.  **ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§ (Reverse Engineering)**: "ì—­ê³µí•™". ë§›ì§‘ ë–¡ë³¶ì´ ì†ŒìŠ¤ ë¹„ë²•ì„ ì•Œì•„ë‚´ë ¤ê³ , ë‹¤ ë§Œë“¤ì–´ì§„ ë–¡ë³¶ì´ë¥¼ í˜„ë¯¸ê²½ìœ¼ë¡œ ë“¤ì—¬ë‹¤ë³´ê³  ì„±ë¶„ì„ ë¶„ì„í•˜ëŠ” í–‰ìœ„ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì™„ì„±ëœ OpenClaw ì½”ë“œë¥¼ ëœ¯ì–´ë³´ë©° ì„¤ê³„ë¥¼ ìœ ì¶”í•  ê²ƒì…ë‹ˆë‹¤.
> 4.  **ì»¨í…ìŠ¤íŠ¸ (Context)**: "ë¬¸ë§¥/ì •í™©". AIëŠ” ê¸ˆë¶•ì–´ì…ë‹ˆë‹¤. ë°©ê¸ˆ í•œ ë§ì„ ìŠì–´ë²„ë¦¬ì£ . ê·¸ë˜ì„œ "ì•„ê¹Œ ë„¤ê°€ ì‚¬ê³¼ë¼ê³  í–ˆì–ì•„"ë¼ê³  **ì´ì „ ëŒ€í™” ë‚´ìš© ì „ì²´**ë¥¼ ë‹¤ì‹œ ë˜ì ¸ì¤˜ì•¼ ì•Œì•„ë“£ìŠµë‹ˆë‹¤. ì´ 'ëŒ€í™”ì˜ ì¡±ë³´'ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.
> 5.  **React**: ë©”íƒ€(í˜ì´ìŠ¤ë¶)ì—ì„œ ë§Œë“  **'ë ˆê³  ë¸”ë¡ ì¡°ë¦½ ì„¸íŠ¸'** ì…ë‹ˆë‹¤. "ë¡œê·¸ì¸ ë²„íŠ¼", "ë©”ë‰´ë°”" ê°™ì€ ë¸”ë¡ì„ ì¡°ë¦½í•´ì„œ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤. ê°€ì¥ ìœ ëª…í•˜ì§€ë§Œ ì¡°ê¸ˆ ë¬´ê²ìŠµë‹ˆë‹¤.
> 6.  **Web Components**: React ê°™ì€ íŠ¹ì • ë¸Œëœë“œ ë ˆê³ ê°€ ì•„ë‹ˆë¼, **'êµ­ì œ í‘œì¤€ ê·œê²© ë²½ëŒ'** ì…ë‹ˆë‹¤. ë¸Œë¼ìš°ì € ìì²´ê°€ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ë¼ì„œ, Reactë‚˜ Vue ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ë„ ëŒì•„ê°‘ë‹ˆë‹¤. ê°€ë³ê³  ë¹ ë¦…ë‹ˆë‹¤.
> 7.  **ë¡œì»¬ ì„ë² ë”© ë²¡í„° ì €ì¥ (Local Embedding Vector Storage)**:
>     *   **ì„ë² ë”©**: "ì‚¬ê³¼"ë¼ëŠ” ê¸€ìë¥¼ `[0.1, 0.5, 0.9]` ê°™ì€ **ìˆ«ì ì¢Œí‘œ**ë¡œ ë°”ê¾¸ëŠ” ê²ƒ.
>     *   **ë²¡í„° ì €ì¥**: ì´ ìˆ«ìë¥¼ ì €ì¥í•´ ë‘ëŠ” ë„ì„œê´€.
>     *   **Why?**: AIì—ê²Œ "ê³¼ì¼ ì°¾ì•„ì¤˜"ë¼ê³  í•˜ë©´, AIëŠ” 'ê³¼ì¼'ì˜ ìˆ«ì ì¢Œí‘œì™€ ê°€ì¥ ê°€ê¹Œìš´ 'ì‚¬ê³¼'ì˜ ì¢Œí‘œë¥¼ ê³„ì‚°í•´ì„œ ì°¾ì•„ëƒ…ë‹ˆë‹¤. ì´ê±¸ ë‚´ ì»´í“¨í„°(ë¡œì»¬)ì—ì„œ í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
>
> **ğŸ’¬ ì½”ì¹˜ ì½”ë©˜íŠ¸(Sam LEE)**:
> "ìš©ì–´ê°€ ê³„ì† ë‚˜ì˜¤ì§€ë§Œ, ê¹Šê²Œ íŒŒê³ ë“¤ì§€ ë§ê³  **'ì•„, ëŒ€ì¶© ì´ëŸ° ê±°êµ¬ë‚˜'** í•˜ê³  ë„˜ì–´ê°€ì„¸ìš”. ê³„ì† ìƒˆë¡œìš´ ê°œë…ë“¤ê³¼ ê²½í—˜ì´ ìŒ“ì´ë‹¤ ë³´ë©´, ì´ ë‚¯ì„  ìš©ì–´ë“¤ì€ ìì—°íˆ ì—¬ëŸ¬ë¶„ì˜ ëª¸ì†ì— ë…¹ì•„ë“¤ì–´ **'ì‹¤ë ¥'** ì´ë¼ëŠ” í˜•íƒœë¡œ ë‚˜íƒ€ë‚˜ê²Œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë¯¿ê³  ë”°ë¼ì˜¤ì„¸ìš”."

### ğŸ› ï¸ [ìƒì„¸ ê°€ì´ë“œ] ê° ê¸°ìˆ  ìŠ¤íƒ ì„¤ì¹˜ ë° ì„¤ì • ë°©ë²•

ì´ˆë³´ìë„ ë”°ë¼ í•  ìˆ˜ ìˆë„ë¡ ê° ë„êµ¬ì˜ ì„¤ì¹˜ ë°©ë²•ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

#### 1. Runtime & Manager (ê¸°ë°˜ ì‹œì„¤)
*   **Node.js**: ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ê¸°. (ê±´ì„¤ í˜„ì¥ì˜ ì¸ë¶€)
    *   **ì„¤ì¹˜ë²• (macOS/Linux)**: `nvm`ì´ë‚˜ `fnm`ì„ ì¶”ì²œí•©ë‹ˆë‹¤.
        ```bash
        # fnm ì„¤ì¹˜ (Fast Node Manager)
        curl -fsSL https://fnm.vercel.app/install | bash
        # Node.js 22ë²„ì „ ì„¤ì¹˜
        fnm install 22
        ```
    *   **ì„¤ì¹˜ë²• (Windows)**: ê³µì‹ í™ˆí˜ì´ì§€(nodejs.org)ì—ì„œ LTS ë²„ì „ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜.

*   **pnpm**: íš¨ìœ¨ì ì¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €. (ìì¬ ê´€ë¦¬ ì†Œì¥)
    *   **ì„¤ì¹˜ë²•**: Node.jsê°€ ê¹”ë¦° ìƒíƒœì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥.
        ```bash
        npm install -g pnpm
        # ë²„ì „ í™•ì¸
        pnpm -v
        ```

#### 2. Language & Framework (ì„¤ê³„ ë„êµ¬)
*   **TypeScript**: ê±°ëŒ€í•œ ëª¨ë…¸ë ˆí¬ í”„ë¡œì íŠ¸ì˜ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•˜ëŠ” ì—„ê²©í•œ ë¬¸ë²• ê²€ì‚¬ê¸°. (ê°ë¦¬ì‚¬)
    *   **ì„¤ì¹˜ë²•**: í”„ë¡œì íŠ¸ë§ˆë‹¤ ë¡œì»¬ë¡œ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ì •ì„ì…ë‹ˆë‹¤.
        ```bash
        pnpm add -D typescript
        ```
    *   **ì€ìœ  (Metaphor)**: **"ì² ì €í•œ ì„¤ê³„ë„ ê°ë¦¬ì‚¬"**. ê±´ë¬¼ì„ ì§“ê¸° ì „ ì„¤ê³„ë„ê°€ ë²•ê·œì— ë§ëŠ”ì§€, ìì¬ê°€ ê·œê²©í’ˆì¸ì§€ ê¼¼ê¼¼íˆ ì²´í¬í•˜ì—¬ ë‚˜ì¤‘ì— ê±´ë¬¼ì´ ë¬´ë„ˆì§€ëŠ” ëŒ€í˜• ì‚¬ê³ ë¥¼ ë§‰ì•„ì¤ë‹ˆë‹¤.

*   **Hono**: ì´ˆê³ ì† ì›¹ í”„ë ˆì„ì›Œí¬. (ê±´ë¬¼ ë¼ˆëŒ€)
    *   **ì„¤ì¹˜ë²•**: í”„ë¡œì íŠ¸ ì‹œì‘ í›„ ì„¤ì¹˜.
        ```bash
        pnpm add hono @hono/node-server
        ```

    > [!NOTE]
    > **ğŸ›‘ [ë°°ê²½ ì§€ì‹] "í”„ë¡œì íŠ¸ ì‹œì‘ í›„ ì„¤ì¹˜"ë€ ë¬´ìŠ¨ ëœ»ì¸ê°€ìš”?**
    >
    > **"ì „ì…ì‹ ê³ ë¥¼(ì§‘ì„ ê³„ì•½) í•´ì•¼ ê°€êµ¬ë¥¼ ë“¤ì—¬ë†“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."**
    >
    > ìš°ë¦¬ê°€ ì¸í„°ë„· ì‡¼í•‘ëª°ì—ì„œ ê°€êµ¬ë¥¼ ì£¼ë¬¸í•˜ë ¤ë©´, ë°°ì†¡ë°›ì„ **'ìš°ë¦¬ ì§‘ ì£¼ì†Œ'** ê°€ ë¨¼ì € í™•ì •ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
    >
    > 1.  **í”„ë¡œì íŠ¸ì˜ íƒ„ìƒ(`pnpm init`)**: ì´ê²ƒì€ ì»´í“¨í„°ì—ê²Œ **"ì§€ê¸ˆë¶€í„° ì´ í´ë”ëŠ” 'OpenClaw'ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ í•˜ë‚˜ì˜ ë…ë¦½ëœ í•˜ìš°ìŠ¤(í”„ë¡œì íŠ¸)ë‹¤!"** ë¼ê³  ì„ í¬í•˜ê³ , í˜„ê´€ë¬¸ì— **ë¬¸íŒ¨(`package.json`)** ë¥¼ ë‹¤ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.
    > 2.  **ì„¤ì¹˜(`pnpm add`)**: ì´ì œ ë¬¸íŒ¨ê°€ ë‹¬ë ¸ìœ¼ë‹ˆ, íƒë°° ê¸°ì‚¬(`pnpm`)ì—ê²Œ **"Honoë¼ëŠ” ì†ŒíŒŒë¥¼ ì´ ì§‘ ì¥ë¶€(`package.json`)ì— ë“±ë¡í•˜ê³  ë°°ì†¡í•´ì£¼ì„¸ìš”"** ë¼ê³  ìš”ì²­í•  ìˆ˜ ìˆê²Œ ëœ ê²ƒì…ë‹ˆë‹¤.
    > 3.  **ê²°ë¡ **: ë¬¸íŒ¨(`package.json`)ë„ ì—†ëŠ” í—ˆí—ˆë²ŒíŒì—ëŠ” íƒë°°ë¥¼ ì‹œí‚¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í•­ìƒ **"ë¬¸íŒ¨ ë‹¬ê¸°(init) -> ê°€êµ¬ ë“¤ì´ê¸°(add)"** ìˆœì„œë¥¼ ì§€ì¼œì•¼ í•©ë‹ˆë‹¤.



    > [!NOTE]
    > **ğŸï¸ [ê¸°ìˆ  í•´ë¶€] Honoê°€ ë„ëŒ€ì²´ ë­”ê°€ìš”? (vs Express)**
    >
    > "ì›¹ ì„œë²„ ë§Œë“¤ ë•Œ ë‹¤ë“¤ `Express` ì“´ë‹¤ë˜ë°, ì™œ ì²˜ìŒ ë“¤ì–´ë³´ëŠ” `Hono`ë¥¼ ì“°ë‚˜ìš”?"
    >
    > **1. ì€ìœ (Metaphor): ì¤‘í˜• ì„¸ë‹¨ vs F1 ë ˆì´ì‹±ì¹´**
    > *   **Express (ì¤‘í˜• ì„¸ë‹¨)**: 2010ë…„ì— ë‚˜ì˜¨ ë² ìŠ¤íŠ¸ì…€ëŸ¬. **í¸ì•ˆí•˜ê³  ìµìˆ™í•˜ì§€ë§Œ, ë¬´ê²ê³  ëŠë¦½ë‹ˆë‹¤.** ì—”ì§„ì´ ì˜›ë‚  ë°©ì‹ì´ë¼ ìµœì‹  ë„ë¡œ(Edge Computing)ì—ì„œëŠ” ì˜ ëª» ë‹¬ë¦½ë‹ˆë‹¤.
    > *   **Hono (F1 ë ˆì´ì‹±ì¹´)**: 2022ë…„ì— ë‚˜ì˜¨ ìµœì‹  ë¨¸ì‹ . **ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ ë‹¤ ë–¼ë²„ë¦¬ê³  ì˜¤ì§ 'ì†ë„'ì™€ 'í‘œì¤€'ì—ë§Œ ì§‘ì¤‘**í–ˆìŠµë‹ˆë‹¤.
    >
    > **2. ê²°ì •ì  ì°¨ì´ (Web Standard)**
    > *   **Express**: ìê¸°ë“¤ë§Œì˜ ë…ì ê·œê²©(`req`, `res`)ì„ ì”ë‹ˆë‹¤. Node.js ë°–ìœ¼ë¡œ ë‚˜ê°€ë©´ ìˆ¨ì„ ëª» ì‰½ë‹ˆë‹¤.
    > *   **Hono**: **ì „ ì„¸ê³„ ì›¹ í‘œì¤€ ê·œê²©(`Request`, `Response`)** ì„ ê·¸ëŒ€ë¡œ ì”ë‹ˆë‹¤. Node.jsë¿ë§Œ ì•„ë‹ˆë¼ AWS, Cloudflare ì–´ë””ì„œë“  ëŒì•„ê°‘ë‹ˆë‹¤. **ê²Œë‹¤ê°€ 5ë°° ë¹ ë¦…ë‹ˆë‹¤.**

    #### 3. Libraries (íŠ¹ìˆ˜ ë¶€í’ˆ) - ì™œ ì´ê²ƒë“¤ì´ í•„ìš”í•œê°€?
    
    *   **Baileys**: WhatsApp ì—°ê²° ë¼ì´ë¸ŒëŸ¬ë¦¬. (í•´ì»¤ì˜ ë¬´ì „ê¸°)
        *   **ì„¤ì¹˜ë²•**: `pnpm add @whiskeysockets/baileys`
        *   **ì€ìœ (Metaphor)**: **"í•´ì»¤ì˜ ë¬´ì „ê¸°"**. WhatsAppì€ ê³µì‹ì ìœ¼ë¡œ ë´‡ì„ ë§Œë“œëŠ” ê±¸ ê¹Œë‹¤ë¡­ê²Œ êµ½ë‹ˆë‹¤(ë¹„ì¦ˆë‹ˆìŠ¤ API ìœ ë£Œ, ìŠ¹ì¸ ì ˆì°¨ ë³µì¡). BaileysëŠ” ìš°ë¦¬ê°€ **ë§ˆì¹˜ ì§„ì§œ 'WhatsApp ì›¹' ë¸Œë¼ìš°ì €ì¸ ì²™** ê°€ì¥í•´ì„œ ì„œë²„ì™€ í†µì‹ í•˜ê²Œ í•´ì£¼ëŠ” ë¬´ì „ê¸°ì…ë‹ˆë‹¤.
        *   **Why?**: ì´ "íŠ¹ìˆ˜ ë¶€í’ˆ"ì´ ì—†ìœ¼ë©´ ì—¬ëŸ¬ë¶„ì€ í˜ì´ìŠ¤ë¶(Meta) ë³¸ì‚¬ì— ì‚¬ì—…ì ë“±ë¡ì¦ ë‚´ê³ , ìŠ¹ì¸ë°›ê³ , ëˆì„ ë‚´ì•¼ ë´‡ì„ ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. BaileysëŠ” ê·¸ ëª¨ë“  ê³¼ì •ì„ ê±´ë„ˆë›°ê³  **"ì§€ê¸ˆ ë‹¹ì¥"** ë´‡ì„ ëŒë¦¬ê²Œ í•´ì£¼ëŠ” ë§ˆë²•ì˜ ì—´ì‡ ì…ë‹ˆë‹¤.
    
    *   **SQLite**: ë°ì´í„°ë² ì´ìŠ¤. (ìº í•‘ìš© ë°°ë‚­)
        *   **ì„¤ì¹˜ë²•**: `pnpm add better-sqlite3`
        *   **ì€ìœ (Metaphor)**: **"ìº í•‘ìš© ë°°ë‚­"**. ë³´í†µ DB(MySQL, Oracle)ë¼ê³  í•˜ë©´ ê±°ëŒ€í•œ ì»¨í…Œì´ë„ˆ íŠ¸ëŸ­ì„ ë– ì˜¬ë¦½ë‹ˆë‹¤. ì‹œë™ ê±°ëŠ” ë°ë§Œ í•œ ì„¸ì›”ì´ì£ . SQLiteëŠ” ê·¸ëƒ¥ íŒŒì¼ í•˜ë‚˜(`database.sqlite`)ê°€ ê³§ DBì…ë‹ˆë‹¤. ê°€ë°©ì— ì™ ë“¤ì–´ê°‘ë‹ˆë‹¤.
        *   **Why?**: OpenClaw(Moltbot)ì€ ë¼ì¦ˆë² ë¦¬ íŒŒì´ ê°™ì€ ì‘ì€ ì»´í“¨í„°ì—ì„œë„ ëŒì•„ê°€ì•¼ í•©ë‹ˆë‹¤. ë©ì¹˜ í° DB ì„œë²„ë¥¼ ë”°ë¡œ ë„ìš°ëŠ” ê±´ ì‚¬ì¹˜ì…ë‹ˆë‹¤. **"íŒŒì¼ í•˜ë‚˜ë§Œ ë³µì‚¬í•˜ë©´ ì´ì‚¬ ë"** ì¸ ê°„í¸í•¨ ë•Œë¬¸ì— ì´ íŠ¹ìˆ˜ ë¶€í’ˆì„ ì”ë‹ˆë‹¤.

    > [!TIP]
    > **ğŸ–¥ï¸ [ì‹¤ìŠµ ê°€ì´ë“œ] VSCodeì—ì„œ í”„ë¡œì íŠ¸ 0ë¶€í„° ì„¸íŒ…í•˜ê¸° (2025ë…„ 12ì›” ë²„ì „)**
    >
    > "ëª…ë ¹ì–´ëŠ” ì•Œê² ëŠ”ë°, ë„ëŒ€ì²´ **ì–´ë””ì—** ì¹˜ë¼ëŠ” ê±´ê°€ìš”?"
    > ë§‰ë§‰í•´í•˜ì‹¤ ë¶„ë“¤ì„ ìœ„í•´, ë§ˆìš°ìŠ¤ í´ë¦­ í•˜ë‚˜í•˜ë‚˜ê¹Œì§€ ë‹¤ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. ì²œì²œíˆ ë”°ë¼ì˜¤ì„¸ìš”.
    >
    > **ğŸ¤” [ì ê¹] VSCodeê°€ ë­”ê°€ìš”? ë©”ëª¨ì¥ì´ë‘ ë­ê°€ ë‹¬ë¼ìš”?**
    > *   **ë©”ëª¨ì¥(Notepad)**: ë‹¨ìˆœíˆ ê¸€ìë§Œ ì ëŠ” **'ê³¼ë„(ê³¼ì¼ ê¹ëŠ” ì¹¼)'** ì…ë‹ˆë‹¤. ì‚¬ê³¼ í•˜ë‚˜ ê¹ì„ ë• ì¢‹ì§€ë§Œ, ìš”ë¦¬ëŠ” ëª» í•©ë‹ˆë‹¤.
    > *   **VSCode (Visual Studio Code)**: ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ê°€ ë§Œë“  **'ìµœì²¨ë‹¨ ì…°í”„ì˜ ì£¼ë°©'** ì…ë‹ˆë‹¤.
    >     *   **ì¬ë£Œ ìƒ‰ê¹” í‘œì‹œ**: ì½”ë“œê°€ ì•Œë¡ë‹¬ë¡í•˜ì£ ? ì†Œê¸ˆì¸ì§€ ì„¤íƒ•ì¸ì§€ í—·ê°ˆë¦¬ì§€ ë§ë¼ê³  ìƒ‰ì¹ í•´ ì£¼ëŠ” ê²ë‹ˆë‹¤. (Syntax Highlighting)
    >     *   **ë³´ì¡° ì…°í”„**: `consol`ë§Œ ì³ë„ `console`ì´ë¼ê³  ì¶”ì²œí•´ ì¤ë‹ˆë‹¤. (Auto-completion)
    >     *   **ìƒí™©ì‹¤ í†µí•©**: ì½”ë“œë¥¼ ì§œë©´ì„œ ë°”ë¡œ ì„œë²„ë¥¼ ì¼œê³  ë„ëŠ” ë²„íŠ¼(í„°ë¯¸ë„)ì´ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    > *   **ê²°ë¡ **: ê°œë°œì„ ì²˜ìŒ í•œë‹¤ë©´ ë¬´ì¡°ê±´ ì´ê±¸ ì“°ì„¸ìš”. ë¬´ë£Œì´ê³ , ì „ ì„¸ê³„ ê°œë°œìì˜ 70%ê°€ ì”ë‹ˆë‹¤.
    >
    > ---
    >
    > **1. í´ë” ë§Œë“¤ê¸° (ì§‘í„° ë‹¦ê¸°)**
    > *   ë¨¼ì € ì»´í“¨í„° í•˜ë“œë””ìŠ¤í¬(Cë“œë¼ì´ë¸Œ í˜¹ì€ í™ˆ ë””ë ‰í† ë¦¬)ì— `Workspace`ë¼ëŠ” ì´ë¦„ì˜ í´ë”ë¥¼ ë§Œë“œì„¸ìš”.
    > *   ê·¸ `Workspace` í´ë” ì•ˆì— ë“¤ì–´ê°€ì„œ, ë‹¤ì‹œ `openclaw-lab`ì´ë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.
    >     *   êµ¬ì¡°: `ë‚´ ì»´í“¨í„°` -> `Workspace` -> `openclaw-lab`
    > *   ì´ `openclaw-lab` í´ë”ê°€ ì•ìœ¼ë¡œ ìš°ë¦¬ì˜ **ë² ì´ìŠ¤ìº í”„**ê°€ ë©ë‹ˆë‹¤.
    >
    >     > [!TIP]
    >     > **ğŸ’¡ [Coach's Tip] ì™œ êµ³ì´ `Workspace` í´ë”ë¥¼ ë§Œë“œë‚˜ìš”?**
    >     >
    >     > ê°œë°œì„ í•˜ë‹¤ ë³´ë©´ "ì–´? ì œ íŒŒì¼ ì–´ë”” ê°”ì£ ?" í•˜ê³  ê¸¸ì„ ìƒëŠ” ê²½ìš°ê°€ ì •ë§ ë§ìŠµë‹ˆë‹¤.
    >     > ìœˆë„ìš°(Cë“œë¼ì´ë¸Œ) ì‚¬ìš©ì, ë§¥(í™ˆ) ì‚¬ìš©ì ëª¨ë‘ **`Workspace`ë¼ëŠ” ê³µí†µëœ ì•½ì† ì¥ì†Œ**ë¥¼ ì •í•´ë‘ë©´, ë‚˜ì¤‘ì— "ê²½ë¡œë¥¼ ëª» ì°¾ê² ì–´ìš”" ê°™ì€ ë¬¸ì œë¥¼ 99% ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì „ ì„¸ê³„ ê°œë°œìë“¤ì˜ **'êµ­ë£°(ë¶ˆë¬¸ìœ¨)'** ê°™ì€ ìŠµê´€ì´ë©°, ê²½ë¡œ ë¬¸ì œë¡œ í—·ê°ˆë¦´ ì¼ì„ ì›ì²œ ë´‰ì‡„í•´ ì¤ë‹ˆë‹¤.
    >
    > **2. VSCode ì—´ê¸° (ì…ì£¼)**
    > *   VSCodeë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    > *   ë°©ê¸ˆ ë§Œë“  `openclaw-lab` í´ë”ë¥¼ ë§ˆìš°ìŠ¤ë¡œ ëŒì–´ì„œ(Drag & Drop) VSCode í™”ë©´ ì •ì¤‘ì•™ì— ë†“ìœ¼ì„¸ìš”.
    > *   ë˜ëŠ” ë©”ë‰´ì—ì„œ `File` -> `Open Folder...`ë¥¼ ëˆŒëŸ¬ì„œ ì°¾ì•„ë„ ë©ë‹ˆë‹¤.
    > *   ì™¼ìª½ íƒìƒ‰ê¸°(Explorer)ì— í´ë” ì´ë¦„ì´ ë³´ì¸ë‹¤ë©´ ì…ì£¼ ì„±ê³µì…ë‹ˆë‹¤.
    >
    > **3. í„°ë¯¸ë„ ì—´ê¸° (ìƒí™©ì‹¤ ê°œë°©)**
    > *   ì´ì œ ê²€ì€ í™”ë©´, **í„°ë¯¸ë„(Terminal)** ì„ ì—´ ì°¨ë¡€ì…ë‹ˆë‹¤. ì´ê³³ì´ ë°”ë¡œ ìš°ë¦¬ê°€ ì»´í“¨í„°ì—ê²Œ ì§ì ‘ ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” ëŒ€í™”ì°½ì…ë‹ˆë‹¤.
    > *   **ë‹¨ì¶•í‚¤**: `Ctrl` + `` ` `` (ë¬¼ê²°í‘œì‹œ í‚¤, ë§¥/ìœˆë„ìš° ê³µí†µ)
    > *   **ë©”ë‰´**: ìƒë‹¨ ë©”ë‰´ë°” `Terminal` -> `New Terminal`
    > *   í•˜ë‹¨ì— íŒ¨ë„ì´ ì—´ë¦¬ë©´ì„œ ê¹œë¹¡ì´ëŠ” ì»¤ì„œê°€ ë³´ì´ë‚˜ìš”? ì¤€ë¹„ ì™„ë£Œì…ë‹ˆë‹¤.
    >
    > **4. ëª…ë ¹ í•˜ë‹¬ (Start)**
    > *   ì´ì œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ **í•œ ì¤„ì”© ë³µì‚¬**í•´ì„œ í„°ë¯¸ë„ì— ë¶™ì—¬ë„£ê³  **ì—”í„°(Enter)** ë¥¼ ì¹˜ì„¸ìš”.
    >
    >   ```bash
    >   # 1. í˜¸ì  ë“±ë³¸(package.json) ë§Œë“¤ê¸°
    >   pnpm init
    >
    >   # 2. í•„ìˆ˜ ìì¬(ë¼ì´ë¸ŒëŸ¬ë¦¬) ì£¼ë¬¸í•˜ê¸°
    >   pnpm add hono @hono/node-server @whiskeysockets/baileys better-sqlite3
    >
    >   # 3. ì„¤ê³„ ë„êµ¬(TypeScript) ì£¼ë¬¸í•˜ê¸° (ê°œë°œìš©ì´ë¼ -D ì˜µì…˜ ë¶™ì„)
    >   pnpm add -D typescript @types/node
    >   ```
    >
    > **5. í™•ì¸ ì‚¬ì‚´ (Check)**
    > *   ì™¼ìª½ íƒìƒ‰ê¸°ì—ì„œ `package.json` íŒŒì¼ì„ í´ë¦­í•´ë³´ì„¸ìš”.
    > *   íŒŒì¼ ë‚´ìš©ì´ ì•„ë˜ì™€ ë¹„ìŠ·í•˜ë‹¤ë©´ ì„±ê³µì…ë‹ˆë‹¤. (ë²„ì „ ìˆ«ìëŠ” ì¡°ê¸ˆ ëŒ¤ë¼ë„ ê´œì°®ìŠµë‹ˆë‹¤.)
    >
    >   ```json
    >   {
    >     "name": "openclaw-lab",
    >     "version": "1.0.0",
    >     "dependencies": {
    >       "@hono/node-server": "^1.x.x",
    >       "@whiskeysockets/baileys": "^6.x.x",
    >       "better-sqlite3": "^11.x.x",
    >       "hono": "^4.x.x"
    >     },
    >     "devDependencies": {
    >       "@types/node": "^22.x.x",
    >       "typescript": "^5.x.x"
    >     }
    >   }
    >   ```
    >
    > *   **ì¶•í•˜í•©ë‹ˆë‹¤! ì„±ê³µì ìœ¼ë¡œ í™˜ê²½ ì„¸íŒ…ì„ ë§ˆì¹˜ì…¨ìŠµë‹ˆë‹¤.** ì—¬ê¸°ê¹Œì§€ ë”°ë¼ì˜¤ì‹œëŠë¼ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤.
    
    ---
    



    
    ---


    
    ---

## 1. í”„ë¡œì íŠ¸ ì´ˆê¸°í™” (Foundation Setup)

ê°€ì¥ ë¨¼ì € íŠ¼íŠ¼í•œ ê¸°ë°˜ì„ ë‹¤ì§‘ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ëª¨ë“  êµ¬ì„± ìš”ì†Œ(ì„œë²„, ì•±, í”ŒëŸ¬ê·¸ì¸)ê°€ í•˜ë‚˜ì˜ ì €ì¥ì†Œì— ìˆëŠ” **Monorepo** êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤. (ëª¨ë…¸ë ˆí¬ê°€ ë­”ì§€ ê¹Œë¨¹ìœ¼ì…¨ë‹¤ë©´? ğŸ‘‰ ìƒë‹¨ **'ìš©ì–´ ë¯¸ë‹ˆ ì‚¬ì „ 2ë²ˆ'** ì„ ë‹¤ì‹œ ë³´ê³  ì˜¤ì„¸ìš”!)

### 1-1. í™˜ê²½ ì„¤ì • (Micro-Process)

1.  **Node.js ì„¤ì¹˜**: `v22.12.0` ì´ìƒ í•„ìˆ˜.
    *   **ì„¤ëª…**: Node.jsëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ê¸°ë¡œ, ê±´ì„¤ í˜„ì¥ì˜ **ì‘ì—…ì**ì™€ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤. ìµœì‹  LTS(Long Term Support, ì¥ê¸° ì§€ì›) ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” **ë¹„ë™ê¸° I/O(ì…ì¶œë ¥)** ì²˜ë¦¬ê°€ í•µì‹¬ì¸ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ì— ìµœì í™”ë˜ì–´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
    *   **ì„¤ì¹˜ ë°©ë²• (OSë³„ ê°€ì´ë“œ)**:
        *   **ğŸªŸ Windows**: [ê³µì‹ í™ˆí˜ì´ì§€](https://nodejs.org/) (https://nodejs.org/) ì—ì„œ **LTS ë²„ì „(v22.x)** ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜í•©ë‹ˆë‹¤. (`Next`ë§Œ ê³„ì† ëˆ„ë¥´ë©´ ë©ë‹ˆë‹¤)
        *   **ğŸ Mac**: í„°ë¯¸ë„ì— `brew install node@22` ì…ë ¥. (Homebrewê°€ ì—†ë‹¤ë©´ [ì—¬ê¸°](https://brew.sh/index_ko) (https://brew.sh/index_ko) ì°¸ì¡°)
        *   **ğŸ§ Linux**: `curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash - && sudo apt-get install -y nodejs`


    > [!TIP]
    > **ğŸ“ [ê°œë… ìˆ˜ì—…] ë¹„ë™ê¸° I/O (Asynchronous I/O)ê°€ ë­”ê°€ìš”?**
    >
    > **"ë§›ì§‘ ì›¨ì´í„°ì˜ ì„œë¹™ ë°©ì‹"** ìœ¼ë¡œ ì´í•´í•˜ë©´ ì‰½ìŠµë‹ˆë‹¤.
    >
    > *   **ë™ê¸°(Synchronous = Blocking)**: ì›¨ì´í„°ê°€ ì†ë‹˜ 1ëª…ì—ê²Œ ì£¼ë¬¸ì„ ë°›ìŠµë‹ˆë‹¤. ì†ë‹˜ì´ "ìŒ... ë­ ë¨¹ì§€?" í•˜ê³  ê³ ë¯¼í•˜ëŠ” 5ë¶„ ë™ì•ˆ ì›¨ì´í„°ëŠ” **ì•„ë¬´ê²ƒë„ ì•ˆ í•˜ê³  ì˜†ì— ì„œ ìˆìŠµë‹ˆë‹¤.** ë‹¤ë¥¸ ì†ë‹˜ë“¤ì€ ê¸°ë‹¤ë¦¬ë‹¤ ì§€ì³ ë‚˜ê°‘ë‹ˆë‹¤.
    > *   **ë¹„ë™ê¸°(Asynchronous = Non-Blocking)**: ì›¨ì´í„°ê°€ ì£¼ë¬¸ì„ ë°›ë‹¤ê°€ ì†ë‹˜ì´ ê³ ë¯¼í•˜ë©´ **"ê²°ì •ë˜ì‹œë©´ ë²¨ ëˆŒëŸ¬ì£¼ì„¸ìš”"** í•˜ê³  **ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ ê°€ì„œ ì¼ì„ í•©ë‹ˆë‹¤.** ê·¸ëŸ¬ë‹¤ ë²¨ì´ ìš¸ë¦¬ë©´(ì´ë²¤íŠ¸ ë°œìƒ) ë‹¤ì‹œ ì™€ì„œ ì£¼ë¬¸ì„ ë°›ìŠµë‹ˆë‹¤.
    >
    > **Why?**: OpenClaw ê²Œì´íŠ¸ì›¨ì´ëŠ” ìˆ˜ì²œ ëª…ì˜ ì‚¬ìš©ìê°€ ë™ì‹œì— ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. í•œ ëª… ë©”ì‹œì§€ ì²˜ë¦¬í•˜ëŠë¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ê¸°ë‹¤ë¦¬ê²Œ í•˜ë©´ ì•ˆ ë˜ê² ì£ ? ê·¸ë˜ì„œ Node.jsì˜ ë¹„ë™ê¸° ë°©ì‹ì´ í•„ìˆ˜ì…ë‹ˆë‹¤.
2.  **Language: TypeScript (^5.9.3)**:
    *   **ì„¤ëª…**: TypeScript(íƒ€ì…ìŠ¤í¬ë¦½íŠ¸)ëŠ” ê±°ëŒ€í•œ ëª¨ë…¸ë ˆí¬(Monorepo, ë‹¨ì¼ ì €ì¥ì†Œ) í”„ë¡œì íŠ¸ì˜ íƒ€ì… ì•ˆì •ì„±ì„ ë³´ì¥í•˜ëŠ” ì—„ê²©í•œ ë¬¸ë²• ê²€ì‚¬ê¸°ì…ë‹ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì„¤ê³„ê°€ í•„ìˆ˜ì ì¸ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ íƒ€ì… ì˜¤ë¥˜ë¥¼ ì‚¬ì „ì— ë°©ì§€í•©ë‹ˆë‹¤.
    *   **ì„¤ì¹˜ ë°©ë²•**: ìœˆë„ìš°/ë§¥ ê³µí†µ í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.
        ```bash
        npm install -g typescript
        # ì„¤ì¹˜ í™•ì¸
        tsc -v
        ```
    *   **ì€ìœ  (Metaphor)**: **"ì² ì €í•œ ì„¤ê³„ë„ ê°ë¦¬ì‚¬"**. 
        *   ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ "ì¼ë‹¨ ê±´ë¬¼ì„ ì§“ê³  ë‚˜ì¤‘ì— ë¬´ë„ˆì§€ë©´ ê³ ì¹˜ì"ëŠ” ì‹ì´ë¼ë©´, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” **"ë²½ëŒ í•˜ë‚˜ë¥¼ ìŒ“ì„ ë•Œë§ˆë‹¤ ì„¤ê³„ë„(Type)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸"** í•©ë‹ˆë‹¤. ì¡°ê¸ˆ ê·€ì°®ì„ ìˆ˜ ìˆì§€ë§Œ, ë‚˜ì¤‘ì— ê±´ë¬¼ì´ ë¬´ë„ˆì§€ëŠ”(ëŸ°íƒ€ì„ ì—ëŸ¬) ëŒ€í˜• ì‚¬ê³ ë¥¼ 99% ë§‰ì•„ì¤ë‹ˆë‹¤.
    *   **ì‹¤ì‚¬ìš© ì˜ˆì œ (Concept Class)**: 
        *   **ìë°”ìŠ¤í¬ë¦½íŠ¸ (ë¬´ì±…ì„)**: `[ì‚¬ê³¼] + 100 = "ì‚¬ê³¼100"` (ì´ìƒí•˜ì§€ë§Œ ì—ëŸ¬ ì—†ì´ ì§„í–‰ë¨)
        *   **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ (ì±…ì„ê°)**: **"ì ê¹! ê³¼ì¼(String)ì— ìˆ«ì(Number)ë¥¼ ë”í•˜ë‹¤ë‹ˆìš”? ë§ë„ ì•ˆ ë©ë‹ˆë‹¤!"** í•˜ê³  ë¹¨ê°„ ì¤„ì„ ì«™ ê·¸ì–´ì¤ë‹ˆë‹¤.

    ---

3.  **pnpm ì„¤ì¹˜**: `npm install -g pnpm@10.23.0`.

    ---
    
    ### ğŸš¨ [ì´ˆë³´ìë¥¼ ìœ„í•œ ê°€ì´ë“œ] ì™œ npm ëŒ€ì‹  pnpmì„ ì“°ëŠ”ê°€? (The Revolution of pnpm)
    
    "npmë„ ì˜ ë˜ëŠ”ë° êµ³ì´ ì™œ ì´ê±¸ ë˜ ê¹”ì•„ì•¼ í•˜ë‚˜ìš”?" ë¼ëŠ” ì§ˆë¬¸ì€ ë§¤ìš° íƒ€ë‹¹í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ OpenClaw(Moltbot) ê°™ì€ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸(Monorepo)ì—ì„œ npmì„ ì“°ë©´ **ì¬ì•™**ì´ ë‹¥ì¹©ë‹ˆë‹¤.
    
    #### 1. ì€ìœ (Metaphor): ë„ì„œê´€ ì±… ë¹Œë¦¬ê¸°
    *   **npm (ë¹„íš¨ìœ¨ì˜ ëíŒì™•)**: í•™ìƒ 100ëª…ì´ "í•´ë¦¬í¬í„°" ì±…ì„ ì½ì–´ì•¼ í•œë‹¤ê³  í•©ì‹œë‹¤. npm ë°©ì‹ì€ **100ê¶Œì˜ ì±…ì„ ìƒˆë¡œ ì‚¬ì„œ ê° í•™ìƒì˜ ê°€ë°©ì— ë„£ì–´ì£¼ëŠ” ê²ƒ**ì…ë‹ˆë‹¤. ê°€ë°©(ë””ìŠ¤í¬)ì´ í„°ì§€ê³ , ì±…ê°’(ì„¤ì¹˜ ì‹œê°„)ì´ ì—„ì²­ ë“­ë‹ˆë‹¤.
    *   **pnpm (íš¨ìœ¨ì  ê³µìœ )**: í•™êµ ë„ì„œê´€ì— "í•´ë¦¬í¬í„°" **ë”± í•œ ê¶Œë§Œ** ì‚¬ë†“ìŠµë‹ˆë‹¤. í•™ìƒë“¤ì—ê²ŒëŠ” ì±… ìœ„ì¹˜ê°€ ì íŒ **ìª½ì§€(Symlink)** ë§Œ ì¤ë‹ˆë‹¤. ì½ì„ ë•ŒëŠ” ë„ì„œê´€ ì±…ì„ ì°¸ì¡°í•©ë‹ˆë‹¤. 100ëª…ì´ë“  1000ëª…ì´ë“  ì±…ì€ í•œ ê¶Œì´ë©´ ë©ë‹ˆë‹¤.
    
    #### 2. ì‹¤ì œ ì°¨ì´ (Real World Impact)
    *   OpenClaw(Moltbot) í”„ë¡œì íŠ¸ëŠ” ìˆ˜ë°± ê°œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì”ë‹ˆë‹¤.
    *   **npm ì‚¬ìš© ì‹œ**: í”„ë¡œì íŠ¸ë¥¼ ë³µì‚¬í•  ë•Œë§ˆë‹¤ 1GBê°€ ë„˜ëŠ” `node_modules` í´ë”ê°€ ê³„ì† ë³µì œë©ë‹ˆë‹¤. í•˜ë“œë””ìŠ¤í¬ê°€ ìˆœì‹ê°„ì— ê½‰ ì°¹ë‹ˆë‹¤.
    *   **pnpm ì‚¬ìš© ì‹œ**: 100ê°œë¥¼ ë³µì‚¬í•´ë„ ìš©ëŸ‰ì€ ê±°ì˜ ëŠ˜ì–´ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (Content Addressable Store ë°©ì‹)
    
    #### 3. ê²°ì •ì  ì´ìœ  (Killer Feature): ì—„ê²©í•¨(Strictness)
    *   **npmì˜ ìœ ë ¹(Phantom Dependencies)**: npmì€ ë‚´ê°€ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì‹¤ìˆ˜ë¡œ ì“¸ ìˆ˜ ìˆê²Œ í—ˆìš©í•˜ëŠ” ë²„ê·¸(í˜¹ì€ ê´€ëŒ€í•¨)ê°€ ìˆìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë°°í¬í•  ë•Œ "ì–´? ë‚´ ì»´í“¨í„°ì—ì„  ë˜ëŠ”ë° ì„œë²„ì—ì„  ì•ˆ ë¼ìš”!" í•˜ëŠ” ì§€ì˜¥ì„ ë§›ë³´ê²Œ ë©ë‹ˆë‹¤.
    *   **pnpm**: ë‚´ê°€ `package.json`ì— ëª…ì‹œí•œ ê²ƒë§Œ ì •í™•íˆ ì“¸ ìˆ˜ ìˆê²Œ ë§‰ì•„ì¤ë‹ˆë‹¤. **"ì •ì˜ë˜ì§€ ì•Šì€ ê²ƒì€ ì—†ë‹¤"** ëŠ” ì² í•™ì…ë‹ˆë‹¤.
    
    ---

    ### ğŸ›‘ [ì—¬ê¸°ì„œ ì ê¹] npmì´ ë„ëŒ€ì²´ ë­”ê°€ìš”? (What is npm?)

    "ê°œë°œìë“¤ì€ ì™œ ìê¾¸ `npm npm` ê±°ë¦¬ëŠ” ê±¸ê¹Œìš”?"

    #### 1. ì€ìœ (Metaphor): ê°œë°œìë“¤ì˜ "ì•±ìŠ¤í† ì–´" í˜¹ì€ "ë‹¤ì´ì†Œ"
    *   **ì•„ì´í° ì•±ìŠ¤í† ì–´**: ì¹´ì¹´ì˜¤í†¡ì´ í•„ìš”í•˜ë©´ ìš°ë¦¬ê°€ ì§ì ‘ ì½”ë”©í•´ì„œ ë§Œë“¤ì§€ ì•Šì£ ? **ì•±ìŠ¤í† ì–´**ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.
    *   **npm (Node Package Manager)**: ê°œë°œí•  ë•Œ "ë‹¬ë ¥ ê¸°ëŠ¥"ì´ë‚˜ "ì•”í˜¸í™” ê¸°ëŠ¥"ì´ í•„ìš”í•˜ë©´ ì§ì ‘ ì§œì§€ ì•Šê³  **npm**ì´ë¼ëŠ” **ë¬´ë£Œ ë¶€í’ˆ ìƒì **ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.
    
    #### 2. ë ˆê³  ë¸”ë¡ (Lego Blocks)
    *   ì—¬ëŸ¬ë¶„ì´ **"ì„±(Castle)"** ì„ ë§Œë“ ë‹¤ê³  ìƒìƒí•´ ë³´ì„¸ìš”.
    *   í”Œë¼ìŠ¤í‹±ì„ ë…¹ì—¬ì„œ ë¸”ë¡ í•˜ë‚˜í•˜ë‚˜ë¥¼ ì§ì ‘ ë§Œë“œëŠ” ê±´ ë¯¸ì¹œ ì§“ì…ë‹ˆë‹¤. (ì´ê²Œ npm ì—†ì´ ê°œë°œí•˜ëŠ” ê²ƒ)
    *   npmì€ **"ë¬¸", "ì°½ë¬¸", "ì„±ë²½" ë¸”ë¡ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ íŒŒëŠ” ê°€ê²Œ**ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” `npm install castle-wall` ëª…ë ¹ì–´ í•œ ì¤„ë¡œ ì„±ë²½ ë¸”ë¡ì„ ê°€ì ¸ì™€ì„œ ì¡°ë¦½ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.
    
    #### 3. ì‚¬ìš©í•˜ëŠ” ì´ìœ  (Why?)
    *   **ì‹œê°„ ì ˆì•½**: ë‚¨ë“¤ì´ 10ë…„ ë™ì•ˆ ë§Œë“  ê²€ì¦ëœ ì½”ë“œë¥¼ 1ì´ˆ ë§Œì— ê°€ì ¸ì™€ ì”ë‹ˆë‹¤.
    *   **ê²€ì¦ëœ í’ˆì§ˆ**: ì „ ì„¸ê³„ ìˆ˜ë°±ë§Œ ëª…ì´ ê°™ì´ ê³ ì³ë‚˜ê°€ëŠ” ì½”ë“œë¼ì„œ, ë‚´ê°€ ì§  ì½”ë“œë³´ë‹¤ íŠ¼íŠ¼í•  í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤.

    #### 4. ì‚¬ìš© ë°©ë²• (How?)
    í„°ë¯¸ë„ì— ì£¼ë¬¸ì„ ì™¸ìš°ë©´ ë©ë‹ˆë‹¤.
    ![í„°ë¯¸ë„ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì˜ˆì‹œ](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/terminal_install_demo_1770239070407.png)
    *   `npm install [ë¶€í’ˆì´ë¦„]`: "ì´ ë¶€í’ˆ ìš°ë¦¬ ì§‘(í”„ë¡œì íŠ¸)ì— ë°°ë‹¬í•´ ì¤˜."
    *   `pnpm install`: "ì´ ë¶€í’ˆ ë°°ë‹¬í•´ ì£¼ëŠ”ë°, ì•„ê¹Œ ë§í–ˆë“¯ì´ ë” íš¨ìœ¨ì ìœ¼ë¡œ(ë„ì„œê´€ ë°©ì‹) ë°°ë‹¬í•´ ì¤˜."
    
    ---

4.  **í”„ë¡œì íŠ¸ ìƒì„± (ì§‘í„° ë‹¦ê¸°)**:

    1.  ë¨¼ì € ì»´í“¨í„° í•˜ë“œë””ìŠ¤í¬(Cë“œë¼ì´ë¸Œ í˜¹ì€ í™ˆ ë””ë ‰í† ë¦¬)ì— `Workspace`ë¼ëŠ” ì´ë¦„ì˜ í´ë”ë¥¼ ë§Œë“œì„¸ìš”.
    2.  ê·¸ `Workspace` í´ë” ì•ˆì— ë“¤ì–´ê°€ì„œ, ë‹¤ì‹œ `openclaw-lab`ì´ë¼ëŠ” ìƒˆ í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.
        *   êµ¬ì¡°: `ë‚´ ì»´í“¨í„°` -> `Workspace` -> `openclaw-lab`
    
    ````carousel
    ![Windows í„°ë¯¸ë„ êµ¬ì¡° (C:\Workspace\openclaw-lab)](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/windows_workspace_path_1770239153458.png)
    <!-- slide -->
    ![Mac í„°ë¯¸ë„ êµ¬ì¡° (~/Workspace/openclaw-lab)](/Users/sl/.gemini/antigravity/brain/3a03bc00-8039-4d00-91a0-4805dd698fa4/mac_workspace_path_1770239167630.png)
    ````
    3.  í„°ë¯¸ë„ì—ì„œ í•´ë‹¹ í´ë”ë¡œ ì´ë™í•œ ë’¤, ì •ë³´ë¥¼ ê¸°ì…í•©ë‹ˆë‹¤.
        ```bash
        cd ~/Workspace/openclaw-lab
        pnpm init
        ```

    > [!TIP]
    > **ğŸ’¡ [Coach's Tip] ì™œ êµ³ì´ `Workspace` í´ë”ë¥¼ ë§Œë“œë‚˜ìš”?**
    >
    > ê°œë°œì„ í•˜ë‹¤ ë³´ë©´ "ì–´? ì œ íŒŒì¼ ì–´ë”” ê°”ì£ ?" í•˜ê³  ê¸¸ì„ ìƒëŠ” ê²½ìš°ê°€ ì •ë§ ë§ìŠµë‹ˆë‹¤.
    > ìœˆë„ìš°(Cë“œë¼ì´ë¸Œ) ì‚¬ìš©ì, ë§¥(í™ˆ) ì‚¬ìš©ì ëª¨ë‘ **`Workspace`ë¼ëŠ” ê³µí†µëœ ì•½ì† ì¥ì†Œ**ë¥¼ ì •í•´ë‘ë©´, ë‚˜ì¤‘ì— "ê²½ë¡œë¥¼ ëª» ì°¾ê² ì–´ìš”" ê°™ì€ ë¬¸ì œë¥¼ 99% ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì „ ì„¸ê³„ ê°œë°œìë“¤ì˜ **'êµ­ë£°(ë¶ˆë¬¸ìœ¨)'** ê°™ì€ ìŠµê´€ì´ë©°, ê²½ë¡œ ë¬¸ì œë¡œ í—·ê°ˆë¦´ ì¼ì„ ì›ì²œ ë´‰ì‡„í•´ ì¤ë‹ˆë‹¤.

---

### ğŸš¨ [ì´ˆë³´ìë¥¼ ìœ„í•œ ê°€ì´ë“œ] ì™œ ì½”ë“œë¥¼ ì§œê¸° ì „ì— `tsconfig.json` ë¶€í„° ê±´ë“œë¦¬ëŠ”ê°€?

ë§ì€ ë¶„ë“¤ì´ *"ì¼ë‹¨ `server.ts` íŒŒì¼ ë§Œë“¤ê³  ì½”ë“œë¶€í„° ì¹˜ë©´ ì•ˆ ë˜ë‚˜ìš”?"* ë¼ê³  ë¬»ìŠµë‹ˆë‹¤. ê²°ë¡ ë¶€í„° ë§í•˜ë©´, **OpenClaw(Moltbot) ê°™ì€ ê±°ëŒ€í•œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.** ê·¸ ì´ìœ ë¥¼ ì•„ì£¼ ì‰½ê²Œ ì„¤ëª…í•´ ë“œë¦½ë‹ˆë‹¤.

#### 1. ì€ìœ (Metaphor): ê±´ë¬¼ì„ ì§“ê¸° ì „ì˜ "í† ì§€ ìš©ë„ ë³€ê²½"
*   **ì¼ë°˜ì ì¸ ì½”ë”© (HTML/JS)**: ë§¨ë•…ì— í…íŠ¸ë¥¼ ì¹˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ê·¸ëƒ¥ í´ëŒ€(`index.html`) ê½‚ê³  ì²œ(`script.js`) ë®ìœ¼ë©´ ì§‘ì´ ë©ë‹ˆë‹¤. ê·œì¹™ì´ ì—†ì–´ë„ ë©ë‹ˆë‹¤.
*   **OpenClaw(Moltbot) (TS/ESM)**: 100ì¸µì§œë¦¬ ë§ˆì²œë£¨ë¥¼ ì§“ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ë•…ì„ íŒŒê¸° ì „ì— **"ì—¬ê¸°ëŠ” ìƒì—…ì§€êµ¬ì´ë©°, ë‚´ì§„ ì„¤ê³„ ê¸°ì¤€ì€ 7.0ì´ê³ , ì² ê·¼ì€ KSê·œê²©ì„ ì¨ì•¼ í•œë‹¤"** ëŠ” **ë²•ì /í–‰ì •ì  í—ˆê°€(`tsconfig.json`)** ê°€ ë¨¼ì € ë–¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤. í—ˆê°€ì¦ ì—†ì´ ì² ê·¼(`import`)ì„ í•˜ë‚˜ë¼ë„ ì„¸ìš°ë©´ ê³µì‚¬ ì¤‘ì§€ ëª…ë ¹(`Syntax Error`)ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤.

#### 2. ë¹„êµ(Comparison): ë™ë„¤ ì¶•êµ¬ vs ì›”ë“œì»µ
*   **ë™ë„¤ ì¶•êµ¬ (Legacy JS Project)**: ì‹¬íŒë„ ì—†ê³  ê·œì¹™ë„ ëŒ€ì¶©ì…ë‹ˆë‹¤. "ì†ë§Œ ì•ˆ ì“°ë©´ ë¼." ë°”ë¡œ ê³µ ì°¨ë©´ ë©ë‹ˆë‹¤.
*   **ì›”ë“œì»µ (Modern TypeScript Project)**: ê²½ê¸° ì‹œì‘ ì „ì— "ì˜¤í”„ì‚¬ì´ë“œ ë°˜ì¹™ ê¸°ì¤€", "VAR íŒë… ì—¬ë¶€", "êµì²´ ì„ ìˆ˜ ìˆ«ì"ê°€ ë£°ë¶(`tsconfig.json`)ì— ì •ì˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. OpenClaw(Moltbot)ì€ ì›”ë“œì»µ ê²°ìŠ¹ì „ê¸‰ì˜ ì—„ê²©í•œ ê·œì¹™ í•˜ì— ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

#### 3. ì‹¤ì œ ì˜ˆì‹œ (Real World Scenario)
ë§Œì•½ ì„¤ì • ì—†ì´ ë°”ë¡œ ì½”ë“œë¥¼ ì§ ë‹¤ë©´?
*   **ê°œë°œì**: (ìì‹ ìˆê²Œ) `import { Server } from 'http';`
*   **ì»´í“¨í„°(Node.js)**: "ì ê¹, `import`ê°€ ë­ì£ ? ì €ëŠ” ì˜›ë‚  ë°©ì‹(`require`)ë°–ì— ëª¨ë¥´ëŠ”ë°ìš”?" -> **ì—ëŸ¬ ë°œìƒ (Crash)**
*   **ê°œë°œì**: (ë‹¹í™©í•˜ë©°) "ì–´? ìš”ì¦˜ ë‹¤ ì´ê±° ì“°ë˜ë°?"
*   **ì»´í“¨í„°**: "ê·¸ê±´ `tsconfig.json` ì´ë¼ëŠ” ë²ˆì—­ê¸°ê°€ ìˆì„ ë•Œ ì–˜ê¸°ì…ë‹ˆë‹¤. ì €í•œí…Œ ë¯¸ë¦¬ ì–¸ì§ˆì„ ì•ˆ ì£¼ì…¨ì–ì•„ìš”."

**ê²°ë¡ **: `tsconfig.json`ì„ ë¨¼ì € ë§Œë“œëŠ” ê²ƒì€ ì»´í“¨í„°ì—ê²Œ **"ì§€ê¸ˆë¶€í„° ìš°ë¦¬ëŠ” ìµœì‹  ìœ í–‰ì–´(ESM)ì™€ ì—„ê²©í•œ ë¬¸ë²•(TypeScript)ìœ¼ë¡œ ëŒ€í™”í•  ê±°ì•¼. ì¤€ë¹„í•´."** ë¼ê³  ì„ ì „í¬ê³ ë¥¼ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ í•©ì˜ê°€ ì—†ìœ¼ë©´ ë‹¨ í•œ ì¤„ì˜ ì½”ë“œë„ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    
    ---

    ### ğŸ› ï¸ [ì‹¤ì „ ê°€ì´ë“œ] ë‚´ ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œ `tsconfig.json` ë§Œë“¤ê¸° (ìë™ vs ìˆ˜ë™)
    
    "Moltbotì€ ëŒ€í˜• í”„ë¡œì íŠ¸ë¼ì„œ ì´ë¯¸ ìˆì—ˆì§€ë§Œ, **ë§¨ë•…ì—ì„œ ì‹œì‘í•˜ëŠ” ë‚˜ë§Œì˜ ì‘ì€ ì•±**ì€ ì–´ë–»ê²Œ í•˜ì£ ?"
    
    #### 1. ìë™ ìƒì„± (ê°€ì¥ ì¶”ì²œí•˜ëŠ” ì‹œì‘ë²•)
    í„°ë¯¸ë„ì— ë”± í•œ ì¤„ë§Œ ì…ë ¥í•˜ì„¸ìš”. TypeScript(tsc)ê°€ ì•Œì•„ì„œ "ê°€ì¥ í‘œì¤€ì ì¸" ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.
    
    ```bash
    npx tsc --init
    ```
    
    *   **ê²°ê³¼**: ìˆ˜ë§ì€ ì£¼ì„ì´ ë‹¬ë¦° `tsconfig.json` íŒŒì¼ì´ ë¿…! í•˜ê³  ìƒê¹ë‹ˆë‹¤.
    *   **ì¥ì **: ê° ì˜µì…˜ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì£¼ì„ìœ¼ë¡œ ë‹¤ ì„¤ëª…ë˜ì–´ ìˆì–´ì„œ ê³µë¶€í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. ë‚´ê°€ ëª°ëë˜ ì˜µì…˜ë“¤ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    #### 2. ìˆ˜ë™ ìƒì„± ë° ìˆ˜ì • (ì „ë¬¸ê°€ê°€ ë˜ëŠ” ê¸¸)
    ìë™ ìƒì„±ëœ íŒŒì¼ì€ "ë²”ìš©ì "ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ OpenClaw(Moltbot)ì²˜ëŸ¼ **ê³ ì„±ëŠ¥/ìµœì‹  ê¸°ìˆ **ì„ ì“°ë ¤ë©´ ëª‡ ê°€ì§€ë¥¼ ê³ ì³ì¤˜ì•¼ í•©ë‹ˆë‹¤.
    
    *   **ì–´ë””ì„œë¶€í„° ì‹œì‘í•˜ë‚˜ìš”?**: í”„ë¡œì íŠ¸ì˜ **ë£¨íŠ¸ ë””ë ‰í† ë¦¬** (package.jsonì´ ìˆëŠ” ê³³)ì— íŒŒì¼ì„ ë§Œë“œì„¸ìš”.
    *   **ë¬´ìŠ¨ ê·¼ê±°ë¡œ ê°’ì„ ì •í•˜ë‚˜ìš”? (The Rationale)**:
        1.  **`target` (ë¬¸ë²• ìˆ˜ì¤€)**: "ë‚´ ì„œë²„ì˜ Node.js ë²„ì „ì´ ëª‡ì¸ê°€?"
            *   Node 14 ì“°ë©´? -> `ES2020` (Node 14ê°€ ì•Œì•„ë“£ëŠ” í•œê³„)
            *   Node 20+ ì“°ë©´? -> `ES2022` (ìµœì‹  ê¸°ëŠ¥ ë‹¤ ì¨ë„ ë¨, ë¹ ë¦„)
        2.  **`module` (ì†Œí†µ ë°©ì‹)**: "ë‚˜ëŠ” ìµœì‹ ì‹ì¸ê°€, êµ¬ì‹ì¸ê°€?"
            *   ìš”ì¦˜ ëŒ€ì„¸ -> `NodeNext` (ESM ê¸°ë°˜, OpenClaw(Moltbot)ì´ ì“°ëŠ” ê²ƒ)
            *   ì˜›ë‚  í˜¸í™˜ -> `CommonJS`
        3.  **`strict` (ì—„ê²©í•¨)**: "ë¯¸ë˜ì˜ ë‚˜ë¥¼ ë¯¿ëŠ”ê°€?"
            *   `true`: "ë‚˜ëŠ” ë‚˜ë¥¼ ëª» ë¯¿ëŠ”ë‹¤. ì»´íŒŒì¼ëŸ¬ì•¼, ì¡°ê¸ˆì´ë¼ë„ ì´ìƒí•˜ë©´ ë‹¤ ì¡ì•„ë‚´ë¼." (**ê°•ë ¥ ì¶”ì²œ**, ë‚˜ì¤‘ì— í”„ë¡œì íŠ¸ ì»¤ì ¸ë„ ë¦¬íŒ©í† ë§ ë¹„ìš© 0ì›)
            *   `false`: "ê·€ì°®ì•„, ëŒ€ì¶© ì§œê³  ë‚˜ì¤‘ì— ê³ ì¹ ê²Œ." (ë‚˜ì¤‘ì— í”„ë¡œì íŠ¸ ì»¤ì§€ë©´ ì§€ì˜¥ í¼ì³ì§)

    **ìš”ì•½**: ì‘ì€ í”„ë¡œì íŠ¸ë¼ë„ `npx tsc --init`ìœ¼ë¡œ ì‹œì‘í•˜ê³ , `target: ES2022`, `module: NodeNext`, `strict: true` ì´ ì„¸ ê°€ì§€ë§Œ ì¼œì£¼ì„¸ìš”. ê·¸ëŸ¬ë©´ ë‚˜ì¤‘ì— êµ¬ê¸€, í˜ì´ìŠ¤ë¶ê¸‰ìœ¼ë¡œ í”„ë¡œì íŠ¸ê°€ ì»¤ì ¸ë„ ë„ë–¡ì—†ìŠµë‹ˆë‹¤.

    ---

5.  **TypeScript ì„¤ì • (`tsconfig.json`) - ì•„í‚¤í…ì²˜ ì‹¬ì¸µ ë¶„ì„**:

    ì´ ì„¤ì • íŒŒì¼ì€ í”„ë¡œì íŠ¸ì˜ **"ë²•ì „(å®ªæ³•)"**ê³¼ ê°™ìŠµë‹ˆë‹¤. ë‹¨ìˆœí•œ ì„¤ì •ì´ ì•„ë‹ˆë¼, ì´ í”„ë¡œì íŠ¸ê°€ **ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ìƒíƒœê³„(ESM)** ì—ì„œ ì–´ë–»ê²Œ ì‚´ì•„ë‚¨ì„ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

    *   **ì½”ë“œ (ì›ë³¸ Source Code)**:
        ```json
        {
          "compilerOptions": {
            "target": "ES2022",
            "module": "NodeNext",
            "moduleResolution": "NodeNext",
            "outDir": "dist",
            "rootDir": "src",
            "strict": true,
            "esModuleInterop": true,
            "forceConsistentCasingInFileNames": true,
            "skipLibCheck": true,
            "resolveJsonModule": true,
            "noEmitOnError": true,
            "allowSyntheticDefaultImports": true
          },
          "include": ["src/**/*"],
          "exclude": [
            "node_modules",
            "dist",
            "src/**/*.test.ts",
            "src/**/*.test.tsx",
            "src/**/test-helpers.ts"
          ]
        }
        ```

    *   **ğŸ”¬ ì´ˆì •ë°€ ë¶„ì„ (Micro-Analysis)**:

        *   **[1] `target`: "ES2022"**
            *   **ì˜ë¯¸**: "ê²°ê³¼ë¬¼(JS)ì´ 2022ë…„ë„ í‘œì¤€ ë¬¸ë²•ì„ ì‚¬ìš©í•´ë¼."
            *   **Why?**: Node.js 18+ ë²„ì „ë¶€í„°ëŠ” `Top-level await`(ë¹„ë™ê¸° í•¨ìˆ˜ ë°–ì—ì„œ await ì“°ê¸°), `Class properties` ê°™ì€ ìµœì‹  ê¸°ëŠ¥ì„ **ë„¤ì´í‹°ë¸Œ**ë¡œ ì§€ì›í•©ë‹ˆë‹¤. êµ³ì´ ì˜›ë‚  ë¬¸ë²•(ES5)ìœ¼ë¡œ ë°”êµ¬ë©´ ì½”ë“œê°€ ê¸¸ì–´ì§€ê³  ëŠë ¤ì§‘ë‹ˆë‹¤. ì„œë²„ ì „ìš© í”„ë¡œì íŠ¸ì´ë¯€ë¡œ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê±±ì • ì—†ì´ ìµœì‹  ë¬¸ë²•ì„ ì¨ì„œ **ì„±ëŠ¥ ìµœì í™”**ë¥¼ í•©ë‹ˆë‹¤.

        *   **[2] `module` & `moduleResolution`: "NodeNext" (â˜… ê°€ì¥ ì¤‘ìš”)**
            *   **ì˜ë¯¸**: "Node.jsì˜ ìµœì‹  ëª¨ë“ˆ í•´ì„ ê·œì¹™ì„ ì—„ê²©í•˜ê²Œ ë”°ë¼ë¼."
            *   **ë°°ê²½**: ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì—­ì‚¬ì ìœ¼ë¡œ `require()`ë¥¼ ì“°ëŠ” **CJS(CommonJS)** ì™€ `import`ë¥¼ ì“°ëŠ” **ESM(ECMAScript Modules)** ì§„ì˜ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì „ìŸ ì¤‘ì´ì—ˆìŠµë‹ˆë‹¤. ìµœì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤(Hono, Baileys, Chalk 5+)ì€ ì´ì œ **ESMë§Œ ì§€ì›(Pure ESM)** í•©ë‹ˆë‹¤.
            *   **Why?**: ë§Œì•½ ì´ ì„¤ì •ì„ ì•ˆ í•˜ë©´, `import { makeWASocket } from 'baileys'` í•  ë•Œ "ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"ë¼ëŠ” ì—ëŸ¬ê°€ í„°ì§‘ë‹ˆë‹¤. NodeNext ëª¨ë“œëŠ” `.ts` íŒŒì¼ì´ ì»´íŒŒì¼ë  ë•Œ í™•ì¥ìë¥¼ `.js`ë¡œ ë¶™ì¼ì§€ `.mjs`ë¡œ ë¶™ì¼ì§€, `package.json`ì˜ `exports` í•„ë“œë¥¼ ì–´ë–»ê²Œ ì½ì„ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. **ì´ê²ƒì´ ì—†ìœ¼ë©´ í”„ë¡œì íŠ¸ ìì²´ê°€ ì‹œì‘ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

        *   **[3] `strict`: true**
            *   **ì˜ë¯¸**: "ì¡°ê¸ˆì´ë¼ë„ ì• ë§¤í•˜ë©´ ì—ëŸ¬ë¥¼ ë±‰ì–´ë¼."
            *   **Why?**: `null`ì´ë‚˜ `undefined`ê°€ ë  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë¥¼ ì²´í¬ ì•ˆ í•˜ê³  ì“°ë©´ ëŸ°íƒ€ì„ì— ì„œë²„ê°€ ì£½ìŠµë‹ˆë‹¤. TypeScriptê°€ ì½”ë”© ë‹¨ê³„ì—ì„œ **"ë„ˆ ì´ê±° null ì¼ ìˆ˜ë„ ìˆì–´!"**ë¼ê³  ë©±ì‚´ì„ ì¡ê²Œ ë§Œë“œëŠ” ì„¤ì •ì…ë‹ˆë‹¤. ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì˜ **ì•ˆì „ë²¨íŠ¸**ì…ë‹ˆë‹¤.

        *   **[4] `outDir`: "./dist"**
            *   **ì˜ë¯¸**: "ë²ˆì—­ëœ JS íŒŒì¼ì€ `dist` í´ë”ì— ëª°ì•„ ë„£ì–´ë¼."
            *   **êµ¬ì¡°ì  ì´ìœ **: ì†ŒìŠ¤(`src`)ì™€ ê²°ê³¼ë¬¼(`dist`)ì„ ë¶„ë¦¬í•´ì•¼, ë‚˜ì¤‘ì— Docker ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ ë•Œ `dist`ë§Œ ì™ ë³µì‚¬í•´ì„œ ë°°í¬í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤. (ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”)

    *   **ğŸš¦ ì‹œì‘ì (Entry Point)ê³¼ì˜ ì—°ê²°**:
        ì´ ì„¤ì •ì€ `package.json`ì˜ `"type": "module"` ì„¤ì •ê³¼ ì„¸íŠ¸ì…ë‹ˆë‹¤.
        1.  Node.jsê°€ ì‹¤í–‰ë˜ë©´ `package.json`ì„ ë³´ê³  "ì•„, ì´ í”„ë¡œì íŠ¸ëŠ” ESMì´êµ¬ë‚˜"ë¼ê³  ì¸ì‹í•©ë‹ˆë‹¤.
        2.  `tsconfig.json`ì˜ `NodeNext` ê·œì¹™ì— ë”°ë¼ `import` êµ¬ë¬¸ì„ í•´ì„í•©ë‹ˆë‹¤.
        3.  `server.ts`ì—ì„œ `Hono`ë¥¼ import í•  ë•Œ, `node_modules/hono/dist/index.mjs`ë¥¼ ì •í™•íˆ ì°¾ì•„ëƒ…ë‹ˆë‹¤.


---

## 2. Gateway Server êµ¬ì¶• (The Nervous System)

GatewayëŠ” ë‹¨ìˆœí•œ ì„œë²„ê°€ ì•„ë‹™ë‹ˆë‹¤. ëª¨ë“  ë°ì´í„°(ë©”ì‹œì§€, ëª…ë ¹)ê°€ ì§€ë‚˜ê°€ëŠ” **ê³ ì†ë„ë¡œì´ì, ì‹œìŠ¤í…œì˜ ì¤‘ì¶” ì‹ ê²½ë§**ì…ë‹ˆë‹¤.

### 2-0. [ì‹¬ì¸µ ë¶„ì„] ì™œ êµ³ì´ "Gateway" êµ¬ì¡°ë¥¼ ì„ íƒí–ˆëŠ”ê°€? (Developer's Intent)

ê°œë°œìê°€ ë‹¨ìˆœíˆ API ì„œë²„ë¥¼ ë§Œë“¤ì§€ ì•Šê³  `Gateway` íŒ¨í„´ì„ ë„ì…í•œ ë°ì—ëŠ” ëª…í™•í•œ **ê±´ì¶•í•™ì  ì˜ë„(Architectural Intent)** ê°€ ìˆìŠµë‹ˆë‹¤.

1.  **ì¶”ìƒí™”ì™€ í†µì¼ (The Universal Translator)**:
    *   **ë¬¸ì œ**: WhatsAppì€ `JID`ë¥¼ ì“°ê³ , Slackì€ `channel_id`ë¥¼ ì“°ê³ , Telegramì€ `chat_id`ë¥¼ ì”ë‹ˆë‹¤. ë©”ì‹œì§€ í¬ë§·ë„ ì œê°ê°(JSON êµ¬ì¡° ìƒì´)ì…ë‹ˆë‹¤. ì—ì´ì „íŠ¸(LLM)ê°€ ì´ ëª¨ë“  ì°¨ì´ë¥¼ ì•Œê²Œ í•˜ë©´ ì½”ë“œê°€ ì§€ì˜¥ì´ ë©ë‹ˆë‹¤.
    *   **í•´ê²°**: GatewayëŠ” ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì„ **"í‘œì¤€í™”ëœ ë‚´ë¶€ ì´ë²¤íŠ¸(Normalized Events)"** ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì—ì´ì „íŠ¸ëŠ” ìƒëŒ€ë°©ì´ WhatsAppì¸ì§€ ìŠ¬ë™ì¸ì§€ ì•Œ í•„ìš” ì—†ì´ ì˜¤ì§ **"ë©”ì‹œì§€ê°€ ì™”ë‹¤"** ëŠ” ì‚¬ì‹¤ë§Œ ì²˜ë¦¬í•˜ë©´ ë©ë‹ˆë‹¤.

    > [!NOTE]
    > **ğŸ“ ê°œë… ìˆ˜ì—…: ì¶”ìƒí™”(Abstraction)ê°€ ë„ëŒ€ì²´ ë­”ê°€ìš”?**
    >
    > "ì¶”ìƒí™”"ë¼ëŠ” ë§ì´ ì–´ë µê²Œ ëŠê»´ì§€ì‹œë‚˜ìš”? ì‚¬ì‹¤ ìš°ë¦¬ëŠ” íƒœì–´ë‚  ë•Œë¶€í„° ì¶”ìƒí™”ë¥¼ í•˜ë©° ì‚´ê³  ìˆìŠµë‹ˆë‹¤.
    >
    > **1. ì •ì˜ (Definition)**
    > *   **ì‚¬ì „ì  ì˜ë¯¸**: ì¤‘ìš”í•œ íŠ¹ì§•ë§Œ ë‚¨ê¸°ê³ , ë¶ˆí•„ìš”í•œ ì„¸ë¶€ ì‚¬í•­ì„ ì§€ìš°ëŠ” ê²ƒ.
    > *   **ì½”ë”©ì  ì˜ë¯¸**: **"ë³µì¡í•œ ë‚´ë¶€ ì›ë¦¬ëŠ” ìˆ¨ê¸°ê³ , ë‹¨ìˆœí•œ ì‚¬ìš©ë²•(ë²„íŠ¼)ë§Œ ë…¸ì¶œí•˜ëŠ” ê²ƒ"**
    >
    > **2. ì€ìœ  (Metaphor): ìë™ì°¨ ìš´ì „**
    > *   **êµ¬ì²´í™” (Anti-Abstraction)**: ì—‘ì…€ì„ ë°Ÿì„ ë•Œë§ˆë‹¤ "ì—°ë£Œ ë°¸ë¸Œë¥¼ 30ë„ ì—´ê³ , ê³µê¸° í¡ì…ëŸ‰ì„ 10% ëŠ˜ë¦¬ê³ , ìŠ¤íŒŒí¬ í”ŒëŸ¬ê·¸ë¥¼ ì í™”í•´ë¼"ë¼ê³  ì§ì ‘ ê¸°ê³„ ì¡°ì‘ì„ í•´ì•¼ í•œë‹¤ë©´? ì•„ë¬´ë„ ìš´ì „ì„ ëª» í•  ê²ë‹ˆë‹¤.
    > *   **ì¶”ìƒí™” (Abstraction)**: ê·¸ëƒ¥ **"ì˜¤ë¥¸ìª½ í˜ë‹¬ì„ ë°Ÿìœ¼ë©´ -> ì•ìœ¼ë¡œ ê°„ë‹¤"** ë¼ëŠ” ì‚¬ì‹¤ë§Œ ì•Œë©´ ë©ë‹ˆë‹¤. ë‚´ë¶€ ì—”ì§„ì´ íœ˜ë°œìœ ì¸ì§€ ì „ê¸°ì¸ì§€ëŠ” ëª°ë¼ë„ ë©ë‹ˆë‹¤. ì´ "í˜ë‹¬"ì´ ë°”ë¡œ ì¶”ìƒí™”ì˜ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤.
    >
    > **3. ì½”ë“œ ì˜ˆì‹œ (Code Example)**
    > *   **ë‚˜ìœ ì½”ë“œ (êµ¬ì²´ì )**: ì»¤í”¼ íƒ€ëŠ” ê³¼ì •ì„ ì¼ì¼ì´ ë‹¤ ì ìŒ.
    >     ```javascript
    >     // ë¬¼ ë“ì´ê¸°
    >     water.temperature = 100;
    >     // ì›ë‘ ê°ˆê¸°
    >     beans.grind();
    >     // ë‚´ë¦¬ê¸°
    >     filter.pour(water);
    >     // ì»µì— ë‹´ê¸°
    >     cup.fill();
    >     ```
    > *   **ì¢‹ì€ ì½”ë“œ (ì¶”ìƒí™”)**: "ì»¤í”¼ ì£¼ì„¸ìš”" í•œ ë§ˆë””ë©´ ë¨.
    >     ```javascript
    >     makeCoffee(); // ë. (ë‚´ë¶€ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ëŠ” ì´ í•¨ìˆ˜ë¥¼ ë§Œë“  ì‚¬ëŒë§Œ ì•Œë©´ ë¨)
    >     ```
    >
    > **4. ê°œë°œìì˜ ì§€ì¹¨ (Guideline)**
    > ì•ìœ¼ë¡œ ì½”ë“œë¥¼ ì§¤ ë•Œ í•­ìƒ ìŠ¤ìŠ¤ë¡œì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”.
    > **"ë‚´ê°€ ë§Œë“  ì´ ì½”ë“œë¥¼ ì“¸ ë™ë£Œ(í˜¹ì€ ë¯¸ë˜ì˜ ë‚˜)ì—ê²Œ ì´ ë³µì¡í•œ ê³¼ì •ì„ ë‹¤ ì„¤ëª…í•´ì•¼ í•˜ë‚˜? ì•„ë‹ˆë©´ ë²„íŠ¼ í•˜ë‚˜(`startGatewayServer`)ë§Œ ì¥ì—¬ì£¼ë©´ ë˜ë‚˜?"**
    >
    > ë²„íŠ¼ í•˜ë‚˜ë§Œ ì¥ì—¬ì£¼ëŠ” ê²ƒ, ê·¸ê²ƒì´ ë°”ë¡œ **"ì¶”ìƒí™”ë¥¼ ì˜í•˜ëŠ” ê°œë°œì"** ì…ë‹ˆë‹¤.

2.  **ê²°í•©ë„ ê°ì†Œ (Decoupling)**:
    *   **ì˜ë„**: "ë‡Œ(Agent)"ì™€ "ì…/ê·€(Channel)"ë¥¼ ì™„ë²½í•˜ê²Œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
    *   **íš¨ê³¼**: ë‚˜ì¤‘ì— `Discord` ì±„ë„ì„ ì¶”ê°€í•˜ê³  ì‹¶ì„ ë•Œ, Gatewayì— í”ŒëŸ¬ê·¸ì¸ë§Œ ë¼ìš°ë©´ ë©ë‹ˆë‹¤. ì—ì´ì „íŠ¸ ì½”ë“œëŠ” ë‹¨ í•œ ì¤„ë„ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ê²ƒì´ **Micro-Kernel ì•„í‚¤í…ì²˜**ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

3.  **ìƒíƒœ ë° ì„¸ì…˜ ì¤‘ì•™ ê´€ë¦¬ (Centralized State)**:
    *   LLMì€ "ê¸°ì–µ"ì´ ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ìì˜ ëŒ€í™” ë§¥ë½(Context)ì„ ì €ì¥í•˜ê³ , ì ì ˆí•œ ì‹œì ì— ì˜ë¼ì„œ(Pruning) LLMì— ë„£ì–´ì£¼ëŠ” **ê¸°ì–µ ê´€ë¦¬ì ì—­í• **ì„ Gatewayê°€ ì¤‘ì•™ í†µì œí•©ë‹ˆë‹¤.

### 2-0-1. [ë¹„êµ ë¶„ì„] ê²Œì´íŠ¸ì›¨ì´ ë§ê³  ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ë‚˜ìš”? (Architectural Alternatives)

"ê¼­ ì´ë ‡ê²Œ ë³µì¡í•˜ê²Œ í•´ì•¼ í•˜ë‚˜ìš”? ë” ì‰¬ìš´ ë°©ë²•ì€ ì—†ë‚˜ìš”?"

#### 1. ëª¨ë†€ë¦¬ì‹ (Monolithic) - "ì›ë§¨ë°´ë“œ ìŠ¤íƒ€ì¼"
*   **ë°©ì‹**: `server.ts` íŒŒì¼ í•˜ë‚˜ì— WhatsApp ì½”ë“œ, LLM ì½”ë“œ, ì›¹ì‚¬ì´íŠ¸ ì½”ë“œë¥¼ ë‹¤ ë•Œë ¤ ë„£ëŠ” ë°©ì‹.
*   **ì€ìœ (Metaphor)**: **ë¶ ì¹˜ê³  ì¥êµ¬ ì¹˜ëŠ” 1ì¸ ì„œì»¤ìŠ¤ë‹¨**. í˜¼ìì„œ ë‹¤ í•˜ë‹ˆê¹Œ í•©ì„ ë§ì¶œ í•„ìš”ê°€ ì—†ì–´ ì‹œì‘ì€ ë¹ ë¦…ë‹ˆë‹¤.
*   **ë¬¸ì œì **: "í”¼ì•„ë…¸(Discord)"ë¥¼ ì¶”ê°€í•˜ë ¤ë©´? ì„œì»¤ìŠ¤ë‹¨ì› ì „ì²´ê°€ ì•…ê¸° ë°°ìš°ëŠë¼ ê³µì—°ì„ ë©ˆì¶°ì•¼ í•©ë‹ˆë‹¤. ì½”ë“œê°€ 3,000ì¤„ ë„˜ì–´ê°€ë©´ ë³¸ì¸ë„ ëª» ì•Œì•„ë´…ë‹ˆë‹¤.

#### 2. ì§ì ‘ ì—°ê²° (Point-to-Point) - "ì¹µí…Œì¼ íŒŒí‹° ìŠ¤íƒ€ì¼"
*   **ë°©ì‹**: AI ì—ì´ì „íŠ¸ê°€ WhatsApp ì„œë²„, Slack ì„œë²„, Telegram ì„œë²„ì— ê°ê° ë”°ë¡œë”°ë¡œ ë§ì„ ê±°ëŠ” ë°©ì‹.
*   **ì€ìœ (Metaphor)**: **í†µì—­ì‚¬ ì—†ëŠ” êµ­ì œì‹œì¥**. AIê°€ ë…ì¼ì–´(WhatsApp), ì˜ì–´(Slack), ëŸ¬ì‹œì•„ì–´(Telegram)ë¥¼ ë‹¤ ë°°ì›Œì•¼ í•©ë‹ˆë‹¤.
*   **ë¬¸ì œì **: ì¹´ì¹´ì˜¤í†¡ í•˜ë‚˜ ì¶”ê°€í•  ë•Œë§ˆë‹¤ AI ë‡Œìˆ˜ìˆ ì„ ë‹¤ì‹œ í•´ì•¼ í•©ë‹ˆë‹¤. (ìœ ì§€ë³´ìˆ˜ ì§€ì˜¥)

#### 3. ê²Œì´íŠ¸ì›¨ì´ (Gateway) - "ì¸ì²œê³µí•­ ìŠ¤íƒ€ì¼" (ìš°ë¦¬ì˜ ì„ íƒ)
*   **ë°©ì‹**: ëª¨ë“  ì†ë‹˜(ë©”ì‹œì§€)ì€ ì¼ë‹¨ ê³µí•­(Gateway)ìœ¼ë¡œ ì˜µë‹ˆë‹¤. ê³µí•­ì—ì„œ ê²€ì—­(Validation)í•˜ê³ , í‘œì¤€ ë¹„ì(Standardized Event)ë¥¼ ë°œê¸‰í•´ì„œ ì…êµ­ì‹œí‚µë‹ˆë‹¤.
*   **ìŠ¹ë¦¬ ìš”ì¸**: AIëŠ” "ê³µí•­ì—ì„œ ì˜¨ ì†ë‹˜"ë§Œ ìƒëŒ€í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ ì†ë‹˜ì´ ë¯¸êµ­ì—ì„œ ì™”ë“  ë‹¬ë‚˜ë¼ì—ì„œ ì™”ë“  ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. **ì´ê²ƒì´ 100ë…„ ê°€ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë¹„ë°€ì…ë‹ˆë‹¤.**

### 2-0-2. [êµ¬ì¡°ë„] Gateway í•´ë¶€ë„ ë° ì¡°ë¦½ ìˆœì„œ (Gateway Anatomy)

"íŒŒì¼ì´ ë„ˆë¬´ ë§ì•„ìš”! ì–´ë””ì„œë¶€í„° ê±´ë“œë ¤ì•¼ í•˜ì£ ?"
ê±±ì • ë§ˆì„¸ìš”. 100ê°œê°€ ë„˜ëŠ” íŒŒì¼ ì¤‘, **í•µì‹¬ ì¥ê¸°(Core Organs)** 5ê°œë§Œ ì•Œë©´ ì‚´ì•„ìˆëŠ” ì„œë²„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 1. í•µì‹¬ íŒŒì¼ êµ¬ì¡° (The Skeleton)
```text
src/gateway/
â”œâ”€â”€ server.ts              # [1] ì–¼êµ´ (Face): ì™¸ë¶€ì—ì„œ ë¶€ë¥´ëŠ” ì´ë¦„í‘œ (Entry Point)
â”œâ”€â”€ server.impl.ts         # [2] ë‡Œ (Brain): ëª¨ë“  ì¥ê¸°ë¥¼ ì—°ê²°í•˜ê³  ëª…ë ¹ì„ ë‚´ë¦¬ëŠ” ê³³
â”œâ”€â”€ server-http.ts         # [3] ì… (Mouth): HTTP ìš”ì²­(ì›¹ì‚¬ì´íŠ¸ ì ‘ì†)ì„ ì²˜ë¦¬
â”œâ”€â”€ server-ws-runtime.ts   # [4] ê·€ (Ears): WebSocket ìš”ì²­(ì‹¤ì‹œê°„ ëŒ€í™”)ì„ ì²˜ë¦¬
â””â”€â”€ server-channels.ts     # [5] íŒ”ë‹¤ë¦¬ (Limbs): ì¹´í†¡, ìŠ¬ë™ ê°™ì€ ì‹¤ì œ ë„êµ¬ë“¤ì„ ê´€ë¦¬
```

#### 2. ë˜‘ê°™ì´ ë”°ë¼ ë§Œë“œëŠ” ìˆœì„œ (Cloning Order)
ë¬´ì‘ì • ë³µì‚¬í•˜ë©´ ì—ëŸ¬ê°€ 100ê°œ ëœ¹ë‹ˆë‹¤. **ì˜ì¡´ì„±(Dependency)** ìˆœì„œëŒ€ë¡œ ì¡°ë¦½í•´ì•¼ í•©ë‹ˆë‹¤.

1.  **ê¸°ì´ˆ ê³µì‚¬**: `server.ts` (ê»ë°ê¸° ë§Œë“¦)
2.  **ê³¨ê²© ì¡°ë¦½**: `server.impl.ts` (í•µì‹¬ ë¡œì§ ê»ë°ê¸°)
3.  **í˜¸í¡ê¸° ì—°ê²°**: `server-http.ts` (Hono ì—°ê²°)
4.  **ì‹ ê²½ë§ ì—°ê²°**: `server-ws-runtime.ts` (WebSocket ì—°ê²°)
5.  **íŒ”ë‹¤ë¦¬ ë¶€ì°©**: `server-channels.ts` (Baileys ì—°ê²°)

#### 2-0-3. [ì´ˆì‹¬ìë¥¼ ìœ„í•œ ë©˜íƒˆ ê´€ë¦¬] ì½”ë“œë¥¼ ë‹¤ ì³ì•¼ í•˜ë‚˜ìš”? (The Mindset)

"ì´ ë§ì€ ê±¸ ì–¸ì œ ë‹¤ ì¹˜ê³  ì•‰ì•„ìˆë‚˜ìš”? ê·¸ëŸ¬ë‹¤ê°€ ì§€ì³ì„œ í¬ê¸°í•˜ë©´ ì–´ë–¡í•˜ì£ ?"

**ì ˆëŒ€ ë‹¤ ì¹˜ì§€ ë§ˆì„¸ìš”.** ì—¬ëŸ¬ë¶„ì˜ ëª©í‘œëŠ” 'íƒ€ì ì—°ìŠµ'ì´ ì•„ë‹ˆë¼ **'êµ¬ì¡° ì´í•´(Architectural Understanding)'** ì…ë‹ˆë‹¤.

1.  **ì½”ë¼ë¦¬ë¥¼ ë¨¹ëŠ” ë²• (How to Eat an Elephant)**:
    *   **ì „ëµ**: í•œ ë²ˆì— í•œ ì…ì”©. ì „ì²´ ì½”ë“œë¥¼ ë‹¤ ì´í•´í•˜ë ¤ ë“¤ì§€ ë§ˆì„¸ìš”.
    *   **"ë¸”ë™ë°•ìŠ¤ ì´ë¡ "**: `loadConfig()` í•¨ìˆ˜ê°€ ìˆë‹¤? "ì•„, ì„¤ì • ë¶ˆëŸ¬ì˜¤ëŠ” ë†ˆì´êµ¬ë‚˜" í•˜ê³  ë„˜ì–´ê°€ì„¸ìš”. ê·¸ ì•ˆì—ì„œ `fs.readFile`ì„ ì“°ëŠ”ì§€ `Bun.file`ì„ ì“°ëŠ”ì§€ ì§€ê¸ˆ ì•Œ í•„ìš” ì—†ìŠµë‹ˆë‹¤. **í° íë¦„(Flow)** ë§Œ ì¡ìœ¼ì„¸ìš”.

2.  **ë³µë¶™(Ctrl+C, V)ì€ ì£„ê°€ ì•„ë‹™ë‹ˆë‹¤**:
    *   ë‹¨, **"ì½ê³ (Read) -> ì´í•´í•˜ê³ (Understand) -> ë¶™ì—¬ë„£ìœ¼ì„¸ìš”(Paste)"**.
    *   ë¬´ì§€ì„± ë³µë¶™ì€ ë…ì´ì§€ë§Œ, êµ¬ì¡°ë¥¼ íŒŒì•…í•˜ê³  "ì´ ë©ì–´ë¦¬ëŠ” ì—¬ê¸° í•„ìš”í•´"ë¼ê³  ì•Œê³  ë¶™ì—¬ë„£ëŠ” ê±´ **'ì¡°ë¦½(Assembly)'** ì…ë‹ˆë‹¤. ì´ë¯¸ ìˆëŠ” ë ˆê³  ë¸”ë¡ì„ ë‹¤ì‹œ ê¹ì„ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

3.  **AIë¥¼ 'ê°œì¸ ê³¼ì™¸ ì„ ìƒë‹˜'ìœ¼ë¡œ ì“°ì„¸ìš”**:
    *   "ì´ ì½”ë“œ 500ì¤„ ë‹¤ ì„¤ëª…í•´ì¤˜" (X) -> ë„ˆë¬´ ë§ì•„ì„œ ëˆˆì— ì•ˆ ë“¤ì–´ì˜µë‹ˆë‹¤.
    *   **"ì´ íŒŒì¼ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í•¨ìˆ˜ 3ê°œë§Œ ê¼½ì•„ì„œ, ê°ê° ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ í•œ ì¤„ë¡œ ìš”ì•½í•´ì¤˜"** (O) -> í•µì‹¬ ë¼ˆëŒ€ë§Œ ë¨¸ë¦¬ì— ë„£ìœ¼ì„¸ìš”.

#### 2-0-4. [ì¤€ë¹„ë¬¼] í•´ì„¤ì ëª¨ë“œ ì¥ì°©í•˜ê¸° (The Narrator)

"ì‘ë™í•˜ëŠ” ì½”ë“œê°€ ì•„ë‹ˆë¼, **ìŠ¤ìŠ¤ë¡œ ì„¤ëª…í•˜ëŠ” ì½”ë“œ**ë¥¼ ë§Œë“œì„¸ìš”."

ì—¬ëŸ¬ë¶„ì´ ì‘ì„±í•  ì²« ë²ˆì§¸ íŒŒì¼ì€ ì„œë²„ ì½”ë“œê°€ ì•„ë‹™ë‹ˆë‹¤. ë°”ë¡œ **ë¡œê·¸ íŒŒì¼ì— ìê¸°ì†Œê°œë¥¼ ë‚¨ê¸°ëŠ” ë„êµ¬**ì…ë‹ˆë‹¤. ì´ ë„êµ¬ë¥¼ ì“°ë©´, í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ë§ˆì¹˜ ì˜í™” í•´ì„¤ì²˜ëŸ¼ ë¡œê·¸ê°€ ë‚¨ìŠµë‹ˆë‹¤.

**íŒŒì¼ ìƒì„±**: `src/narrator.ts`

```typescript
import fs from 'fs';

// "í•´ì„¤ì" í•¨ìˆ˜: ëˆ„ê°€, ì–´ë””ì„œ, ëˆ„êµ¬ì—ê²Œ ì—°ë½í•˜ëŠ”ì§€ ê¸°ë¡í•©ë‹ˆë‹¤.
export function narrate(info: {
  who: string;      // í•¨ìˆ˜ ì´ë¦„ (ì˜ˆ: startGatewayServer)
  role: string;     // ì—­í•  (ì˜ˆ: ì´ì‚¬ë ¹ê´€)
  action: string;   // í•˜ëŠ” ì¼ (ì˜ˆ: ì‹¬ì¥ ë°•ë™ê¸° ì¼œê¸°)
  friend?: string;  // ì—°ê²° ëŒ€ìƒ (ì˜ˆ: startHeartbeatRunner)
}) {
  const logMessage = `[${new Date().toISOString()}] 
  ğŸ‘¤ WHO: ${info.who}
  ğŸ›¡ï¸ ROLE: ${info.role}
  ğŸ¬ ACTION: ${info.action}
  ${info.friend ? `ğŸ”— CONTACT: ${info.friend}` : ""}
  --------------------------------------------------\n`;

  // 1. í™”ë©´ì— ë³´ì—¬ì£¼ê¸°
  console.log(logMessage);
  
  // 2. íŒŒì¼ì— ê¸°ë¡í•˜ê¸° (learning.log)
  fs.appendFileSync('learning.log', logMessage);
}
```

ì´ì œë¶€í„° ëª¨ë“  í•¨ìˆ˜ë¥¼ ë§Œë“¤ ë•Œ, ë¡œì§ ëŒ€ì‹  ì´ `narrate()` í•¨ìˆ˜ë¥¼ ë§¨ ì•ì— ë°•ì•„ë‘˜ ê²ë‹ˆë‹¤.

---

### 2-1. [í™•ëŒ€ ë¶„ì„] ì„œë²„ ì§„ì…ì  ìƒì„± (`src/gateway/server.ts`) - **[ë‹¨ê³„ 1: ê¸°ì´ˆ ê³µì‚¬/ì–¼êµ´]**

ê°€ì¥ ë¨¼ì € ì´ íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤. ì´ íŒŒì¼ì€ ì„œë²„ì˜ **"ì•ˆë‚´ ë°ìŠ¤í¬(Front Desk)"** ì…ë‹ˆë‹¤.

#### 2-1-1. [ì´ˆì •ë°€ í•´ë¶€ë„] Front Desk Map
ì˜¤ì‹œë‹¤ì‹œí”¼ ì´ íŒŒì¼ì€ **ì•„ë¬´ëŸ° ë¡œì§ì´ ì—†ìŠµë‹ˆë‹¤.** ì˜¤ì§ ë‹¤ë¥¸ íŒŒì¼ë¡œ ì—°ê²°ë§Œ í•´ì¤ë‹ˆë‹¤. ì´ê²ƒì„ ë””ìì¸ íŒ¨í„´ì—ì„œëŠ” **í¼ì‚¬ë“œ íŒ¨í„´(Facade Pattern)** ì´ë¼ê³  í•©ë‹ˆë‹¤.

```text
[ì™¸ë¶€ ì„¸ìƒ: CLI, Docker]
       â¬‡ï¸ (ì ‘ì†: "ì„œë²„ ì¼œì¤˜!")
       â¬‡ï¸
src/gateway/server.ts (ì•ˆë‚´ ë°ìŠ¤í¬)
       â”‚
       â”œâ”€â”€ 1. "ì‚¬ì¥ì‹¤ ì—°ê²°í•´ ë“œë¦½ë‹ˆë‹¤." (startGatewayServer)
       â”‚       â¤· ì—°ê²° â¡ src/gateway/server.impl.ts (ì§„ì§œ CEO: ë‡Œ)
       â”‚
       â”œâ”€â”€ 2. "ë³´ì•ˆ ê·œì •ì§‘ ì—¬ê¸° ìˆìŠµë‹ˆë‹¤." (truncateCloseReason)
       â”‚       â¤· ì—°ê²° â¡ src/gateway/server/close-reason.ts (ê·œì •ì§‘)
       â”‚
       â””â”€â”€ 3. "ëª…í•¨ ì–‘ì‹ì…ë‹ˆë‹¤." (GatewayServer Type)
               â¤· ì—°ê²° â¡ src/gateway/server.impl.ts (íƒ€ì… ì •ì˜)
```

#### 2-1-2. ì½”ë“œ ì”¹ì–´ë¨¹ê¸° (Code Anatomy)
`src/gateway/server.ts`

```typescript
// [1] ë³´ì•ˆ ìš”ì› ì—°ê²° (Security)
// ì—­í• : ì›¹ì†Œì¼“ ì—°ê²° ëŠì„ ë•Œ ì´ìœ ê°€ ë„ˆë¬´ ê¸¸ë©´(í•´í‚¹ ì‹œë„ ë“±) ì ë‹¹íˆ ìë¥´ëŠ” í•¨ìˆ˜ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤.
export { truncateCloseReason } from "./server/close-reason.js";

// [2] ëª…í•¨(Type) ê³µìœ  (Public Card)
// ì—­í• : "ìš°ë¦¬ ì‚¬ì¥ë‹˜(GatewayServer)ì€ ì´ë ‡ê²Œ ìƒê²¼ìŠµë‹ˆë‹¤"ë¼ê³  ì™¸ë¶€ì— ì•Œë ¤ì¤ë‹ˆë‹¤.
export type { GatewayServer, GatewayServerOptions } from "./server.impl.js";

// [3] ì‚¬ì¥ì‹¤ ì—°ê²° (The Real Boss)
// í•µì‹¬: ì‹¤ì œë¡œ ì„œë²„ë¥¼ ì¼œëŠ” í•¨ìˆ˜(startGatewayServer)ë¥¼ ë°–ìœ¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.
// ì™¸ë¶€(CLI)ì—ì„œëŠ” ì´ íŒŒì¼ì˜ startGatewayServerë§Œ í˜¸ì¸¨í•˜ë©´, ë‚´ë¶€ ì‚¬ì •ì„ ëª°ë¼ë„ ì„œë²„ê°€ ì¼œì§‘ë‹ˆë‹¤.
export { __resetModelCatalogCacheForTest, startGatewayServer } from "./server.impl.js";
```

#### 2-1-3. [TS ë¬¸ë²• êµì‹¤] ì´ê²Œ ë¬´ìŠ¨ ëœ»ì¸ê°€ìš”? (Grammar Class)

ì´ˆë³´ìê°€ ê°€ì¥ í—·ê°ˆë ¤ í•˜ëŠ” 3ê°€ì§€ ë¬¸ë²•ì„ **ì™„ë²½í•˜ê²Œ ë¶„í•´**í•´ ë“œë¦½ë‹ˆë‹¤.

*   **1. `export { ... } from "..."`**: **"êµ­ì œ ë°°ì†¡ ëŒ€í–‰ ì„œë¹„ìŠ¤"**
    *   **ì˜ë¯¸**: "ì €ìª½ íŒŒì¼(`from`)ì— ìˆëŠ” ë¬¼ê±´ì„ ê°€ì ¸ì™€ì„œ, ë‚´ ì´ë¦„ìœ¼ë¡œ ë‹¤ì‹œ í•´ì™¸ ìˆ˜ì¶œ(`export`)í•˜ê² ë‹¤."
    *   **ì€ìœ (Metaphor)**: ì¿ íŒ¡(server.ts)ì´ ì‚¼ì„±ì „ì(server.impl.ts)ì˜ ëƒ‰ì¥ê³ ë¥¼ ë–¼ì™€ì„œ ì¿ íŒ¡ ì´ë¦„ìœ¼ë¡œ íŒŒëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ì†Œë¹„ìëŠ” ì‚¼ì„± ê³µì¥ì— ê°ˆ í•„ìš” ì—†ì´ ì¿ íŒ¡ì—ì„œ ì‚¬ë©´ ë©ë‹ˆë‹¤.

*   **2. `export type`**: **"ì„¤ê³„ë„ë©´ vs ì‹¤ì œ ê±´ë¬¼"**
    *   **ì˜ë¯¸**: "Java/C#ì˜ Classë‚˜ Interface ê°™ì€ **ê»ë°ê¸°(ëª¨ì–‘)** ë§Œ ë‚´ë³´ëƒ…ë‹ˆë‹¤."
    *   **ì€ìœ (Metaphor)**:
        *   `export class` (GatewayServer): ì‹¤ì œ ì‚´ ìˆ˜ ìˆëŠ” **ì•„íŒŒíŠ¸**ì…ë‹ˆë‹¤. (ë©”ëª¨ë¦¬ ì°¨ì§€í•¨)
        *   `export type` (GatewayServer): ì•„íŒŒíŠ¸ **ì„¤ê³„ë„(ì²­ì‚¬ì§„)** ì¢…ì´ì…ë‹ˆë‹¤. (ë©”ëª¨ë¦¬ ì°¨ì§€ ì•ˆ í•¨)
    *   **Why?**: TypeScriptëŠ” ì»´íŒŒì¼ë˜ë©´ JavaScriptë¡œ ë³€í•©ë‹ˆë‹¤. ì´ë•Œ `type`ìœ¼ë¡œ ì •ì˜ëœ ê±´ **í”ì ë„ ì—†ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤(Ghost).** ê°œë°œí•  ë•Œ ìë™ì™„ì„± íŒíŠ¸ë§Œ ì£¼ê³ , ëŸ°íƒ€ì„ì—ëŠ” ê°€ë³ê²Œ ì‚¬ë¼ì§€ê¸° ìœ„í•´ ì”ë‹ˆë‹¤.

*   **3. `{ a, b }` (ì¤‘ê´„í˜¸)**: **"ì¢…í•© ì„ ë¬¼ ì„¸íŠ¸ ëœ¯ê¸°"**
    *   **ë¬¸ë²• ì´ë¦„**: **êµ¬ì¡° ë¶„í•´ í• ë‹¹ (Destructuring Assignment)**
    *   **ì˜ë¯¸**: "`server.impl.js`ë¼ëŠ” í° ì„ ë¬¼ ìƒì ì•ˆì— ì—¬ëŸ¬ ê°€ì§€ê°€ ë“¤ì–´ìˆëŠ”ë°, ê·¸ì¤‘ì—ì„œ `__reset...`ì´ë‘ `startGatewayServer`ë¼ëŠ” ë”± 2ê°œë§Œ ì½• ì§‘ì–´ì„œ êº¼ë‚´ê² ë‹¤."
    *   **ì˜ˆì‹œ**:
        ```typescript
        const Box = { candy: 10, chocolate: 5, gum: 3 };
        const { candy, gum } = Box; // ì´ˆì½œë¦¿ì€ ì•ˆ êº¼ëƒ„!
        ```

#### 2-1-3. [ë°°ê²½ ì§€ì‹] ì™œ ê»ë°ê¸° íŒŒì¼ì„ ë”°ë¡œ ë§Œë“œë‚˜ìš”? (Why Facade?)

ì´ê²ƒì€ ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ì—ì„œ **"ë³€ê²½ì— ëŒ€í•œ ë°©ì–´ë§‰(Decoupling)"** ì„ ì¹˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. ì‰¬ìš´ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

**ğŸ  ì‹¤ìƒí™œ ì˜ˆì‹œ: "ê³ ê°ì„¼í„° ëŒ€í‘œë²ˆí˜¸ (1588-0000)"**

*   **ìƒí™©**: ì—¬ëŸ¬ë¶„ì´ ì‡¼í•‘ëª° CEOì…ë‹ˆë‹¤. ì „êµ­ì— í©ì–´ì§„ ìƒë‹´ì›ë“¤ì´ ì „í™”ë¥¼ ë°›ìŠµë‹ˆë‹¤.
*   **ê»ë°ê¸°(`server.ts`)**: **ëŒ€í‘œë²ˆí˜¸ 1588-0000**
*   **ì‹¤ì²´(`server.impl.ts`)**: ì‹¤ì œ ìƒë‹´ ì„¼í„° (ì²˜ìŒì—” **ì„œìš¸** ì‚¬ë¬´ì‹¤)

**ğŸŒª ì‚¬ê±´ ë°œìƒ**: ì„œìš¸ ì‚¬ë¬´ì‹¤ ì„ëŒ€ë£Œê°€ ë¹„ì‹¸ì„œ **ë¶€ì‚°**ìœ¼ë¡œ ì´ì‚¬ ê°€ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. (`server.impl.ts` -> `server.busan.ts` ë¡œ íŒŒì¼ëª… ë³€ê²½)

1.  **ëŒ€í‘œë²ˆí˜¸ê°€ ì—†ì„ ë•Œ (No Facade)**:
    *   ê³ ê° 100ë§Œ ëª…ì—ê²Œ ì „ë¶€ ë¬¸ìë¥¼ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤.
    *   *"ì£„ì†¡í•©ë‹ˆë‹¤. ë²ˆí˜¸ê°€ 02-123-4567ì—ì„œ 051-987-6543ìœ¼ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì €ì¥í•´ì£¼ì„¸ìš”."*
    *   ì½”ë“œë¡œ ì¹˜ë©´, ì´ íŒŒì¼ì„ `import`í•´ì„œ ì“°ëŠ” **ëª¨ë“  íŒŒì¼ 100ê°œë¥¼ ì°¾ì•„ì„œ ìˆ˜ì •**í•´ì•¼ í•©ë‹ˆë‹¤. (ëŒ€ì¬ì•™)

2.  **ëŒ€í‘œë²ˆí˜¸ê°€ ìˆì„ ë•Œ (Facade Pattern)**:
    *   ê³ ê°ì€ ì•„ë¬´ê²ƒë„ ëª°ë¼ë„ ë©ë‹ˆë‹¤. ì—¬ì „íˆ 1588-0000ìœ¼ë¡œ ê±¸ë©´ ë©ë‹ˆë‹¤.
    *   CEOì¸ ì—¬ëŸ¬ë¶„ì€ **ëŒ€í‘œë²ˆí˜¸ ì—°ê²° ì„¤ì •(Routing)** ë§Œ ì„œìš¸ì—ì„œ ë¶€ì‚°ìœ¼ë¡œ 1ì¤„ ë°”ê¾¸ë©´ ëì…ë‹ˆë‹¤.
    *   ì½”ë“œë¡œ ì¹˜ë©´, **`server.ts`ì˜ `import` ê²½ë¡œ 1ì¤„ë§Œ ìˆ˜ì •**í•˜ë©´ í”„ë¡œì íŠ¸ ì „ì²´ê°€ ë©€ì©¡í•˜ê²Œ ëŒì•„ê°‘ë‹ˆë‹¤.

**ê²°ë¡ **: `server.ts`ëŠ” ê·€ì°®ì€ ê»ë°ê¸°ê°€ ì•„ë‹ˆë¼, ë¯¸ë˜ì˜ ë³€í™”ë¡œë¶€í„° ìš°ë¦¬ë¥¼ ì§€ì¼œì£¼ëŠ” **"ì•ˆì „ ì¥ì¹˜"** ì…ë‹ˆë‹¤.

#### 2-1-4. [ì ê¹ë§Œ] ì•ˆì „ì¥ì¹˜ ì§ì ‘ ì‹¤í—˜í•´ë³´ê¸° (Facade Lab)

"ë§ë¡œë§Œ ë“£ì§€ ë§ê³ , **ì§„ì§œ ì•ˆì „í•œì§€** ì§ì ‘ í„°íŠ¸ë ¤ë´…ì‹œë‹¤."

ì´ ê°œë…ì„ í™•ì‹¤íˆ ì¡ê³  ê°€ê¸° ìœ„í•´, ì•„ì£¼ ê°„ë‹¨í•œ **ì‹¤í—˜ì‹¤(Lab)** ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. í´ë” ì•„ë¬´ë°ë‚˜ `test-facade` í´ë”ë¥¼ ë§Œë“¤ê³  3ê°œì˜ íŒŒì¼ì„ ë§Œë“œì„¸ìš”.

**1. `core-v1.js` (ì‹¤ì²´: êµ¬í˜• ì—”ì§„)**
```javascript
// ì‹¤ì œ ë¡œì§ì´ ë“¤ì–´ìˆëŠ” íŒŒì¼
export function startEngine() {
  console.log("ğŸš— V1 ì—”ì§„: ë¶€ë¦‰ë¶€ë¦‰ (ì‹œë„ëŸ¬ì›€)");
}
```

**2. `gateway.js` (ê»ë°ê¸°: ì•ˆì „ì¥ì¹˜)**
```javascript
// ì—¬ê¸°ê°€ í•µì‹¬ì…ë‹ˆë‹¤! ì‹¤ì²´ë¥¼ importí•´ì„œ ê·¸ëŒ€ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.
export * from "./core-v1.js"; 
```

**3. `client.js` (ì‚¬ìš©ì: ìš´ì „ì)**
```javascript
// ìš´ì „ìëŠ” 'core-v1.js'ë¥¼ ëª¨ë¦…ë‹ˆë‹¤. ì˜¤ì§ 'gateway.js'ë§Œ ì••ë‹ˆë‹¤.
import { startEngine } from "./gateway.js";

console.log("ğŸ‘¤ ìš´ì „ì: ì‹œë™ì„ ê²ë‹ˆë‹¤.");
startEngine();
```

---

**ğŸ§ª ì‹¤í—˜ ì‹œì‘: ë¯¸ë˜ë¥¼ ë°”ê¾¸ëŠ” ì‹œë‚˜ë¦¬ì˜¤ 4ë‹¨ê³„**

**1ë‹¨ê³„: í‰í™”ë¡œìš´ ì¼ìƒ (Initial Run)**
ë¨¼ì € í„°ë¯¸ë„ì—ì„œ `node client.js`ë¥¼ ì…ë ¥í•´ì„œ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
í™”ë©´ì— **"ğŸš— V1 ì—”ì§„: ë¶€ë¦‰ë¶€ë¦‰"** í•˜ê³  ì‹œë„ëŸ¬ìš´ ì†Œë¦¬ê°€ ë‚  ê²ë‹ˆë‹¤.
ì§€ê¸ˆ ìš´ì „ì(`client.js`)ëŠ” `gateway.js`ë¥¼ í†µí•´ êµ¬í˜• ì—”ì§„ì„ ì“°ê³  ìˆìŠµë‹ˆë‹¤. í‰í™”ë¡­ì£ ?

**2ë‹¨ê³„: ìœ„ê¸° ë°œìƒ (Refactoring Needed)**
ì–´ëŠ ë‚ , ì •ë¶€ì—ì„œ "ì†ŒìŒ ê·œì œ"ë¥¼ ë°œí‘œí•©ë‹ˆë‹¤. ë” ì´ìƒ ì‹œë„ëŸ¬ìš´ V1 ì—”ì§„ì„ ì“¸ ìˆ˜ ì—†ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ì, ì´ì œ `core-v1.js` íŒŒì¼ì„ ê³¼ê°í•˜ê²Œ **ì‚­ì œ**í•´ ë²„ë¦¬ì„¸ìš”. ê·¸ë¦¬ê³  **`core-v2.js`** ë¼ëŠ” ìƒˆ íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ë„£ìŠµë‹ˆë‹¤.
```javascript
export function startEngine() {
  console.log("âš¡ï¸ V2 ëª¨í„°: ìœ„ì´ì‰ (ì¡°ìš©í•¨)");
}
```
ì´ì œ ì‹¤ì²´(ì—”ì§„)ê°€ ì™„ì „íˆ ë°”ë€Œì–´ ë²„ë ¸ìŠµë‹ˆë‹¤.

**3ë‹¨ê³„: ë§ˆë²•ì˜ ë°©ì–´ (The Fix)**
ë³´í†µ ê°™ìœ¼ë©´ ìš´ì „ì(`client.js`) ì½”ë“œë¥¼ ëœ¯ì–´ê³ ì³ì•¼ê² ì§€ë§Œ, ìš°ë¦¬ëŠ” ê·¸ëŸ´ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
ì¤‘ê°„ì— ìˆëŠ” **`gateway.js`** íŒŒì¼ë§Œ ì‚´ì§ ì—¬ì„¸ìš”. ê·¸ë¦¬ê³  `from` ë’¤ì— ìˆëŠ” ê²½ë¡œë§Œ ë°”ê¿”ì£¼ë©´ ë©ë‹ˆë‹¤.
```javascript
export * from "./core-v2.js"; // v1 -> v2 ë¡œ ìˆ«ì í•˜ë‚˜ë§Œ ë°”ê¿¨ìŠµë‹ˆë‹¤.
```
ìš´ì „ì ëª°ë˜, ì¹´ì„¼í„° ì‚¬ì¥ë‹˜(Gateway)ì´ ì—”ì§„ì„ ìµœì‹ í˜•ìœ¼ë¡œ ë°”ê¿”ì¹˜ê¸°í•œ ê²ë‹ˆë‹¤.

**4ë‹¨ê³„: ê²°ê³¼ í™•ì¸ (Verification)**
ë‹¤ì‹œ `node client.js`ë¥¼ ì‹¤í–‰í•´ ë³´ì„¸ìš”.
ë†€ëê²Œë„ ìš´ì „ìëŠ” ì•„ë¬´ëŸ° ì—ëŸ¬ ì—†ì´ **"âš¡ï¸ V2 ëª¨í„°: ìœ„ì´ì‰"** í•˜ê³  ì „ê¸°ì°¨ë¥¼ ëª°ê²Œ ë©ë‹ˆë‹¤.
ìš´ì „ìëŠ” ì—”ì§„ì´ ë°”ë€ ì¤„ë„ ëª¨ë¦…ë‹ˆë‹¤. ë‹¨ì§€ ì°¨ê°€ ì¡°ìš©í•´ì¡Œë‹¤ê³  ì¢‹ì•„í•  ë¿ì´ì£ .

**ğŸ“ ê²°ë¡ : ì´ê²ƒì´ ë°”ë¡œ 'ìœ ì§€ë³´ìˆ˜'ì…ë‹ˆë‹¤**
ì—¬ëŸ¬ë¶„ì´ ë°©ê¸ˆ í•˜ì‹  ì¼ì´ ë°”ë¡œ **"ì˜ì¡´ì„± ë¶„ë¦¬(Decoupling)"** ì…ë‹ˆë‹¤.
ë‚´ë¬´ ë¶€í’ˆì´ ì‹¹ ë‹¤ ë°”ë€Œì–´ë„, ë°”ê¹¥ì„¸ìƒ(Client)ì—ëŠ” ì¶©ê²©ì„ ì£¼ì§€ ì•ŠëŠ” ê²ƒ. ì´ê²ƒì´ ì‹œë‹ˆì–´ ê°œë°œìë“¤ì´ `server.ts` ê°™ì€ ê»ë°ê¸° íŒŒì¼ì„ êµ³ì´ ë§Œë“¤ì–´ ë‘ëŠ” ì´ìœ ì…ë‹ˆë‹¤.

> [!IMPORTANT]
> **ğŸš€ ì´ ì±…(ë§¤ë‰´ì–¼)ì˜ ìµœì¢… ëª©í‘œ**
> ë¹„ë¡ ì§€ê¸ˆì€ ì´ˆë³´ìì¼ì§€ë¼ë„, ì´ëŸ° ê³ ê¸‰ ì•„í‚¤í…ì²˜ ê²½í—˜ì„ í•˜ë‚˜í•˜ë‚˜ ë¹ ë¥´ê²Œ ìŒ“ì•„ì„œ **"ì‹œë‹ˆì–´ ê°œë°œìì˜ í†µì°°ë ¥"** ì„ ê°–ì¶”ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.
> ê·¸ë˜ì•¼ë§Œ ë‹¨ìˆœíˆ AIê°€ ì§œì£¼ëŠ” ì½”ë“œë¥¼ ë°›ì•„ ì ëŠ” ê²ƒì„ ë„˜ì–´, **AI ì½”ë”© ì—ì´ì „íŠ¸ë“¤ì„ ë‚´ ì†ë°”ë‹¥ ìœ„ì—ì„œ ììœ ìì¬ë¡œ ì§€íœ˜í•˜ê³  ì£¼ë¬´ë¥´ëŠ”** ì§„ì§œ ì‚¬ë ¹ê´€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---




---

### 2-2. [í™•ëŒ€ ë¶„ì„] ì„œë²„ ë‡Œ êµ¬í˜„ (`src/gateway/server.impl.ts`) - **[ë‹¨ê³„ 2: ê³¨ê²© ì¡°ë¦½]**

ì•ˆë‚´ ë°ìŠ¤í¬(`server.ts`)ì˜ ë¬¸ì„ ì—´ê³  ë“¤ì–´ì˜¤ì…¨êµ°ìš”. í™˜ì˜í•©ë‹ˆë‹¤.
ì´ê³³ì€ OpenClaw(Moltbot) ì‹œìŠ¤í…œì˜ ê°€ì¥ ê¹Šìˆ™í•œ ê³³, **"ì¢…í•© ìƒí™©ì‹¤(NASA Control Room)"** ì…ë‹ˆë‹¤.

ëˆˆì•ì— í¼ì³ì§„ **ì•½ 600ì¤„ì˜ ì½”ë“œ**ê°€ ìœ„ì••ì ìœ¼ë¡œ ëŠê»´ì§€ì‹­ë‹ˆê¹Œ? ë‹¹ì—°í•©ë‹ˆë‹¤.
ì´ê³³ì€ ë‹¨ìˆœí•œ ì½”ë“œê°€ ì•„ë‹™ë‹ˆë‹¤. ì„œë²„ì˜ ì˜¤ê°ì„ ê¹¨ìš°ê³ , ì¸ê³µì§€ëŠ¥ ë‘ë‡Œë¥¼ ì—°ê²°í•˜ê³ , ì „ ì„¸ê³„ì™€ í†µì‹ í•˜ëŠ” ì‹ ê²½ë§ì„ ì§€íœ˜í•˜ëŠ” **"ì‚¬ë ¹ë¶€"** ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

*   **ì¢Œì¸¡ ìŠ¤í¬ë¦°**: `HTTP Server`ê°€ ì›¹ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ì‹ í˜¸ë¥¼ ê°ì‹œí•©ë‹ˆë‹¤.
*   **ìš°ì¸¡ ìŠ¤í¬ë¦°**: `WebSocket`ì´ ìˆ˜ì²œ ê°œì˜ ì‹¤ì‹œê°„ ì—°ê²°ì„ ìœ ì§€í•©ë‹ˆë‹¤.
*   **ì¤‘ì•™ ì½˜ì†”**: `Agent Runner`ê°€ AI(GPT-4)ì—ê²Œ ëŠì„ì—†ì´ ëª…ë ¹ì„ ë‚´ë¦½ë‹ˆë‹¤.
*   **ë°±ê·¸ë¼ìš´ë“œ**: `Heartbeat`ê°€ ì‹œìŠ¤í…œì˜ ìƒëª… ë°˜ì‘ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì²´í¬í•©ë‹ˆë‹¤.

ì´ ëª¨ë“  ê²ƒì´ ë‹¨ í•˜ë‚˜ì˜ íŒŒì¼, `server.impl.ts` ì•ˆì—ì„œ ì¡°ìœ¨ë©ë‹ˆë‹¤.
ë³µì¡í•´ ë³´ì´ì§€ë§Œ ê±±ì •í•˜ì§€ ë§ˆì‹­ì‹œì˜¤. ìš°ë¦¬ëŠ” ì´ ê±°ëŒ€í•œ ìš°ì£¼ì„ ì„ **"ë‹¨ 5ê°œì˜ ë²„íŠ¼"** ìœ¼ë¡œ ë¶„í•´í•´ì„œ í•˜ë‚˜ì”© ì¡°ë¦½í•  ê²ƒì…ë‹ˆë‹¤.

ì¤€ë¹„ë˜ì…¨ë‚˜ìš”? ì´ì œ ì‚¬ë ¹ê´€(`startGatewayServer`)ì˜ ì˜ìì— ì•‰ì•„ ë³¼ ì‹œê°„ì…ë‹ˆë‹¤.

#### 2-2-0. [ê³µê¸‰ë§ ë¶„ì„] import ëª©ë¡ 73ì¤„, ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ë‚˜ìš”? (Supply Chain)

"importê°€ 70ì¤„ì´ë‚˜ ë˜ëŠ”ë°, ì´ê±¸ ë‹¤ ë§Œë“¤ì–´ì•¼ í•˜ë‚˜ìš”?"
ë„¤, í•˜ì§€ë§Œ **"ë‚´ìš©"ì„ ë‹¤ ë§Œë“¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.** ê»ë°ê¸°(Stub)ë§Œ ìˆìœ¼ë©´ ë©ë‹ˆë‹¤. ì´ 70ì¤„ì€ í¬ê²Œ 5ê°€ì§€ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

*   **1. ì™¸ë¶€ ê¸°ê´€ (External Agencies)**:
    *   `../config/*`: ì„¤ì • íŒŒì¼ ë“±ë³¸ì„ ë–¼ì˜¤ëŠ” ê³³.
    *   `../infra/*`: ì§„ë‹¨(Diagnostic), ì‹¬ì¥ ë°•ë™(Heartbeat), ì¬ì‹œì‘(Restart) ë“± ìƒëª… ìœ ì§€ ì¥ì¹˜.
    *   `../logging/*`: ë¸”ë™ë°•ìŠ¤ ê¸°ë¡ ì¥ì¹˜.
*   **2. ì—ì´ì „íŠ¸ ë³¸ë¶€ (Agent HQ)**:
    *   `../agents/*`: AI ë‘ë‡Œ ê´€ë¦¬ì†Œ.
*   **3. ë‚´ë¶€ ì¥ê¸° (Internal Organs)**:
    *   `./server-*`: HTTP, WS, Channel ë“± ì„œë²„ì˜ ì‹¤ì œ ë¶€í’ˆë“¤.

**ğŸ’¡ [í•µì‹¬ ì „ëµ] "ê°€ì§œë¡œ ì±„ì›Œë¼ (Fake it till you make it)"**
70ê°œ íŒŒì¼ì„ ë‹¤ êµ¬í˜„í•˜ë‹¤ê°„ ì§€ì³ ë–¨ì–´ì§‘ë‹ˆë‹¤. **"ë¹ˆ íŒŒì¼ ì „ëµ(Stubbing)"** ì„ ì“°ì„¸ìš”.

1.  **ë¹¨ê°„ ì¤„ ì—†ì• ê¸° ê²Œì„**: `server.impl.ts`ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ë©´ ì˜¨í†µ ë¹¨ê°„ ì¤„(ì—ëŸ¬)ì…ë‹ˆë‹¤.
2.  **ë¹ˆ íŒŒì¼ ìƒì„±**: ì—ëŸ¬ê°€ ë‚˜ëŠ” ê²½ë¡œ(ì˜ˆ: `../infra/heartbeat.ts`)ì— íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.
3.  **ê°€ì§œ ìˆ˜ì¶œ(Export)**: í•¨ìˆ˜ ë‚´ìš©ì„ ë¹„ì›Œë‘ê³  `export`ë§Œ í•˜ì„¸ìš”.
    ```typescript
    // ../infra/heartbeat.ts
    // ê»ë°ê¸°ë§Œ ë§Œë“­ë‹ˆë‹¤. ë‚´ìš©ì€ ë‚˜ì¤‘ì— ì±„ì›ë‹ˆë‹¤.
    export function startHeartbeatRunner() { console.log("Heartbeat started (fake)"); }
    ```
4.  **ì»´íŒŒì¼ ì„±ê³µ**: ë¹¨ê°„ ì¤„ì´ ë‹¤ ì‚¬ë¼ì§€ë©´, ì„œë²„ëŠ” ì¼œì§‘ë‹ˆë‹¤. (ë¬¼ë¡  ì•„ë¬´ ê¸°ëŠ¥ë„ ì•ˆ í•˜ê² ì§€ë§Œ, ê³¨ê²©ì€ ì™„ì„±ëœ ê²ë‹ˆë‹¤.)

#### 2-2-1. [ìƒì„¸ ë¶„ì„] í•¨ìˆ˜ ëª…ì˜ˆì˜ ì „ë‹¹ (Function Hall of Fame)

> [!QUESTION]
> **Q. ì‚¬ë ¹ê´€ë‹˜, ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤!**
> "`server.impl.ts`ì˜ 90~92ë²ˆì§¸ ì¤„ì„ ë´¤ëŠ”ë°, `GatewayServer` íƒ€ì…ì´ ë„ˆë¬´ ì‹¬í”Œí•©ë‹ˆë‹¤. ê³ ì‘ `close` í•¨ìˆ˜ í•˜ë‚˜ë°–ì— ì—†ëŠ”ë°ìš”?"
>
> ```typescript
> export type GatewayServer = {
>   close: (opts?: ...) => Promise<void>;
> };
> ```
>
> **A. ì „ë¬¸ê°€ì˜ í†µì°°ë ¥ (Expert's Insight)**
> ì•„ì£¼ ë‚ ì¹´ë¡œìš´ ì§ˆë¬¸ì…ë‹ˆë‹¤! ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” **"ì¶”ìƒí™”ì˜ ë¯¸í•™(The Art of Abstraction)"** ì„ ë°°ì›Œì•¼ í•©ë‹ˆë‹¤.
>
> 1.  **ë¹™ì‚°ì˜ ì¼ê° (Tip of the Iceberg)**:
>     *   ë¹™ì‚°ì€ ë¬¼ ìœ„ì— 10%ë§Œ ë³´ì´ê³ , ë¬¼ ë°‘ì— 90%ê°€ ìˆ¨ì–´ ìˆì£ .
>     *   `GatewayServer`ëŠ” ë¬¼ ìœ„ì— ë‚˜ì˜¨ 10%ì…ë‹ˆë‹¤. ì™¸ë¶€(CLI)ì—ì„œëŠ” ì„œë²„ë¥¼ "ì¼œê³ (start)", "ë„ëŠ”(close)" ê²ƒ ì™¸ì—ëŠ” ì•Œ í•„ìš”ê°€ ì—†ê²Œ ë§Œë“  ê²ƒì…ë‹ˆë‹¤. ë‚´ë¶€ì—ì„œ 100ë§Œ ì¤„ì˜ ì½”ë“œê°€ ëŒì•„ê°€ë“  ë§ë“ , ì‚¬ìš©ìëŠ” **"ì „ì› ë²„íŠ¼"** í•˜ë‚˜ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.
>
> 2.  **í•µê°€ë°© (Nuclear Football)**:
>     *   ëŒ€í†µë ¹ì˜ í•µê°€ë°©ì—ëŠ” ë³µì¡í•œ ë¯¸ì‚¬ì¼ íšŒë¡œê°€ ë“¤ì–´ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜¤ì§ **"ë°œì‚¬ ë²„íŠ¼"** ê³¼ **"ì·¨ì†Œ ë²„íŠ¼"** ë§Œ ìˆìŠµë‹ˆë‹¤.
>     *   ë§Œì•½ ë¦¬ëª¨ì»¨ì— ë²„íŠ¼ì´ 100ê°œë¼ë©´(ì˜ˆ: `server.http`, `server.ws` ë‹¤ ë…¸ì¶œ), ì‚¬ìš©ìëŠ” í—·ê°ˆë ¤ì„œ ì‚¬ê³ ë¥¼ ì¹  ê²ë‹ˆë‹¤.
>     *   **"ê°€ì¥ í›Œë¥­í•œ ì¸í„°í˜ì´ìŠ¤ëŠ” ë” ì´ìƒ ëº„ ê²ƒì´ ì—†ëŠ” ìƒíƒœë‹¤."** ì´ ë‹¨ìˆœí•¨ì´ ë°”ë¡œ ê³ ìˆ˜ê°€ ì„¤ê³„í–ˆë‹¤ëŠ” ì¦ê±°ì…ë‹ˆë‹¤.

ê° í•¨ìˆ˜ì˜ ì—­í• ê³¼, ì´ˆë³´ìê°€ ì´ë¥¼ ì–´ë–»ê²Œ ë³µì œ(Cloning)í•´ì•¼ í•˜ëŠ”ì§€ í•˜ë‚˜ì”© ëœ¯ì–´ë³´ê² ìŠµë‹ˆë‹¤.

##### 1. `loadConfig` (ë³´ê¸‰ê´€: ì—„ê²©í•œ ì„¸ê´€ì›)
*   **ì—­í• **: `config.yaml` íŒŒì¼ì„ ì½ì–´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ê·¸ëƒ¥ ì½ëŠ” ê²Œ ì•„ë‹ˆë¼, **"ë¹ ì§„ í•­ëª©ì€ ì—†ëŠ”ì§€, íƒ€ì…ì€ ë§ëŠ”ì§€"** ê²€ì‚¬(Validation)í•©ë‹ˆë‹¤.
*   **ì…ë ¥(Input)**: `CONFIG_PATH` (íŒŒì¼ ê²½ë¡œ ë¬¸ìì—´)
*   **ì¶œë ¥(Output)**: `ClawdbotConfig` (ê²€ì¦ëœ ì„¤ì • ê°ì²´) ë˜ëŠ” **ì—ëŸ¬ í­ë°œ(Throw Error)**
*   **ì½”ë“œ ë¶„ì„**:
    ```typescript
    // ì‹¤ì œ ë¡œì§ (Zod ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)
    const raw = fs.readFileSync("config.yaml"); // 1. íŒŒì¼ ì½ê¸°
    const parsed = yaml.parse(raw);             // 2. íŒŒì‹±
    const config = ClawdbotSchema.parse(parsed); // 3. ê²€ì¦ (ì—¬ê¸°ì„œ í‹€ë¦¬ë©´ ì—ëŸ¬!)
    return config;
    ```
*   **ì´ˆë³´ì í´ë¡  ì „ëµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function loadConfig() {
            narrate({ 
                who: "loadConfig", 
                role: "ë³´ê¸‰ê´€", 
                action: "ì„¤ì • íŒŒì¼ ë¡œë”© ì‹œëŠ‰" 
            });
            return { agents: { defaults: { model: "gpt-4" } } };
        }
        ```

##### 2. `startHeartbeatRunner` (ì˜ë¬´ë³‘: ìë™ ì‹¬ì¥ì¶©ê²©ê¸°)
*   **ì—­í• **: ì£¼ê¸°ì ìœ¼ë¡œ(ì˜ˆ: 1ì‹œê°„ë§ˆë‹¤) ë´‡ì´ ì‚´ì•„ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , í•„ìš”í•˜ë©´ ìê°€ ì§„ë‹¨ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. "í™œë™ ì‹œê°„(Active Hours)"ì¸ì§€ ì²´í¬í•´ì„œ ë°¤ì—ëŠ” ì¡°ìš©íˆ ì‹œí‚µë‹ˆë‹¤.
*   **ì…ë ¥(Input)**: `Config` (ì„¤ì • ê°ì²´)
*   **ì¶œë ¥(Output)**: `HeartbeatRunner` (ë©ˆì¶¤ ë²„íŠ¼ `stop()`ì´ ë‹¬ë¦° handle)
*   **ì´ˆë³´ì í´ë¡  ì „ëµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function startHeartbeatRunner() {
            narrate({ 
                who: "startHeartbeatRunner", 
                role: "ì˜ë¬´ë³‘", 
                action: "ì‹¬ì¥ ë°•ë™ê¸° ê°€ë™" 
            });
            return { stop: () => { console.log("MEDIC: Stopped"); } };
        }
        ```

##### 3. `createChannelManager` (ì™¸êµê´€: ë§Œêµ­ ê³µí†µì–´ í†µì—­ì‚¬)
*   **ì—­í• **: WhatsApp, Slack, Discord ë“± ì„œë¡œ ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì“°ëŠ” ì™¸ë¶€ ì±„ë„ë“¤ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ê° ì±„ë„ì„ ì¼œê³ (`start`), ë„ê³ (`stop`), ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ì œì–´íŒì…ë‹ˆë‹¤.
*   **ì…ë ¥(Input)**: `ChannelManagerOptions` (ë¡œê·¸, ì„¤ì • ë“±)
*   **ì¶œë ¥(Output)**: `ChannelManager` (ì±„ë„ ì œì–´ ë©”ì„œë“œ ëª¨ìŒ)
*   **ì´ˆë³´ì í´ë¡  ì „ëµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function createChannelManager() {
            return {
                startChannels: async () => { 
                    narrate({ 
                        who: "startChannels", 
                        role: "ì™¸êµê´€", 
                        action: "ëª¨ë“  ëŒ€ì‚¬ê´€(WhatsApp, Slack) ì—°ê²°" 
                    });
                }
            };
        }
        ```

##### 4. `createHttpServer` (ëŒ€ë³€ì¸: ê¸°ìíšŒê²¬ì¥)
*   **ì—­í• **: ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­(HTTP Request)ì„ ë°›ì•„ì„œ ì ì ˆí•œ ë‹´ë‹¹ìì—ê²Œ í† ìŠ¤í•©ë‹ˆë‹¤.
    *   `/v1/hooks` -> `hooks.ts` (ì›¹í›… ë‹´ë‹¹)
    *   `/slack/events` -> `slack.ts` (ìŠ¬ë™ ë‹´ë‹¹)
    *   `/ui` -> `control-ui.ts` (ê´€ë¦¬ì í™”ë©´ ë‹´ë‹¹)
*   **ì…ë ¥(Input)**: `handleHooksRequest`, `controlUiEnabled` ë“± (ê° ë¶€ì„œì˜ ì—°ë½ì²˜)
*   **ì¶œë ¥(Output)**: `HttpServer` (Node.js ì„œë²„ ê°ì²´)
*   **ì´ˆë³´ì í´ë¡  ì „ëµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { Hono } from "hono";
        import { narrate } from "../narrator";
        
        export function createHttpServer() {
            const app = new Hono();
            app.get("/", (c) => {
                narrate({ 
                    who: "HttpHandler", 
                    role: "ëŒ€ë³€ì¸", 
                    action: "ê¸°ì(Client) ì§ˆë¬¸ ì‘ëŒ€" 
                });
                return c.text("SPOKESPERSON: I am ready.");
            });
            return app;
        }
        ```

##### 5. `attachGatewayWsHandlers` (í†µì‹ ë³‘: ì „í™”ì„  ê°œí†µ)
*   **ì—­í• **: ë“¤ì–´ì˜¤ëŠ” ì†Œì¼“ ì—°ê²°(`connection`)ì„ ê°ì§€í•˜ê³ , "ëˆ„êµ¬ì‹­ë‹ˆê¹Œ(Auth)"ë¥¼ ë¬¼ì–´ë³´ê³ , "ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤" ë„ì¥ì„ ì°ì–´ì£¼ëŠ” ìˆ˜ë¬¸ì¥ì…ë‹ˆë‹¤.
*   **ì…ë ¥(Input)**: `wss` (ì›¹ì†Œì¼“ ì„œë²„), `clients` (ì ‘ì†ì ëª…ë‹¨)
*   **ì¶œë ¥(Output)**: `void` (ëŒë ¤ì£¼ëŠ” ê²ƒ ì—†ìŒ. ê·¸ëƒ¥ ì „í™”ì„ ë§Œ ê½‚ì•„ë‘ )
*   **ì´ˆë³´ì í´ë¡  ì „ëµ (Stub First)**:
    *   **Stub Code**:
        ```typescript
        import { narrate } from "../narrator";

        export function attachGatewayWsHandlers({ wss }) {
            wss.on("connection", (ws) => {
                narrate({ 
                    who: "WsHandler", 
                    role: "í†µì‹ ë³‘", 
                    action: "ìƒˆë¡œìš´ ì „í™” ì—°ê²° ìˆ˜ë½" 
                });
            });
        }
        ```

> [!TIP]
> **"Stubbing(ê»ë°ê¸° ë§Œë“¤ê¸°)"** ì€ ì´ˆë³´ìì˜ ê¼¼ìˆ˜ê°€ ì•„ë‹ˆë¼, ì‹œë‹ˆì–´ ê°œë°œìê°€ ë³µì¡ë„ë¥¼ ê´€ë¦¬í•˜ëŠ” **ê°€ì¥ í”„ë¡œí˜ì…”ë„í•œ ê¸°ìˆ **ì…ë‹ˆë‹¤. 
> 700ì¤„ì„ í•œ ë²ˆì— ì§œëŠ” ì‚¬ëŒì€ ì„¸ìƒì— ì—†ìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ì•Œë ¤ë“œë¦° **5ê°œì˜ ê»ë°ê¸° í•¨ìˆ˜**ë§Œ ë¨¼ì € íŒŒì¼ì— ë³µë¶™í•˜ê³ , `startGatewayServer` ì•ˆì—ì„œ í˜¸ì¶œë§Œ í•´ë³´ì„¸ìš”. **ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ë˜ëŠ” ê¸°ì¨**ì„ ë¨¼ì € ë§›ë³´ì…”ì•¼ í•©ë‹ˆë‹¤.

#### 2-2-2. [AI ì‹œëŒ€ì˜ ì½”ë”©] TypeScript ë¬¸ë²•, êµ³ì´ ë°°ì›Œì•¼ í•˜ë‚˜ìš”?

"AIê°€ ì½”ë“œ ë‹¤ ì§œì£¼ëŠ”ë°, ë¬¸ë²• ê³µë¶€ë¥¼ í•´ì•¼ í•˜ë‚˜ìš”?"
**ë„¤, í•˜ì§€ë§Œ ê´€ì ì´ ë‹¬ë¼ì•¼ í•©ë‹ˆë‹¤.** ì§ì ‘ ì½”ë”©í•˜ê¸° ìœ„í•´ì„œê°€ ì•„ë‹ˆë¼, **AIì—ê²Œ ì •í™•íˆ ì§€ì‹œí•˜ê¸° ìœ„í•´ì„œ** ë°°ì›Œì•¼ í•©ë‹ˆë‹¤.

*   **1. Interface/Type = "AIì—ê²Œ ë‚´ë¦¬ëŠ” ìŠ¤í™(Spec)"**
    *   **ê³¼ê±°**: ë‚´ê°€ ì½”ë”©í•˜ë‹¤ í‹€ë¦¬ë©´ ì»´íŒŒì¼ëŸ¬í•œí…Œ í˜¼ë‚˜ë ¤ê³  ì”€.
    *   **AI ì‹œëŒ€**: **"ì•¼ AIì•¼, ë„¤ê°€ ì§¤ í•¨ìˆ˜ëŠ” ë°˜ë“œì‹œ ì´ ëª¨ì–‘ì´ì–´ì•¼ í•´!"** ë¼ê³  ê·œê²©(Spec)ì„ ë˜ì ¸ì£¼ëŠ” ìš©ë„.
    *   **ì „ëµ**: êµ¬í˜„(`function`)ë³´ë‹¤ íƒ€ì…(`interface`)ì„ ë¨¼ì € ì •ì˜í•˜ê³  AIì—ê²Œ ë˜ì§€ì„¸ìš”. ê·¸ëŸ¬ë©´ AIê°€ ë”´ì†Œë¦¬ë¥¼ ëª» í•©ë‹ˆë‹¤.

*   **2. Promise/Async = "AIì•¼, ì ê¹ë§Œ ê¸°ë‹¤ë ¤"**
    *   **ê³¼ê±°**: ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì–´ë ¤ì›Œì„œ ì½œë°± ì§€ì˜¥ì— ë¹ ì§.
    *   **AI ì‹œëŒ€**: "ì´ ì‘ì—…ì€ ì˜¤ë˜ ê±¸ë¦¬ë‹ˆê¹Œ(`async`), ë‹¤ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€(`await`) ë‹¤ìŒ ì¤„ë¡œ ë„˜ì–´ê°€" ë¼ëŠ” **ì—…ë¬´ ìˆœì„œ ì§€ì‹œì„œ**ì…ë‹ˆë‹¤.

#### 2-2-3. [ì‹¤ì „ í´ë¡  ê°€ì´ë“œ] AIë¥¼ ë¶€ë ¤ë¨¹ëŠ” ë²• (How to Command)

ì´ ë³µì¡í•œ íŒŒì¼ì„ í˜¼ì ì§œì§€ ë§ˆì„¸ìš”. ì´ë ‡ê²Œ ì§€ì‹œí•˜ì‹­ì‹œì˜¤.

1.  **ìŠ¤í… 1: ë¹ˆ ê»ë°ê¸° ìš”ì²­ (Stubbing)**
    > "server.impl.tsì˜ `startGatewayServer` í•¨ìˆ˜ ë¼ˆëŒ€ë§Œ ë§Œë“¤ì–´ì¤˜. ë‚´ë¶€ëŠ” ë¹„ì›Œë‘ê³ , ë¦¬í„´ íƒ€ì…ì¸ `GatewayServer`ë§Œ ë§ì¶°ì¤˜."
2.  **ìŠ¤í… 2: ì„¤ì • ë¡œì§ ì£¼ì… (Dependency Injection)**
    > "ë°©ê¸ˆ ë§Œë“  í•¨ìˆ˜ ë§¨ ìœ—ì¤„ì— `loadConfig`ë¥¼ í˜¸ì¶œí•´ì„œ ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë¡œì§ë§Œ ì¶”ê°€í•´ì¤˜. `loadConfig`ëŠ” ì—†ëŠ” í•¨ìˆ˜ë‹ˆê¹Œ import ë¬¸ë§Œ ì ì–´ë†”."
3.  **ìŠ¤í… 3: ì„œë¸Œì‹œìŠ¤í…œ ì—°ê²° (Connectivity)**
    > "ì´ì œ `createHttpServer`ì™€ `createWebSocketServer`ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ì¤‘ê°„ì— ë„£ì–´ì¤˜."

**í•µì‹¬**: AIì—ê²Œ í•œ ë²ˆì— "ì´ê±° ë‹¤ ë§Œë“¤ì–´"ë¼ê³  í•˜ì§€ ë§ê³ , **"ì¡°ë¦½ ì„¤ëª…ì„œì˜ í•œ ë¬¸ì¥"** ì”© ë˜ì§€ì„¸ìš”. ê·¸ê²ƒì´ ì§„ì§œ ì—”ì§€ë‹ˆì–´ì˜ ì‹¤ë ¥ì…ë‹ˆë‹¤.

#### 2-2-4. [TS ë¬¸ë²• ì‹¬í™”] 'GatewayServer' íƒ€ì… ì™„ì „ í•´ë¶€

ì‚¬ìš©ìë‹˜ì´ ì§ˆë¬¸í•˜ì‹  `GatewayServer` íƒ€ì… ì •ì˜ë¥¼ í•œ ì¤„ í•œ ì¤„ ëœ¯ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì´ê²ƒì€ **"ì„œë²„ ë¦¬ëª¨ì»¨ì˜ ì‚¬ìš© ì„¤ëª…ì„œ"** ì…ë‹ˆë‹¤.

```typescript
export type GatewayServer = {
  // [1] ê¸°ëŠ¥ ì •ì˜ (Property: Function)
  // "close ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„œë²„ê°€ êº¼ì§‘ë‹ˆë‹¤."
  close: (
      // [2] ì„ íƒì  ì˜µì…˜ (Optional Parameter)
      // "ì˜µì…˜ì€ ì•ˆ ë„£ì–´ë„ ë©ë‹ˆë‹¤(?). ë„£ëŠ”ë‹¤ë©´ 'ì´ìœ 'ì™€ 'ì¬ì‹œì‘ ì‹œê°„'ì„ ì ìœ¼ì„¸ìš”."
      opts?: { reason?: string; restartExpectedMs?: number | null }
  ) 
  // [3] ë¹„ë™ê¸° ì•½ì† (Async Return)
  // "ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¦‰ì‹œ êº¼ì§€ì§€ ì•Šê³ , ì™„ì „íˆ êº¼ì§ˆ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼(Promise) í•©ë‹ˆë‹¤."
  => Promise<void>;
};
```

1.  **`export type GatewayServer = { ... }`**:
    *   **ì˜ë¯¸**: "ì•ìœ¼ë¡œ `GatewayServer`ë¼ê³  í•˜ë©´, ë¬´ì¡°ê±´ ì¤‘ê´„í˜¸ `{}` ì•ˆì— ìˆëŠ” ê¸°ëŠ¥ë“¤ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤"ëŠ” **ê³„ì•½ì„œ(Contract)** ì…ë‹ˆë‹¤.
    *   **AI í™œìš©ë²•**: AIì—ê²Œ "ì„œë²„ ë§Œë“¤ì–´ì¤˜"ë¼ê³  í•˜ê¸° ì „ì—, **"ì„œë²„ì˜ ë¦¬ëª¨ì»¨ì€ ë¬´ì¡°ê±´ ì´ë ‡ê²Œ ìƒê²¨ì•¼ í•´"** ë¼ê³  ì´ íƒ€ì…ì„ ë¨¼ì € ë˜ì ¸ì£¼ì„¸ìš”. ê·¸ëŸ¬ë©´ AIê°€ ì—‰ëš±í•œ ë¦¬ëª¨ì»¨ì„ ë§Œë“¤ì–´ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.

2.  **`opts?:` (ë¬¼ìŒí‘œì˜ ë§ˆë²•)**:
    *   **ë¬¸ë²•**: **Optional Parameter**. ìˆì–´ë„ ë˜ê³  ì—†ì–´ë„ ë˜ëŠ” ê°’.
    *   **ì€ìœ **: "ì„ í’ê¸° íƒ€ì´ë¨¸". íƒ€ì´ë¨¸ë¥¼ ì•ˆ ë§ì¶”ê³ (`undefined`) ê·¸ëƒ¥ êº¼ë„ ë˜ê³ , 1ì‹œê°„ ë’¤ì— êº¼ì§€ë¼ê³  ë§ì¶°ë„ ë©ë‹ˆë‹¤.
    *   **AI í™œìš©ë²•**: "ì˜µì…˜ì´ ë„ˆë¬´ ë³µì¡í•´"ë¼ê³  ëŠë¼ë©´ AIì—ê²Œ **"ëª¨ë“  í•„ë“œì— `?`ë¥¼ ë¶™ì—¬ì„œ ì„ íƒ ì‚¬í•­ìœ¼ë¡œ ë°”ê¿”ì¤˜(Make everything optional)"** ë¼ê³  ì§€ì‹œí•˜ì„¸ìš”. ì½”ë”©ì´ í›¨ì”¬ í¸í•´ì§‘ë‹ˆë‹¤.

3.  **`=> Promise<void>`**:
    *   **ë¬¸ë²•**: **ë¹„ë™ê¸° ë°˜í™˜**.
    *   **ì˜ë¯¸**: "ì´ í•¨ìˆ˜ëŠ” `return` ê°’ì´ ì—†ìŠµë‹ˆë‹¤(`void`). í•˜ì§€ë§Œ ì‘ì—…ì´ ëë‚¬ë‹¤ëŠ” ì‹ í˜¸(`Promise`)ëŠ” ë‚˜ì¤‘ì— ë³´ë‚´ì¤ë‹ˆë‹¤."
    *   **í˜„ì‹¤ ë¹„ìœ **: "ë°°ë‹¬ ì£¼ë¬¸". ì§œì¥ë©´ì„ ì‹œí‚¤ë©´(í•¨ìˆ˜ í˜¸ì¶œ), ì§œì¥ë©´ì´ ë°”ë¡œ ë½• í•˜ê³  ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. "ë°°ë‹¬ ì¤‘(Pending)" ìƒíƒœì˜€ë‹¤ê°€ ë‚˜ì¤‘ì— "ë„ì°©(Resolved)"í•©ë‹ˆë‹¤.
    *   **AI í™œìš©ë²•**: ìš”ì¦˜ ì„œë²„ ì½”ë“œëŠ” 99%ê°€ ë¹„ë™ê¸°ì…ë‹ˆë‹¤. AIì—ê²Œ **"ëª¨ë“  IO ì‘ì—…ì€ ë¬´ì¡°ê±´ `async/await`ë¡œ ì§œì¤˜"** ë¼ê³  ë¯¸ë¦¬ ëª» ë°•ìœ¼ì„¸ìš”. ì•ˆ ê·¸ëŸ¬ë©´ AIê°€ ì˜›ë‚  ë°©ì‹(ë™ê¸°ì‹)ìœ¼ë¡œ ì§œì„œ ì„œë²„ ì „ì²´ë¥¼ ë©ˆì¶”ê²Œ(Blocking) í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

---

```typescript
// [í•µì‹¬ í•¨ìˆ˜] ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ ì„œë²„ê°€ íƒœì–´ë‚©ë‹ˆë‹¤.
export async function startGatewayServer(port = 18789, opts: GatewayServerOptions = {}) {
  
  // 1. [ì¤€ë¹„ ë‹¨ê³„] ë¹„í–‰ ì „ ì ê²€ (Pre-flight Check)
  // í™˜ê²½ ì„¤ì •(Config)ì„ ì½ì–´ì˜¤ê³ , ë¡œê·¸ ì‹œìŠ¤í…œì„ ì¼­ë‹ˆë‹¤.
  const config = await loadConfig(CONFIG_PATH_CLAWDBOT); 
  const log = createSubsystemLogger("gateway");
  
  // 2. [ì‹¤í–‰ ë‹¨ê³„] ì‹¬ì¥ ë°•ë™ ì‹œì‘ (Heartbeat)
  // ì„œë²„ê°€ ì‚´ì•„ìˆìŒì„ ì•Œë¦¬ëŠ” ì‹¬ì¥ ë°•ë™(Heartbeat) ì‹œìŠ¤í…œì„ ê°€ë™í•©ë‹ˆë‹¤.
  const heartbeatHandle = startHeartbeatRunner({ /* ... */ });

  // 3. [ì—°ê²° ë‹¨ê³„] ê° ë¶€ì„œ(ì¥ê¸°) ì†Œì§‘
  // ì…(HTTP), ê·€(WebSocket), íŒ”ë‹¤ë¦¬(Channel) ë‹´ë‹¹ìë“¤ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
  
  // 3-1. ì±„ë„ ë§¤ë‹ˆì € (íŒ”ë‹¤ë¦¬)
  const channelManager = createChannelManager({ /* ... */ });
  
  // 3-2. HTTP ì„œë²„ (ì…)
  // Hono ì•±ì„ ë§Œë“¤ê³  ë¼ìš°íŒ…ì„ ì„¤ì •í•©ë‹ˆë‹¤.
  const { app, server } = await createHttpServer({ /* ... */ });
  
  // 3-3. WebSocket ì„œë²„ (ê·€)
  // ì‹¤ì‹œê°„ í†µì‹ ì„ ìœ„í•œ ì†Œì¼“ ì„œë²„ë¥¼ ì—½ë‹ˆë‹¤.
  const wss = await createWebSocketServer({ /* ... */ });

  // 4. [ìµœì¢… ìŠ¹ì¸] ì¤€ë¹„ ì™„ë£Œ
  // ëª¨ë“  ì‹œìŠ¤í…œì´ ì •ìƒì ìœ¼ë¡œ ë–´ë‹¤ëŠ” ë¡œê·¸ë¥¼ ë‚¨ê¹ë‹ˆë‹¤.
  log.info(`Gateway running on port ${port}`);

  return { 
    // ë‚˜ì¤‘ì— ì„œë²„ë¥¼ ë„ê±°ë‚˜ ì¡°ì¢…í•  ìˆ˜ ìˆë„ë¡ ë¦¬ëª¨ì»¨(ê°ì²´)ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    close: async () => { /* ì¢…ë£Œ ë¡œì§ */ } 
  };
}
```

#### 2-2-2. [ë°°ê²½ ì§€ì‹] ì™œ ì´ë ‡ê²Œ ëª¨ë“  ê±¸ í•œ í•¨ìˆ˜ì— ë„£ì—ˆë‚˜ìš”?
*   **ì˜ì¡´ì„± ì£¼ì…(Dependency Injection)**: ê° ì¥ê¸°ë“¤ì€ ì„œë¡œê°€ í•„ìš”í•©ë‹ˆë‹¤.
    *   `HTTP ì„œë²„`ëŠ” `ì±„ë„ ë§¤ë‹ˆì €`ê°€ í•„ìš”í•©ë‹ˆë‹¤. (ì‚¬ìš©ìê°€ ì›¹ì—ì„œ "ì¹´í†¡ ë³´ë‚´ì¤˜"ë¼ê³  í•˜ë©´ ì±„ë„ ë§¤ë‹ˆì €ì—ê²Œ ì‹œì¼œì•¼ í•˜ë‹ˆê¹Œìš”)
    *   `WebSocket ì„œë²„`ëŠ” `ì—ì´ì „íŠ¸`ê°€ í•„ìš”í•©ë‹ˆë‹¤.
*   **ì¤‘ì•™ í†µì œ**: ë§Œì•½ ê°ì ë”°ë¡œ ì¼œì§€ë©´, "HTTPëŠ” ì¼œì¡ŒëŠ”ë° DBê°€ ì•ˆ ì¼œì§€ëŠ”" ë”ì°í•œ ìƒí™©ì´ ë°œìƒí•©ë‹ˆë‹¤. `server.impl.ts`ëŠ” **ëª¨ë“  ì¥ê¸°ê°€ ì™„ë²½í•˜ê²Œ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€(await)**, ë™ì‹œì— ì¶œê²© ëª…ë ¹ì„ ë‚´ë¦½ë‹ˆë‹¤.

---

### 2-3. ì„œë²„ì˜ ì…, HTTP ì„œë²„ (`src/gateway/server-http.ts`) - **[ë‹¨ê³„ 3: í˜¸í¡ê¸° ì—°ê²°]**

ì•ˆë‚´ ë°ìŠ¤í¬(`server.ts`)ì™€ ì‚¬ë ¹ë¶€(`server.impl.ts`)ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì•„ì§ ì´ ì„œë²„ëŠ” **ë²™ì–´ë¦¬**ì…ë‹ˆë‹¤. ì™¸ë¶€ì—ì„œ ë§ì„ ê±¸ ìˆ˜ë„, ëŒ€ë‹µí•  ìˆ˜ë„ ì—†ìŠµë‹ˆë‹¤. ì´ì œ **"ì…(Mouth)"** ì„ ë‹¬ì•„ì¤„ ì°¨ë¡€ì…ë‹ˆë‹¤.

#### 2-3-1. [í•´ë¶€í•™] ì…ì˜ êµ¬ì¡° (The Anatomy of the Mouth)
ì´ íŒŒì¼ì€ **Hono**ë¼ëŠ” ì´ˆê³ ì† í˜€(Language)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

*   **ì—­í• **: ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  HTTP ìš”ì²­(`GET`, `POST`)ì„ ë“£ê³ , ì ì ˆí•œ ë¶€ì„œë¡œ í† ìŠ¤í•©ë‹ˆë‹¤.
*   **í•µì‹¬ ë¶€í’ˆ**:
    *   **Health Check**: "ì‚´ì•„ìˆë‹ˆ?" (`/health`) -> "ì‘" (200 OK)
    *   **Webhooks**: "ìŠ¬ë™ì—ì„œ ë©”ì‹œì§€ ì™”ì–´!" (`/v1/hooks/...`) -> ì±„ë„ ë§¤ë‹ˆì €ì—ê²Œ ì „ë‹¬
    *   **UI Assets**: "ê´€ë¦¬ì í™”ë©´ ë³´ì—¬ì¤˜" (`/ui`) -> HTML íŒŒì¼ ì„œë¹™

#### 2-3-2. [ì½”ë“œ ë¶„ì„] `createHttpServer` (ì… ë§Œë“¤ê¸°)

```typescript
import { Hono } from "hono";
import { serveStatic } from "@hono/node-server/serve-static";

export async function createHttpServer(params: {
  // ì˜ì¡´ì„± ì£¼ì…: ì´ í•¨ìˆ˜ê°€ ì‘ë™í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë‹¤ë¥¸ ë¶€ì„œ ì—°ë½ì²˜ë“¤
  handleHooksRequest: any;  // ì™¸ë¶€ í›… ì²˜ë¦¬ ë‹´ë‹¹ì
  controlUiEnabled: boolean; // UI ì¼¤ì§€ ë§ì§€ ì—¬ë¶€
}) {
  const app = new Hono();

  // 1. [ê¸°ì´ˆ ëŒ€ì‚¬] ìƒì¡´ ì‹ ê³  (Ping/Pong)
  // ê°€ì¥ ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. "ë‚˜ ì‚´ì•„ìˆì–´ìš”?"ë¼ê³  ë¬¼ìœ¼ë©´ "Pong" í•´ì¤ë‹ˆë‹¤.
  // í´ë¼ìš°ë“œ(AWS, Fly.io)ê°€ ì„œë²„ê°€ ì£½ì—ˆëŠ”ì§€ ì‚´ì•˜ëŠ”ì§€ ì°ŒëŸ¬ë³¼ ë•Œ ì”ë‹ˆë‹¤.
  app.get("/health", (c) => c.text("ok"));

  // 2. [ëª©ì†Œë¦¬] ê´€ë¦¬ì UI ì„œë¹™
  // ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•˜ë©´ ì´ìœ í™”ë©´(HTML)ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
  if (params.controlUiEnabled) {
    // "assets í´ë”ì— ìˆëŠ” íŒŒì¼ ì¢€ ë³´ì—¬ì¤˜" (ì •ì  íŒŒì¼ ì„œë¹™)
    app.use("/ui/*", serveStatic({ root: "./assets" }));
  }

  // 3. [ê·€] ì™¸ë¶€ í›… ë“£ê¸° (Listening Hooks)
  // Slackì´ë‚˜ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì´ ë³´ë‚´ëŠ” ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤.
  app.all("/v1/hooks/*", async (c) => {
    return params.handleHooksRequest(c); // ë‹´ë‹¹ìì—ê²Œ í† ìŠ¤!
  });

  return { 
    app, // ì™„ì„±ëœ ì…(Hono App)ì„ ë°˜í™˜
  };
}
```

#### 2-3-3. [ì‹¤ìŠµ ê°€ì´ë“œ] ë‚´ ì†ìœ¼ë¡œ ì… ë‹¬ì•„ë³´ê¸° (Hands-on Stub)

ì²˜ìŒë¶€í„° ì™„ë²½í•œ ë¼ìš°íŒ…ì„ ì§¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ì¼ë‹¨ **"ìˆ¨ì„ ì‰¬ëŠ”ì§€"** ë§Œ í™•ì¸í•©ì‹œë‹¤.

1.  `src/gateway/server-http.ts` íŒŒì¼ì„ ë§Œë“œì„¸ìš”.
2.  ì•„ë˜ì˜ **ìµœì†Œ ìƒì¡´ í›ˆë ¨ ì½”ë“œ**ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.

```typescript
import { Hono } from "hono";
import { narrate } from "../narrator";

export async function createHttpServer(params: any) {
  const app = new Hono();

  // "ì‹¬ì¥ì´ ëœë‹ˆë‹¤."
  app.get("/", (c) => {
    narrate({ who: "HTTP", role: "ì…", action: "ìˆ¨ì‰¬ê¸°(Health Check)" });
    return c.text("OpenClaw Gateway: Breathing...");
  });

  return { app };
}
```

3.  ì´ì œ ë¸Œë¼ìš°ì €ë¥¼ ì¼œê³  `http://localhost:18789` (í¬íŠ¸ëŠ” ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦„)ì— ì ‘ì†í–ˆì„ ë•Œ, **"OpenClaw Gateway: Breathing..."** ì´ë¼ëŠ” ê¸€ìê°€ ë³´ì´ë©´ ì„±ê³µì…ë‹ˆë‹¤! ì—¬ëŸ¬ë¶„ì€ ë°©ê¸ˆ ì„œë²„ì— ìƒëª…ì„ ë¶ˆì–´ë„£ì€ ê²ƒì…ë‹ˆë‹¤.

---

### 2-4. ì„œë²„ì˜ ê·€, WebSocket ì„œë²„ (`src/gateway/server-ws-runtime.ts`) - **[ë‹¨ê³„ 4: ì‹ ê²½ë§ ì—°ê²°]**

HTTPê°€ "ë˜‘ë˜‘, ê±°ê¸° ëˆ„êµ¬ ìˆë‚˜ìš”?" í•˜ê³  ë¬»ëŠ” **ë‹¨ë°œì„± ëŒ€í™”**ë¼ë©´, WebSocketì€ ì „í™”ì„ ì„ ë½‘ì§€ ì•Šê³  ê³„ì† ë“¤ê³  ìˆëŠ” **ì‹¤ì‹œê°„ í†µí™”**ì…ë‹ˆë‹¤. ì´ê²ƒì€ ë´‡ì˜ **"ì‹ ê²½ë§(Nervous System)"** ì´ì **"ê·€(Ears)"** ì…ë‹ˆë‹¤.

#### 2-4-1. [í•´ë¶€í•™] ê·€ì˜ êµ¬ì¡°
ì´ íŒŒì¼ì€ `ws` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ í†µì‹ ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

*   **ì—­í• **: ì›¹ ëŒ€ì‹œë³´ë“œì™€ ì„œë²„ ì‚¬ì´ì˜ **'í•«ë¼ì¸'** ì„ ê°œì„¤í•©ë‹ˆë‹¤. ë´‡ì´ ì§€ê¸ˆ ë¬´ìŠ¨ ìƒê°ì„ í•˜ëŠ”ì§€, ë¡œê·¸ëŠ” ë¬´ì—‡ì¸ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
*   **í•µì‹¬ ë¶€í’ˆ**:
    *   **Heartbeat (ìƒì¡´ ì‹ í˜¸)**: "ì•„ì§ ì „í™” ì•ˆ ëŠì—ˆì§€?" (ì£¼ê¸°ì  ì‹ í˜¸ í™•ì¸)
    *   **Broadcast (ë°©ì†¡)**: "ì, ëª¨ë“  ëŒ€ì‹œë³´ë“œ ì§‘ì¤‘! ì§€ê¸ˆ ë´‡ì´ ë‹µì¥ì„ ë³´ë‚¸ë‹¤!" (ì—¬ëŸ¬ ì ‘ì†ìì—ê²Œ ë™ì‹œ ì „ì†¡)

#### 2-4-2. [ì½”ë“œ ë¶„ì„] `attachGatewayWsHandlers` (ê·€ ë‹¬ê¸°)

```typescript
import { WebSocketServer } from "ws";

export function attachGatewayWsHandlers(wss: WebSocketServer) {
  // 1. [ì—°ê²° ìˆ˜ë¦½] ëˆ„êµ°ê°€ ì „í™”ë¥¼ ê±¸ì–´ì˜¤ë©´(connection ì´ë²¤íŠ¸)
  wss.on("connection", (ws) => {
    console.log("â˜ï¸ ì‹ ê²½ë§: ìƒˆë¡œìš´ ëŒ€ì‹œë³´ë“œê°€ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.");

    // 2. [ë§ ë“£ê¸°] ìƒëŒ€ë°©ì´ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´
    ws.on("message", (data) => {
      // ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§...
    });

    // 3. [ì „í™” ëŠê¸°]
    ws.on("close", () => {
      console.log("ğŸ’€ ì‹ ê²½ë§: ì—°ê²°ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    });
  });
}
```

#### 2-4-3. [Coach's Tip] ì™œ HTTP ë§ê³  WebSocketì„ ì“°ë‚˜ìš”?
ì—¬ëŸ¬ë¶„, ì¹´í†¡ì„ í•˜ëŠ”ë° ë‚´ê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œê¹Œì§€ëŠ” ëŒ€í™”ì°½ì´ ì•ˆ ë°”ë€ë‹¤ê³  ìƒìƒí•´ ë³´ì„¸ìš”. ìƒëŒ€ë°©ì´ ë‹µì¥ì„ ë³´ëƒˆëŠ”ì§€ í™•ì¸í•˜ë ¤ê³  ê³„ì† 'ìƒˆë¡œê³ ì¹¨' ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•œë‹¤ë©´? ê·¸ê±´ **ì¬ì•™**ì…ë‹ˆë‹¤. 
WebSocketì€ ì„œë²„ê°€ **ë¨¼ì €** ì‚¬ìš©ìì—ê²Œ ë§ì„ ê±¸ ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ë´‡ì´ ìˆ˜ë‹¤ìŸì´ê°€ ë˜ë ¤ë©´ ì´ ì‹ ê²½ë§ì´ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.

---

### 2-5. ì„œë²„ì˜ íŒ”ë‹¤ë¦¬, Channel Manager (`src/gateway/server-channels.ts`) - **[ë‹¨ê³„ 5: íŒ”ë‹¤ë¦¬ ë¶€ì°©]**

ì´ì œ ì…ê³¼ ê·€ê°€ ìƒê²¼ìœ¼ë‹ˆ, ì‹¤ì œë¡œ ì™¸ë¶€ì™€ ì†Œí†µí•  **"íŒ”ë‹¤ë¦¬(Limbs)"** ë¥¼ ì›€ì§ì—¬ì•¼ í•©ë‹ˆë‹¤. WhatsApp, Slack ê°™ì€ ë‹¤ì–‘í•œ ë©”ì‹ ì €ë“¤ì„ ì´ê´„ ê´€ë¦¬í•˜ëŠ” ê³³ì…ë‹ˆë‹¤.

#### 2-5-1. [í•´ë¶€í•™] íŒ”ë‹¤ë¦¬ ì œì–´ì‹¤
*   **ì—­í• **: "ì¹´í†¡ ë‹´ë‹¹ì(WhatsApp)", "ìŠ¬ë™ ë‹´ë‹¹ì(Slack)"ë¥¼ ì†Œì§‘í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.
*   **ì™œ Managerë¼ê³  ë¶€ë¥´ë‚˜ìš”?**: ì†ê°€ë½ í•˜ë‚˜í•˜ë‚˜(ì±„ë„ í•˜ë‚˜í•˜ë‚˜)ë¥¼ ì§ì ‘ ì›€ì§ì´ëŠ” ê²Œ ì•„ë‹ˆë¼, **"íŒ”ì„ ì›€ì§ì—¬!"** ë¼ê³  ëª…ë ¹ì„ ë‚´ë¦¬ë©´ ë‚´ë¶€ì—ì„œ ì•Œì•„ì„œ ì¡°ìœ¨í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

#### 2-5-2. [ì½”ë“œ ë¶„ì„] `createChannelManager`

```typescript
export function createChannelManager() {
  const channels = new Map(); // í˜„ì¬ ì—°ê²°ëœ íŒ”ë‹¤ë¦¬ ëª©ë¡

  return {
    // ëª¨ë“  íŒ”ë‹¤ë¦¬ë¥¼ ì¶œê²©(Start) ì‹œí‚µë‹ˆë‹¤.
    startChannels: async (gateway) => {
      console.log("ğŸ¦¾ íŒ”ë‹¤ë¦¬ ë¶€ì°©: WhatsApp ì±„ë„ì„ ê°€ë™í•©ë‹ˆë‹¤.");
      // ì—¬ê¸°ì„œ ì‹¤ì œë¡œ WhatsApp ì±„ë„ ë¡œì§ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
    },
    // ëª¨ë“  íŒ”ë‹¤ë¦¬ë¥¼ ì •ì§€(Stop) ì‹œí‚µë‹ˆë‹¤.
    stopChannels: async () => {
      console.log("ğŸ§˜ íŒ”ë‹¤ë¦¬ íšŒìˆ˜: ëª¨ë“  ì—°ê²°ì„ ì•ˆì „í•˜ê²Œ ì¢…ë£Œí•©ë‹ˆë‹¤.");
    }
  };
}
```

> [!IMPORTANT]
> **ì—¬ê¸°ê¹Œì§€ ì˜¤ì…¨ë‹¤ë©´, ì—¬ëŸ¬ë¶„ì€ ì„œë²„ì˜ 'ìƒë¬¼í•™ì  êµ¬ì¡°'ë¥¼ ëª¨ë‘ ì™„ì„±í•˜ì‹  ê²ë‹ˆë‹¤.**
> 1. ì•ˆë‚´ ë°ìŠ¤í¬(Facacde)
> 2. ë‚´ë¶€ ì¥ê¸°(Core Logic)
> 3. ì…(HTTP)
> 4. ê·€(WebSocket)
> 5. íŒ”ë‹¤ë¦¬(Channel Manager)
> 
> ì´ì œ ì´ ìœ ë ¹ ì„œë²„ì— ì§„ì§œ ì˜í˜¼ì„ ë¶ˆì–´ë„£ì„ ì‹œê°„ì…ë‹ˆë‹¤. ë‹¤ìŒ ì±•í„°ì—ì„œ **[ì§„ì§œ WhatsApp]** ì„ ì—°ê²°í•´ ë´…ì‹œë‹¤!

---

## 3. WhatsApp ì±„ë„ ì—°ê²° (The Sense of Sight/Sound)

ë´‡ì´ ì„¸ìƒì„ ì¸ì‹í•˜ëŠ” **"ëˆˆê³¼ ê·€"** ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” **WhatsApp**ì„ ì˜ˆë¡œ ë“¤ì–´, ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì–´ë–»ê²Œ ëŒ€í™”í•˜ëŠ”ì§€ íŒŒí—¤ì³ ë³´ê² ìŠµë‹ˆë‹¤.

### 3-1. [ê¸°ìˆ  í•´ë¶€] ì™œ Baileysì¸ê°€? (The Magic of Baileys)

ë³´í†µ ê¸°ì—…ë“¤ì´ ë´‡ì„ ë§Œë“¤ ë•ŒëŠ” í˜ì´ìŠ¤ë¶(Meta)ì—ì„œ ì œê³µí•˜ëŠ” ê³µì‹ "WhatsApp Business API"ë¥¼ ì”ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ê±´ ìœ ë£Œì´ê³ , ìŠ¹ì¸ ì ˆì°¨ë„ ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤. 

OpenClaw(Moltbot)ì´ ì„ íƒí•œ **Baileys**ëŠ” ë‹¤ë¦…ë‹ˆë‹¤.
*   **ì›ë¦¬**: ìš°ë¦¬ê°€ ë¸Œë¼ìš°ì €ì—ì„œ 'WhatsApp Web'ì„ ì¼œì„œ QR ì½”ë“œë¥¼ ì°ëŠ” ê²ƒê³¼ **ì™„ì „íˆ ë˜‘ê°™ì€ ë°©ì‹**ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. 
*   **ì€ìœ (Metaphor)**: **"íˆ¬ëª… ì¸ê°„ ë¸Œë¼ìš°ì €"**. BaileysëŠ” í™”ë©´ì´ ì—†ëŠ”(Headless) ë¸Œë¼ìš°ì €ê°€ ë˜ì–´, ì‚¬ìš©ì ëŒ€ì‹  í‚¤ë³´ë“œë¥¼ ì¹˜ê³  í™”ë©´ì„ ì½ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

### 3-2. WhatsApp ì–´ëŒ‘í„° êµ¬í˜„ (`src/channels/whatsapp.ts`)

ì´ ì½”ë“œëŠ” ë‹¨ìˆœí•œ í†µì‹  ì½”ë“œê°€ ì•„ë‹ˆë¼, **"ì´ì§ˆì ì¸ ì–¸ì–´ë¥¼ í†µì—­í•˜ëŠ” í†µì—­ì‚¬"** ì˜ ì½”ë“œì…ë‹ˆë‹¤.

#### 3-2-1. [ì½”ë“œ ë¶„ì„] `startWhatsAppChannel`

```typescript
import makeWASocket, { useMultiFileAuthState } from "@whiskeysockets/baileys";

export async function startWhatsAppChannel(gateway: any) {
  // 1. [ê¸°ì–µ ì¥ì¹˜] ì„¸ì…˜ ìœ ì§€ (Session Persistence)
  // ë§¤ë²ˆ QR ì½”ë“œë¥¼ ì°ìœ¼ë©´ ê·€ì°®ê² ì£ ? ë¡œê·¸ì¸ ì •ë³´ë¥¼ íŒŒì¼ì— ì €ì¥í•´ë‘¡ë‹ˆë‹¤.
  const { state, saveCreds } = await useMultiFileAuthState("auth_info_baileys");

  // 2. [ë¬´ì „ê¸° ì¼œê¸°] ì†Œì¼“ ì—°ê²°
  const sock = makeWASocket({
    auth: state,
    printQRInTerminal: true, // í„°ë¯¸ë„ì— QR ì½”ë“œë¥¼ ë„ì›ë‹ˆë‹¤.
  });

  // 3. [ê¸°ì–µ ì—…ë°ì´íŠ¸] ë¡œê·¸ì¸ ì •ë³´ê°€ ë°”ë€Œë©´(ìƒˆ í† í° ë“±) ë‹¤ì‹œ ì €ì¥í•©ë‹ˆë‹¤.
  sock.ev.on("creds.update", saveCreds);

  // 4. [ê²½ì²­í•˜ê¸°] ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ë„ì°©í•˜ë©´ (Upsert)
  sock.ev.on("messages.upsert", async ({ messages }) => {
    const msg = messages[0];
    if (!msg.message) return; // ë‚´ìš© ì—†ëŠ” ë©”ì‹œì§€ëŠ” ë¬´ì‹œ

    // [ì¤‘ìš”] ë°ì´í„° ì •ê·œí™” (Normalization)
    // WhatsApp íŠ¹ìœ ì˜ ë³µì¡í•œ JSONì„ Gatewayê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ë‹¨ìˆœí•œ í˜•íƒœë¡œ ë°”ê¿‰ë‹ˆë‹¤.
    const normalizedMsg = {
      from: msg.key.remoteJid, // ëˆ„ê°€ ë³´ëƒˆë‚˜?
      text: msg.message.conversation || msg.message.extendedTextMessage?.text, // ë­ë¼ê³  í–ˆë‚˜?
      timestamp: msg.messageTimestamp
    };

    // 5. [ë³´ê³ ] Gateway ì‚¬ë ¹ë¶€ì— ì•Œë¦½ë‹ˆë‹¤.
    // "ëŒ€ì¥ë‹˜! ë°–ì—ì„œ ì´ëŸ° ë©”ì‹œì§€ê°€ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤!"
    gateway.emit("incoming_message", normalizedMsg);
  });
}
```

#### 3-2-2. [Coach's Tip] ì™œ êµ³ì´ ì •ê·œí™”(Normalization)ë¥¼ í•˜ë‚˜ìš”?
ì—¬ëŸ¬ë¶„, ì§€ê¸ˆì€ WhatsAppë§Œ ì—°ê²°í•˜ì§€ë§Œ ë‚˜ì¤‘ì— **ìŠ¬ë™(Slack)** ì´ë‚˜ **í…”ë ˆê·¸ë¨(Telegram)** ì„ ì¶”ê°€í•œë‹¤ê³  ìƒê°í•´ ë³´ì„¸ìš”. 
ë§Œì•½ ë°ì´í„° ì •ê·œí™”ë¥¼ ì•ˆ í•˜ë©´, ë´‡ì˜ ë‡Œ(AI)ëŠ” "ì´ê±´ WhatsApp ë§íˆ¬ë„¤?", "ì´ê±´ ìŠ¬ë™ ë§íˆ¬ë„¤?" í•˜ê³  ë§¤ë²ˆ ë‹¤ë¥´ê²Œ ê³µë¶€í•´ì•¼ í•©ë‹ˆë‹¤. 
**"ì–´ë””ì„œ ì˜¤ë“  ë˜‘ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤"** ëŠ” ì´ ì›ì¹™ í•˜ë‚˜ê°€ ë‚˜ì¤‘ì— ì—¬ëŸ¬ë¶„ì˜ ë…¸ê°€ë‹¤(?)ë¥¼ 100ë°° ì¤„ì—¬ì¤ë‹ˆë‹¤.

### 3-3. [ì‹¤ìŠµ] ì§„ì§œ ë‚´ í°ìœ¼ë¡œ ì—°ê²°í•˜ê¸°

1.  í„°ë¯¸ë„ì— `pnpm run dev` (í˜¹ì€ ì„œë²„ ì‹¤í–‰ ëª…ë ¹ì–´)ë¥¼ ì¹©ë‹ˆë‹¤.
2.  í„°ë¯¸ë„ì— ê±°ëŒ€í•œ **QR ì½”ë“œ**ê°€ ë‚˜íƒ€ë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì„¸ìš”.
3.  íœ´ëŒ€í°ì—ì„œ **WhatsApp** ì•±ì„ ì¼­ë‹ˆë‹¤.
4.  `ì„¤ì •(Settings)` -> `ì—°ê²°ëœ ê¸°ê¸°(Linked Devices)` -> `ê¸°ê¸° ì—°ê²°`ì„ ëˆ„ë¦…ë‹ˆë‹¤.
5.  í„°ë¯¸ë„ì˜ QR ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì„¸ìš”.
6.  ì´ì œ ë´‡ì—ê²Œ ì•„ë¬´ ë©”ì‹œì§€ë‚˜ ë³´ë‚´ë³´ì„¸ìš”. í„°ë¯¸ë„ì— ì—¬ëŸ¬ë¶„ì˜ ë©”ì‹œì§€ê°€ ì°íŒë‹¤ë©´? **ì¶•í•˜í•©ë‹ˆë‹¤! ì—¬ëŸ¬ë¶„ì˜ ë´‡ì€ ë“œë””ì–´ ëˆˆì„ ë–´ìŠµë‹ˆë‹¤.**

---

## 4. AI ì—ì´ì „íŠ¸ ì—”ì§„ (The Brain)

ì´ ì•±ì˜ ì§€ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” **"ë‡Œ(Brain)"** ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ì•µë¬´ìƒˆì²˜ëŸ¼ ëŒ€ë‹µí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìŠ¤ìŠ¤ë¡œ ìƒê°í•˜ê³  ë„êµ¬ë¥¼ ì“°ëŠ” **AI ì—ì´ì „íŠ¸(Agent)** ë¡œì„œì˜ í•µì‹¬ ë¡œì§ì„ íŒŒí—¤ì³ ë´…ë‹ˆë‹¤.

### 4-1. [ê¸°ìˆ  í•´ë¶€] ì—ì´ì „íŠ¸ëŠ” ì¼ë°˜ ì±—ë´‡ê³¼ ë¬´ì—‡ì´ ë‹¤ë¥¸ê°€? (Chatbot vs Agent)

ë§ì€ ë¶„ì´ LLM(ChatGPT ë“±)ì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë´‡ì„ ì—ì´ì „íŠ¸ë¼ê³  ë¶€ë¥´ì§€ë§Œ, ê¸°ìˆ ì ìœ¼ë¡œëŠ” í° ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

*   **ì±—ë´‡ (Chatbot)**: ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€í•´ ì§€ì‹(Knowledge)ë§Œìœ¼ë¡œ ëŒ€ë‹µí•©ë‹ˆë‹¤. íŒ”ë‹¤ë¦¬ê°€ ì—†ëŠ” **"ì²œì¬ ë°•ì‚¬"** ì™€ ê°™ìŠµë‹ˆë‹¤.
*   **ì—ì´ì „íŠ¸ (Agent)**: ì§ˆë¬¸ì„ ì´í•´í•œ í›„, ìŠ¤ìŠ¤ë¡œ ì»´í“¨í„°ì˜ ë„êµ¬(íŒŒì¼ ì½ê¸°, ëª…ë ¹ì–´ ì‹¤í–‰ ë“±)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ì§€ì‹ê³¼ íŒ”ë‹¤ë¦¬ë¥¼ ëª¨ë‘ ê°€ì§„ **"í•´ê²°ì‚¬"** ì…ë‹ˆë‹¤.
*   **í•µì‹¬ ì² í•™**: **Re-Act (Reasoning + Acting)**. "ìƒê°í•˜ê³ , í–‰ë™í•˜ê³ , ê²°ê³¼ë¥¼ ê´€ì°°í•˜ê³ , ë‹¤ì‹œ ìƒê°í•˜ë¼."

### 4-2. ì—ì´ì „íŠ¸ ì‹¤í–‰ê¸° ë¡œì§ (`src/agents/pi-embedded-runner.ts`)

ì´ ì½”ë“œëŠ” LLMì—ê²Œ **"ìƒê°í•˜ëŠ” ì‹œê°„"** ê³¼ **"í–‰ë™í•  ë„êµ¬"** ë¥¼ ì¥ì–´ì£¼ëŠ” ì§€íœ˜ì†Œì…ë‹ˆë‹¤.

#### 4-2-1. [ì½”ë“œ ë¶„ì„] `runAgent`

```typescript
import { ChatOpenAI } from "@langchain/openai"; 

export async function runAgent(userInput: string, chatHistory: any[]) {
  // 1. [ì •ì²´ì„± ë¶€ì—¬] ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (System Prompt)
  // ë´‡ì—ê²Œ "ë„ˆëŠ” ëˆ„êµ¬ê³ , ì–´ë–¤ ê°€ì¹˜ê´€ì„ ê°€ì¡ŒëŠ”ê°€"ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
  const systemMessage = {
    role: "system",
    content: "ë„ˆëŠ” Moltbotì´ì•¼. ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³  íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆì–´."
  };

  // 2. [ê¸°ì–µ ì†Œí™˜] ë§¥ë½(Context) êµ¬ì„±
  // ì´ì „ ëŒ€í™” ë‚´ìš©ì„ í•©ì³ì„œ "ìš°ë¦¬ê°€ ë¬´ìŠ¨ ëŒ€í™”ë¥¼ í•˜ê³  ìˆì—ˆëŠ”ì§€"ë¥¼ AIì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤.
  const allMessages = [systemMessage, ...chatHistory, { role: "user", content: userInput }];

  // 3. [ì¶”ë¡  ì‹œì‘] LLM í˜¸ì¶œ
  const response = await llm.generate(allMessages);

  // 4. [í–‰ë™ íŒë‹¨] ë„êµ¬ ì‚¬ìš© ì—¬ë¶€ ì²´í¬
  // AIê°€ "íŒŒì¼ì„ ì½ì–´ì•¼ê² ë‹¤"ë¼ê³  íŒë‹¨í•˜ë©´ íŠ¹ìˆ˜í•œ ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
  if (response.tool_calls) {
    // ì‹¤ì œë¡œ ì»´í“¨í„°ì˜ íŒŒì¼ì„ ì½ê±°ë‚˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    const toolResult = await executeTool(response.tool_calls);
    
    // ê²°ê³¼ë¥¼ ë‹¤ì‹œ AIì—ê²Œ ì•Œë ¤ì£¼ê³  "ì, ì´ì œ ì–´ë–»ê²Œ í• ë˜?"ë¼ê³  ë‹¤ì‹œ ë¬»ìŠµë‹ˆë‹¤. (ì¬ê·€)
    return runAgent(`ë„êµ¬ ì‹¤í–‰ ê²°ê³¼: ${toolResult}`, [...allMessages, response]);
  }

  // 5. [ìµœì¢… ì‘ë‹µ] ì‚¬ìš©ìì—ê²Œ ëŒ€ë‹µ ì „ë‹¬
  return response.content;
}
```

### 4-3. [ì‹¬ì¸µ ë¶„ì„] ê¸°ì–µ ê´€ë¦¬ì˜ ë¯¸í•™ (Context Management)

ì—ì´ì „íŠ¸ì—ê²Œ ê°€ì¥ ì–´ë ¤ìš´ ê²ƒì€ **"ê¸°ì–µë ¥ì˜ í•œê³„"** ì…ë‹ˆë‹¤.

1.  **Context Window**: AIëŠ” í•œ ë²ˆì— ê¸°ì–µí•  ìˆ˜ ìˆëŠ” ì–‘ì´ ì •í•´ì ¸ ìˆìŠµë‹ˆë‹¤. (ì±… í•œ ê¶Œ ë¶„ëŸ‰ ë“±)
2.  **Pruning (ê°€ì§€ì¹˜ê¸°)**: ëŒ€í™”ê°€ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´, ê°€ì¥ ì˜¤ë˜ëœ ëŒ€í™”ë¶€í„° ì‚­ì œí•˜ê±°ë‚˜ ì¤‘ìš”í•œ ë‚´ìš©ë§Œ ìš”ì•½(Summarization)í•´ì„œ ì••ì¶•í•´ì•¼ í•©ë‹ˆë‹¤.
3.  **Why?**: ì´ ì‘ì—…ì„ ì•ˆ í•˜ë©´ ì„œë²„ë¹„(Token ë¹„ìš©)ê°€ í­íƒ„ì²˜ëŸ¼ ë‚˜ì˜¤ê³ , ê²°êµ­ AIê°€ ê³¼ë¶€í•˜ë¡œ ëŒ€í™”ë¥¼ í¬ê¸°í•˜ê²Œ ë©ë‹ˆë‹¤. `pi-embedded-runner.ts`ì˜ ìˆ¨ì€ ê³µë¡œìëŠ” ë°”ë¡œ ì´ **ê¸°ì–µ ê´€ë¦¬ ë¡œì§**ì…ë‹ˆë‹¤.

#### 4-3-1. [Coach's Tip] ì—ì´ì „íŠ¸ê°€ ë°”ë³´ê°€ ë˜ì—ˆì„ ë•Œ í•´ê²°ë²•
AI ì—ì´ì „íŠ¸ë¥¼ ê°œë°œí•˜ë‹¤ ë³´ë©´ ê°€ë” ê³ ì§‘ì„ í”¼ìš°ê±°ë‚˜ ì´ìƒí•œ ì†Œë¦¬ë¥¼ í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤. (Hallucination) ê·¸ëŸ´ ë•ŒëŠ” ì½”ë“œë¥¼ ê³ ì¹˜ê¸° ì „ì— **ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸**ë¥¼ ìˆ˜ì •í•´ ë³´ì„¸ìš”. 
"ì¹œì ˆí•˜ê²Œ ëŒ€ë‹µí•´" ë³´ë‹¤ëŠ” **"ë„ˆëŠ” 5ë…„ ì°¨ ì‹œë‹ˆì–´ ì—”ì§€ë‹ˆì–´ì•¼. ê°„ê²°í•˜ê³  ì •í™•í•˜ê²Œ íŒ©íŠ¸ ìœ„ì£¼ë¡œ ë§í•´"** ë¼ê³  êµ¬ì²´ì ìœ¼ë¡œ ì—­í• ì„ ì§€ì •í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì„±ëŠ¥ì´ 200% ì˜¬ë¼ê°‘ë‹ˆë‹¤.

---

## 5. UI ì œì–´ íŒ¨ë„ (The Face)

ê´€ë¦¬ìê°€ ë´‡ì„ ì œì–´í•˜ê³  ëŒ€í™” ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ëŠ” **"ì–¼êµ´(Face)"** ì…ë‹ˆë‹¤.

### 5-1. [ê¸°ìˆ  í•´ë¶€] ì™œ React ëŒ€ì‹  Litì„ ì¼ì„ê¹Œ? (The Choice of Lit)

ë³´í†µ ì›¹ ì•± í•˜ë©´ Reactë¥¼ ë– ì˜¬ë¦¬ì§€ë§Œ, OpenClaw(Moltbot)ì€ Googleì´ ë§Œë“  **Lit**ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.

*   **ë°°ê²½**: ReactëŠ” ë§¤ìš° ê°•ë ¥í•˜ì§€ë§Œ, ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬ê¸°ê°€ í¬ê³  í•™ìŠµ ê³¡ì„ ì´ ìˆìŠµë‹ˆë‹¤.
*   **Litì˜ íŠ¹ì§•**: ë¸Œë¼ìš°ì € í‘œì¤€ ê¸°ìˆ ì¸ **ì›¹ ì»´í¬ë„ŒíŠ¸(Web Components)** ë¥¼ ê·¹í•œìœ¼ë¡œ í™œìš©í•©ë‹ˆë‹¤. 
*   **ì¥ì **: 
    1. **ê°€ë³ë‹¤**: ë³„ë„ì˜ ë³µì¡í•œ ë¹Œë“œ ê³¼ì • ì—†ì´ë„ ë¸Œë¼ìš°ì €ì—ì„œ ë§¤ìš° ë¹ ë¥´ê²Œ ëŒì•„ê°‘ë‹ˆë‹¤.
    2. **í‘œì¤€ì´ë‹¤**: 10ë…„ ë’¤ì— Reactê°€ ì‚¬ë¼ì ¸ë„, Litìœ¼ë¡œ ë§Œë“  ì»´í¬ë„ŒíŠ¸ëŠ” ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì—¬ì „íˆ ì‘ë™í•  ê²ƒì…ë‹ˆë‹¤.

### 5-2. ì›¹ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ (`ui/src/app.ts`)

ì´ ì½”ë“œëŠ” ì„œë²„ì˜ **"ê·€(WebSocket)"** ì—ì„œ ë“¤ë ¤ì˜¤ëŠ” ì†Œë¦¬ë¥¼ í™”ë©´ì— **"ê·¸ë ¤ì£¼ëŠ”(Rendering)"** ì—­í• ì„ í•©ë‹ˆë‹¤.

#### 5-2-1. [ì½”ë“œ ë¶„ì„] `MoltbotApp`

```typescript
import { LitElement, html, css } from 'lit';
import { customElement, state } from 'lit/decorators.js';

@customElement('moltbot-app') // ë‚˜ë§Œì˜ HTML íƒœê·¸ ë§Œë“¤ê¸°: <moltbot-app></moltbot-app>
export class MoltbotApp extends LitElement {
  // 1. [ìƒíƒœ ë³€ìˆ˜] ì´ ê°’ì´ ë°”ë€Œë©´ í™”ë©´ì´ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ê·¸ë ¤ì§‘ë‹ˆë‹¤.
  @state() messages: string[] = [];

  // 2. [ì‹ ê²½ ì—°ê²°] ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.
  connectedCallback() {
    super.connectedCallback();
    // ì„œë²„ì™€ ì‹¤ì‹œê°„ ì „í™”ì„ (WebSocket)ì„ ì—°ê²°í•©ë‹ˆë‹¤.
    const ws = new WebSocket(`ws://${location.host}`);
    
    ws.onmessage = (event) => {
      // ì„œë²„ì—ì„œ ìƒˆ ë©”ì‹œì§€ê°€ ì˜¤ë©´, ê¸°ì¡´ ëª©ë¡ì— ì¶”ê°€í•©ë‹ˆë‹¤.
      this.messages = [...this.messages, event.data]; 
    };
  }

  // 3. [ê·¸ë¦¬ê¸°] ì‹¤ì œ í™”ë©´ì— ë³´ì—¬ì¤„ HTMLì„ ì‘ì„±í•©ë‹ˆë‹¤.
  render() {
    return html`
      <div class="chat-window">
        <h1>Moltbot ì‚¬ë ¹ë¶€</h1>
        <div class="log-list">
          ${this.messages.map(m => html`<p class="log-item">${m}</p>`)}
        </div>
      </div>
    `;
  }
}
```

### 5-3. [ì‹¬ì¸µ ë¶„ì„] Shadow DOM ì´ë€ ë¬´ì—‡ì¸ê°€?

ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ë“¤ì—ê²ŒëŠ” Litì´ ì‚¬ìš©í•˜ëŠ” **Shadow DOM**ì´ ë‚¯ì„¤ ê²ƒì…ë‹ˆë‹¤.

*   **ì€ìœ (Metaphor)**: **"í”„ë¼ì´ë²„ì‹œ ìœ ë¦¬ ì»¤íŠ¼"**.
*   **ì„¤ëª…**: `moltbot-app` ë‚´ë¶€ì˜ ìŠ¤íƒ€ì¼(CSS)ì€ ì™¸ë¶€ì˜ ìŠ¤íƒ€ì¼ê³¼ **ì™„ë²½í•˜ê²Œ ê²©ë¦¬**ë©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ë¶„ì´ ì‹¤ìˆ˜ë¡œ ë°”ê¹¥ì—ì„œ `p { color: red; }` ë¼ê³  ì ì–´ë„, ì´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ ê¸€ììƒ‰ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. 
*   **Why?**: í”„ë¡œì íŠ¸ê°€ ì»¤ì¡Œì„ ë•Œ ë””ìì¸ì´ ê¼¬ì´ëŠ” ê²ƒì„ ì›ì²œ ë´‰ì‡„í•˜ê¸° ìœ„í•œ ê³ ê¸‰ ê¸°ìˆ ì…ë‹ˆë‹¤.

#### 5-3-1. [Coach's Tip] ì›¹ì€ ê¾¸ë¯¸ê¸° ë‚˜ë¦„ì…ë‹ˆë‹¤.
ê´€ë¦¬ì í™”ë©´ì´ ë„ˆë¬´ íˆ¬ë°•í•´ ë³´ì´ë‚˜ìš”? ê±±ì • ë§ˆì„¸ìš”. Litì€ `css`ë¼ëŠ” íŠ¹ìˆ˜ í•¨ìˆ˜ë¥¼ í†µí•´ ì•„ë¦„ë‹¤ìš´ ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ë‚˜ì¤‘ì— ì—¬ëŸ¬ë¶„ì´ í”„ë¡œì íŠ¸ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì„ ë•Œ, ì´ `app.ts` íŒŒì¼ì˜ `css` ë¶€ë¶„ë§Œ ê±´ë“œë¦¬ë©´ **ë‹¤í¬ ëª¨ë“œ**ë‚˜ **ì• ë‹ˆë©”ì´ì…˜**ë„ ì†ì‰½ê²Œ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 6. ê²°ë¡  ë° í´ë¡  ì „ëµ (Roadmap to Success)

ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ëŠ” OpenClaw(Moltbot)ì˜ ê±°ëŒ€í•œ ì„¤ê³„ë„ë¥¼ **ì¤€ë¹„ -> ê¸°ì´ˆ -> ì¥ê¸° -> ë‡Œ -> ì–¼êµ´** ìˆœìœ¼ë¡œ í•´ë¶€í•´ ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ê±°ëŒ€í•œ ì½”ë¼ë¦¬ë¥¼ í•œ ë²ˆì— ì‚¼í‚¤ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ **"ë¶€ìœ„ë³„ë¡œ ì¡°ë¦½"** í•˜ë©´ ëˆ„êµ¬ë‚˜ ìì‹ ë§Œì˜ ì—ì´ì „íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 6-1. [ì¶”ì²œ] 4ë‹¨ê³„ í´ë¡  ë§ˆì¼ìŠ¤í†¤

1.  **[1ì£¼ ì°¨] ìœ ë ¹ ì„œë²„ ë„ìš°ê¸° (Scaffold)**:
    *   `pnpm init`ë¶€í„° `server.ts`ì˜ ê»ë°ê¸°ë§Œ ë§Œë“œì„¸ìš”.
    *   ë¸Œë¼ìš°ì €ì—ì„œ `ok` ê¸€ì í•˜ë‚˜ ë„ìš°ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì—¬ëŸ¬ë¶„ì€ ìƒìœ„ 10% ê°œë°œìì…ë‹ˆë‹¤.

2.  **[2ì£¼ ì°¨] ê°€ì§œ ì±„ë„ê³¼ ëŒ€í™”í•˜ê¸° (Mocking)**:
    *   ì§„ì§œ WhatsAppì„ ì—°ê²°í•˜ê¸° ì „ì—, í„°ë¯¸ë„(CLI)ì— ê¸€ì„ ì¹˜ë©´ ë´‡ì´ ëŒ€ë‹µí•˜ê²Œ ë§Œë“œì„¸ìš”.
    *   **í•µì‹¬**: ë³µì¡í•œ í†µì‹  ëª¨ë“ˆ(Baileys)ì„ ë°°ì œí•˜ê³  **ìˆœìˆ˜ ë¡œì§**ë§Œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê¸°ê°„ì…ë‹ˆë‹¤.

3.  **[3ì£¼ ì°¨] ë‡Œ(AI) ì´ì‹í•˜ê¸° (Integration)**:
    *   LangChainì´ë‚˜ OpenAI APIë¥¼ ì—°ê²°í•˜ì„¸ìš”.
    *   ì´ì œ ë´‡ì´ "ì•Œê² ìŠµë‹ˆë‹¤" ëŒ€ì‹  ì§„ì§œ ìƒê°ì„ í•˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤.

4.  **[4ì£¼ ì°¨] ì§„ì§œ ì„¸ìƒìœ¼ë¡œ (Deployment)**:
    *   QR ì½”ë“œë¥¼ ì°ì–´ WhatsAppì— ì—°ê²°í•˜ê³ , ë¼ì¦ˆë² ë¦¬ íŒŒì´ë‚˜ í´ë¼ìš°ë“œì— ì„œë²„ë¥¼ ë°°í¬í•˜ì„¸ìš”.
    *   ì¹œêµ¬ë“¤ì—ê²Œ ë§í¬ë¥¼ ê³µìœ í•˜ê³  ë´‡ì´ ëŒ€ë‹µí•˜ëŠ” ëª¨ìŠµì„ ì§€ì¼œë³´ì„¸ìš”.

### 6-2. ë§ˆì§€ë§‰ í•œ ë§ˆë”” (Closing Thought)

ë¦¬ë²„ìŠ¤ ì—”ì§€ë‹ˆì–´ë§ì€ ë‹¨ìˆœíˆ ë‚¨ì˜ ì½”ë“œë¥¼ í›”ì³ë³´ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. **"ì´ ì‚¬ëŒì€ ì™œ ì—¬ê¸°ì„œ ì´ ê³ ë¯¼ì„ í–ˆì„ê¹Œ?"** ë¼ê³  ê±°ì¥ê³¼ ëŒ€í™”í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

ì–´ë µê³  ì—ëŸ¬ê°€ ë‚˜ë”ë¼ë„ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”. ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ì—¬ëŸ¬ë¶„ì—ê²Œ **"ì‚¬ë ¹ê´€ë‹˜, ì´ ë¶€ë¶„ì˜ ë³´ê¸‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤!"** ë¼ê³  ì™¸ì¹˜ëŠ” ì „ë³´ì™€ ê°™ìŠµë‹ˆë‹¤. í•˜ë‚˜ì”© í•´ê²°í•˜ë‹¤ ë³´ë©´ ì–´ëŠë§ ì—¬ëŸ¬ë¶„ì€ AI ì‹œëŒ€ë¥¼ ì´ëŒì–´ê°ˆ **ìµœê³  ìˆ˜ì¤€ì˜ ì‹œìŠ¤í…œ ì•„í‚¤í…íŠ¸**ê°€ ë˜ì–´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

**ì, ì´ì œ ì´ë¡ ì€ ëë‚¬ìŠµë‹ˆë‹¤. í„°ë¯¸ë„ì„ ì¼œê³  ì²« ë²ˆì§¸ ëª…ë ¹ì–´ë¥¼ ì¹˜ì‹­ì‹œì˜¤!**

---
